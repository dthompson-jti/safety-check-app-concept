import{j as e,n as B,o as z,O as K,p as J,l as G,m as Q}from"./vendor-ui-Cnq7BlVG.js";import{R as W,a as r,e as q,u as X}from"./vendor-react-B_tfjPbg.js";import{a5 as Y,a6 as Z,B as I,A as $,b as ee,H as se,o as oe}from"./main-wi2izcOQ.js";import{u as te,f as b}from"./useScrollToFocused-Crgc76CO.js";import{m as a}from"./vendor-heavy-Bn5Puirq.js";const A=W.forwardRef(({isInvalid:t,...c},n)=>e.jsx("input",{ref:n,...c,"data-invalid":t})),p=({isOpen:t,onClose:c,children:n,width:_="auto",height:l="auto",title:u,description:i})=>e.jsx(B,{open:t,onOpenChange:h=>!h&&c(),children:e.jsxs(z,{children:[e.jsx(K,{className:"modal-backdrop"}),e.jsxs(J,{className:"modal-container",style:{width:_,height:l},onEscapeKeyDown:c,children:[e.jsx(G,{className:"visually-hidden",children:u}),i&&e.jsx(Q,{className:"visually-hidden",children:i}),n]})]})}),re=({children:t})=>e.jsx("div",{className:"modal-header",children:t}),ae=({children:t})=>e.jsx("div",{className:"modal-content",children:t}),ne=({children:t})=>e.jsx("div",{className:"modal-footer",children:t});p.Header=re;p.Content=ae;p.Footer=ne;const ie="_viewportStack_qekix_15",le="_scrollableContent_qekix_53",ce="_loginFormCard_qekix_95",de="_appTitle_qekix_131",me="_shortcutIcon_qekix_191",pe="_formFields_qekix_225",ue="_supportLink_qekix_243",he="_envDisplayTop_qekix_285",xe="_errorMessage_qekix_315",fe="_formError_qekix_329",ve="_formErrorText_qekix_365",_e="_formErrorTitle_qekix_377",ye="_formErrorDetails_qekix_389",ge="_pageFooter_qekix_413",je="_footerLinks_qekix_437",Ce="_footerSeparator_qekix_465",ke="_footerData_qekix_475",Ne="_versionDisplay_qekix_489",Te="_copyright_qekix_503",Ee="_modalBodyLayout_qekix_517",Se="_modalTextContent_qekix_525",we="_infoNote_qekix_561",s={viewportStack:ie,scrollableContent:le,loginFormCard:ce,appTitle:de,shortcutIcon:me,formFields:pe,supportLink:ue,envDisplayTop:he,errorMessage:xe,formError:fe,formErrorText:ve,formErrorTitle:_e,formErrorDetails:ye,pageFooter:ge,footerLinks:je,footerSeparator:Ce,footerData:ke,versionDisplay:Ne,copyright:Te,modalBodyLayout:Ee,modalTextContent:Se,infoNote:we},Fe=()=>{const[t,c]=r.useState(""),[n,_]=r.useState(""),[l,u]=r.useState(""),[i,h]=r.useState(""),[x,d]=r.useState(""),[y,f]=r.useState(""),[F,g]=r.useState(!1),[j,N]=r.useState(!1),[L,P]=r.useState(!1),[M,v]=r.useState(!1),T=q(oe),E=q(se),S=X(ee),w=r.useRef(null);te({containerRef:w,offset:20});const R=o=>{o.preventDefault(),N(!0),u(""),h(""),d(""),f("");let k=!1;if(t.trim()===""&&(u("Username is required."),k=!0),n.trim()===""&&(h("Password is required."),k=!0),k)return;if(t.trim().toLowerCase()==="jsiemens"&&n.trim().toUpperCase()==="VPN"){v(!0),setTimeout(()=>{v(!1),d("Access Denied"),f("Check your VPN connection or account permissions, then try again.")},500);return}if(n.trim()!=="test"){d("Incorrect username or password.");return}const D=b(t.trim());D?(v(!0),setTimeout(()=>{E({type:"RESET_DATA"}),T({isAuthenticated:!0,user:D})},500)):d("Incorrect username or password.")},H=()=>{P(!0);const o=b("dthompson");o&&(v(!0),setTimeout(()=>{E({type:"RESET_DATA"}),T({isAuthenticated:!0,user:o})},500))},U=o=>{c(o),l&&u(""),x&&(d(""),f(""))},V=o=>{_(o),i&&h(""),x&&(d(""),f(""))},C={x:[0,-8,8,-8,8,0],transition:{duration:.4}},O={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},m={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.3}}};return e.jsxs(e.Fragment,{children:[e.jsxs(a.div,{className:s.viewportStack,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[S.showEnvironmentName&&e.jsx("div",{className:s.envDisplayTop,children:S.environmentName||"https://vicbc-qa-symphony.logan-symphony.com"}),e.jsxs("div",{className:s.scrollableContent,ref:w,children:[e.jsxs(a.div,{className:s.loginFormCard,variants:O,initial:"hidden",animate:"visible",children:[e.jsxs("div",{className:s.appTitle,children:[e.jsx(a.div,{layoutId:L?void 0:"app-logo",children:e.jsx(Y,{size:144,className:s.shortcutIcon,onClick:H,title:"Developer Shortcut Login"})}),e.jsx(a.h3,{variants:m,children:"Safeguard"})]}),e.jsxs(a.form,{onSubmit:R,className:s.formFields,noValidate:!0,variants:m,children:[e.jsx(a.div,{animate:j&&x?C:{},onAnimationComplete:()=>N(!1),children:x&&e.jsxs("div",{className:s.formError,"data-has-details":!!y,children:[e.jsx(Z,{size:20}),e.jsxs("div",{className:s.formErrorText,children:[e.jsx("span",{className:s.formErrorTitle,children:x}),y&&e.jsx("span",{className:s.formErrorDetails,children:y})]})]})}),e.jsxs(a.div,{variants:m,animate:j&&l?C:{},children:[e.jsx(A,{type:"text",placeholder:"Username","aria-label":"Username",value:t,onChange:o=>U(o.target.value),isInvalid:!!l,autoFocus:!0,autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,autoComplete:"username",enterKeyHint:"next",className:s.usernameInput}),l&&e.jsx("div",{className:s.errorMessage,children:l})]}),e.jsxs(a.div,{variants:m,animate:j&&i?C:{},children:[e.jsx(A,{type:"password",placeholder:"Password","aria-label":"Password",value:n,onChange:o=>V(o.target.value),isInvalid:!!i,autoCapitalize:"none",autoCorrect:"off",autoComplete:"current-password",enterKeyHint:"go"}),i&&e.jsx("div",{className:s.errorMessage,children:i})]}),e.jsx(a.div,{variants:m,children:e.jsx(I,{type:"submit",variant:"primary",size:"m",loading:M,loadingText:"Signing in...",style:{width:"100%",marginTop:"var(--spacing-2)"},children:"Log In"})}),e.jsx(a.div,{variants:m,className:s.supportLink,children:e.jsx("button",{type:"button",onClick:()=>g(!0),children:"Trouble signing in?"})})]})]}),e.jsxs("footer",{className:s.pageFooter,children:[e.jsx("div",{className:s.footerData,children:e.jsxs("div",{className:s.versionDisplay,children:["v",$.replace("v","")]})}),e.jsxs("p",{className:s.footerLinks,children:[e.jsx("a",{href:"#",onClick:o=>o.preventDefault(),children:"Privacy Policy"}),e.jsx("span",{className:s.footerSeparator,children:"·"}),e.jsx("a",{href:"#",onClick:o=>o.preventDefault(),children:"Terms of Use"})]}),e.jsx("p",{className:s.copyright,children:"© 2025 Journal Technologies Inc."})]})]})]},"login-view"),e.jsxs(p,{isOpen:F,onClose:()=>g(!1),title:"How to Sign In",width:"90%",height:"auto",description:"Information on how to sign in to the prototype application.",children:[e.jsx(p.Content,{children:e.jsx("div",{className:s.modalBodyLayout,children:e.jsxs("div",{className:s.modalTextContent,children:[e.jsx("h3",{children:"How to Sign In"}),e.jsx("p",{children:"To sign-in, use your eSeries credentials. To change your password, go to eSeries and select reset password."}),e.jsxs("div",{className:s.infoNote,"data-appearance-type":"tertiary","data-bordered":"true",children:[e.jsx("h4",{children:"Password & Account Help"}),e.jsxs("ul",{children:[e.jsx("li",{children:"This prototype does not support actual password resets."}),e.jsx("li",{children:"In a production environment, this section would contain agency-specific instructions or links to a self-service portal."})]})]})]})})}),e.jsx(p.Footer,{children:e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(I,{variant:"secondary",onClick:()=>g(!1),style:{width:"100%"},children:"Close"})})})]})]})};export{Fe as LoginView};
