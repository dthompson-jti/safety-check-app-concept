import{j as e,l as L,m as M,O as R,n as P,q as H,r as U}from"./vendor-ui-C1BV0v1p.js";import{R as B,a,f as N}from"./vendor-react-YcdXIm5z.js";import{C as D,o as O}from"./index-40hOTZfv.js";import{u as V,B as T,f as F}from"./useScrollToFocused-CKAUjrHr.js";import{m as h}from"./vendor-heavy-CvwPKJkl.js";const E=B.forwardRef(({isInvalid:o,...l},n)=>e.jsx("input",{ref:n,...l,"data-invalid":o})),c=({isOpen:o,onClose:l,children:n,width:x="auto",height:i="auto",title:d,description:r})=>e.jsx(L,{open:o,onOpenChange:m=>!m&&l(),children:e.jsxs(M,{children:[e.jsx(R,{className:"modal-backdrop"}),e.jsxs(P,{className:"modal-container",style:{width:x,height:i},onEscapeKeyDown:l,children:[e.jsx(H,{className:"visually-hidden",children:d}),r&&e.jsx(U,{className:"visually-hidden",children:r}),n]})]})}),z=({children:o})=>e.jsx("div",{className:"modal-header",children:o}),J=({children:o})=>e.jsx("div",{className:"modal-content",children:o}),K=({children:o})=>e.jsx("div",{className:"modal-footer",children:o});c.Header=z;c.Content=J;c.Footer=K;const $="_viewportStack_ylxq4_15",G="_scrollableContent_ylxq4_49",Q="_loginFormCard_ylxq4_91",W="_appTitle_ylxq4_125",X="_shortcutIcon_ylxq4_181",Y="_formFields_ylxq4_209",Z="_supportLink_ylxq4_223",ee="_errorMessage_ylxq4_265",se="_formError_ylxq4_279",oe="_pageFooter_ylxq4_321",te="_footerSeparator_ylxq4_375",re="_modalBodyLayout_ylxq4_387",ae="_modalTextContent_ylxq4_389",ne="_infoNote_ylxq4_395",s={viewportStack:$,scrollableContent:G,loginFormCard:Q,appTitle:W,shortcutIcon:X,formFields:Y,supportLink:Z,errorMessage:ee,formError:se,pageFooter:oe,footerSeparator:te,modalBodyLayout:re,modalTextContent:ae,infoNote:ne},pe=()=>{const[o,l]=a.useState(""),[n,x]=a.useState(""),[i,d]=a.useState(""),[r,m]=a.useState(""),[p,u]=a.useState(""),[q,f]=a.useState(!1),[y,g]=a.useState(!1),v=N(O),w=N(D),C=a.useRef(null);V({containerRef:C,offset:20});const I=t=>{t.preventDefault(),g(!0),d(""),m(""),u("");let _=!1;if(o.trim()===""&&(d("Username is required."),_=!0),n.trim()===""&&(m("Password is required."),_=!0),_)return;if(n.trim()!=="test"){u("Incorrect username or password.");return}const S=F(o.trim());S?(w({type:"RESET_DATA"}),v({isAuthenticated:!0,user:S})):u("Incorrect username or password.")},A=()=>{const t=F("dthompson");t&&(w({type:"RESET_DATA"}),v({isAuthenticated:!0,user:t}))},k=t=>{l(t),i&&d(""),p&&u("")},b=t=>{x(t),r&&m(""),p&&u("")},j={x:[0,-8,8,-8,8,0],transition:{duration:.4}};return e.jsxs(e.Fragment,{children:[e.jsx(h.div,{className:s.viewportStack,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:e.jsxs("div",{className:s.scrollableContent,ref:C,children:[e.jsxs("div",{className:s.loginFormCard,children:[e.jsxs("div",{className:s.appTitle,children:[e.jsx("span",{className:`material-symbols-rounded ${s.shortcutIcon}`,onClick:A,title:"Developer Shortcut Login",children:"shield"}),e.jsx("h3",{children:"Safeguard"})]}),e.jsxs("form",{onSubmit:I,className:s.formFields,noValidate:!0,children:[e.jsx(h.div,{animate:y&&p?j:{},onAnimationComplete:()=>g(!1),children:p&&e.jsxs("div",{className:s.formError,children:[e.jsx("span",{className:"material-symbols-rounded",children:"dangerous"}),e.jsx("span",{children:p})]})}),e.jsxs(h.div,{animate:y&&i?j:{},children:[e.jsx(E,{type:"text",placeholder:"Username",value:o,onChange:t=>k(t.target.value),isInvalid:!!i,autoFocus:!0}),i&&e.jsx("div",{className:s.errorMessage,children:i})]}),e.jsxs(h.div,{animate:y&&r?j:{},children:[e.jsx(E,{type:"password",placeholder:"Password",value:n,onChange:t=>b(t.target.value),isInvalid:!!r}),r&&e.jsx("div",{className:s.errorMessage,children:r})]}),e.jsx(T,{type:"submit",variant:"primary",size:"m",style:{width:"100%",marginTop:"8px"},children:"Log In"}),e.jsx("div",{className:s.supportLink,children:e.jsx("button",{type:"button",onClick:()=>f(!0),children:"Trouble signing in?"})})]})]}),e.jsxs("footer",{className:s.pageFooter,children:[e.jsx("p",{children:"© Journal Technologies 2025."}),e.jsxs("p",{children:[e.jsx("a",{href:"#privacy",children:"Privacy Policy"}),e.jsx("span",{className:s.footerSeparator,children:"·"}),e.jsx("a",{href:"#terms",children:"Terms of Use"})]})]})]})},"login-view"),e.jsxs(c,{isOpen:q,onClose:()=>f(!1),title:"How to Sign In",width:"90%",height:"auto",description:"Information on how to sign in to the prototype application.",children:[e.jsx(c.Content,{children:e.jsx("div",{className:s.modalBodyLayout,children:e.jsxs("div",{className:s.modalTextContent,children:[e.jsx("h3",{children:"How to Sign In"}),e.jsx("p",{children:"To sign-in, use your eSeries credentials. To change your password, go to eSeries and select reset password."}),e.jsxs("div",{className:s.infoNote,"data-appearance-type":"tertiary","data-bordered":"true",children:[e.jsx("h4",{children:"Password & Account Help"}),e.jsxs("ul",{children:[e.jsx("li",{children:"This prototype does not support actual password resets."}),e.jsx("li",{children:"In a production environment, this section would contain agency-specific instructions or links to a self-service portal."})]})]})]})})}),e.jsx(c.Footer,{children:e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(T,{variant:"secondary",onClick:()=>f(!1),style:{width:"100%"},children:"Close"})})})]})]})};export{pe as LoginView};
