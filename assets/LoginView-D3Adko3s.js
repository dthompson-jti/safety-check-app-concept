import{j as e,n as B,o as z,O as q,p as K,l as J,m as G}from"./vendor-ui-Cnq7BlVG.js";import{R as Q,a,e as C,u as W}from"./vendor-react-B_tfjPbg.js";import{a5 as X,a6 as Y,B as k,A as Z,b as $,H as ee,o as se,x as te}from"./main-sBEmjmRE.js";import{u as oe,f as E}from"./useScrollToFocused-Crgc76CO.js";import{m as n}from"./vendor-heavy-Bn5Puirq.js";const A=Q.forwardRef(({isInvalid:o,...c},r)=>e.jsx("input",{ref:r,...c,"data-invalid":o})),p=({isOpen:o,onClose:c,children:r,width:x="auto",height:l="auto",title:m,description:i})=>e.jsx(B,{open:o,onOpenChange:u=>!u&&c(),children:e.jsxs(z,{children:[e.jsx(q,{className:"modal-backdrop"}),e.jsxs(K,{className:"modal-container",style:{width:x,height:l},onEscapeKeyDown:c,children:[e.jsx(J,{className:"visually-hidden",children:m}),i&&e.jsx(G,{className:"visually-hidden",children:i}),r]})]})}),ae=({children:o})=>e.jsx("div",{className:"modal-header",children:o}),ne=({children:o})=>e.jsx("div",{className:"modal-content",children:o}),re=({children:o})=>e.jsx("div",{className:"modal-footer",children:o});p.Header=ae;p.Content=ne;p.Footer=re;const ie="_viewportStack_12be5_15",le="_scrollableContent_12be5_53",ce="_loginFormCard_12be5_95",de="_appTitle_12be5_131",pe="_shortcutIcon_12be5_191",me="_formFields_12be5_225",ue="_supportLink_12be5_243",he="_envDisplayTop_12be5_285",fe="_errorMessage_12be5_315",ve="_formError_12be5_329",xe="_pageFooter_12be5_371",ye="_footerLinks_12be5_395",ge="_footerSeparator_12be5_423",_e="_footerData_12be5_433",je="_versionDisplay_12be5_447",Ce="_copyright_12be5_461",be="_modalBodyLayout_12be5_475",Ne="_modalTextContent_12be5_483",we="_infoNote_12be5_519",s={viewportStack:ie,scrollableContent:le,loginFormCard:ce,appTitle:de,shortcutIcon:pe,formFields:me,supportLink:ue,envDisplayTop:he,errorMessage:fe,formError:ve,pageFooter:xe,footerLinks:ye,footerSeparator:ge,footerData:_e,versionDisplay:je,copyright:Ce,modalBodyLayout:be,modalTextContent:Ne,infoNote:we},Ae=()=>{const[o,c]=a.useState(""),[r,x]=a.useState(""),[l,m]=a.useState(""),[i,u]=a.useState(""),[h,f]=a.useState(""),[D,y]=a.useState(!1),[g,b]=a.useState(!1),[F,L]=a.useState(!1),[P,v]=a.useState(!1),N=C(se),w=C(ee),S=W($),T=a.useRef(null);oe({containerRef:T,offset:20});const M=C(te),R=t=>{t.preventDefault(),b(!0),m(""),u(""),f("");let j=!1;if(o.trim()===""&&(m("Username is required."),j=!0),r.trim()===""&&(u("Password is required."),j=!0),j)return;if(o.trim().toLowerCase()==="jsiemens"&&r.trim().toUpperCase()==="VPN"){v(!0),setTimeout(()=>{v(!1),M({stableId:"vpn-error",message:"Access Denied",details:"Check your VPN connection or account permissions, then try again.",icon:"vpn_lock",variant:"alert",persistent:!0})},500);return}if(r.trim()!=="test"){f("Incorrect username or password.");return}const I=E(o.trim());I?(v(!0),setTimeout(()=>{w({type:"RESET_DATA"}),N({isAuthenticated:!0,user:I})},500)):f("Incorrect username or password.")},H=()=>{L(!0);const t=E("dthompson");t&&(v(!0),setTimeout(()=>{w({type:"RESET_DATA"}),N({isAuthenticated:!0,user:t})},500))},U=t=>{c(t),l&&m(""),h&&f("")},V=t=>{x(t),i&&u(""),h&&f("")},_={x:[0,-8,8,-8,8,0],transition:{duration:.4}},O={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},d={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.3}}};return e.jsxs(e.Fragment,{children:[e.jsxs(n.div,{className:s.viewportStack,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:[S.showEnvironmentName&&e.jsx("div",{className:s.envDisplayTop,children:S.environmentName||"https://vicbc-qa-symphony.logan-symphony.com"}),e.jsxs("div",{className:s.scrollableContent,ref:T,children:[e.jsxs(n.div,{className:s.loginFormCard,variants:O,initial:"hidden",animate:"visible",children:[e.jsxs("div",{className:s.appTitle,children:[e.jsx(n.div,{layoutId:F?void 0:"app-logo",children:e.jsx(X,{size:144,className:s.shortcutIcon,onClick:H,title:"Developer Shortcut Login"})}),e.jsx(n.h3,{variants:d,children:"Safeguard"})]}),e.jsxs(n.form,{onSubmit:R,className:s.formFields,noValidate:!0,variants:d,children:[e.jsx(n.div,{animate:g&&h?_:{},onAnimationComplete:()=>b(!1),children:h&&e.jsxs("div",{className:s.formError,children:[e.jsx(Y,{size:20}),e.jsx("span",{children:h})]})}),e.jsxs(n.div,{variants:d,animate:g&&l?_:{},children:[e.jsx(A,{type:"text",placeholder:"Username","aria-label":"Username",value:o,onChange:t=>U(t.target.value),isInvalid:!!l,autoFocus:!0,autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,autoComplete:"username",enterKeyHint:"next",className:s.usernameInput}),l&&e.jsx("div",{className:s.errorMessage,children:l})]}),e.jsxs(n.div,{variants:d,animate:g&&i?_:{},children:[e.jsx(A,{type:"password",placeholder:"Password","aria-label":"Password",value:r,onChange:t=>V(t.target.value),isInvalid:!!i,autoCapitalize:"none",autoCorrect:"off",autoComplete:"current-password",enterKeyHint:"go"}),i&&e.jsx("div",{className:s.errorMessage,children:i})]}),e.jsx(n.div,{variants:d,children:e.jsx(k,{type:"submit",variant:"primary",size:"m",loading:P,loadingText:"Signing in...",style:{width:"100%",marginTop:"var(--spacing-2)"},children:"Log In"})}),e.jsx(n.div,{variants:d,className:s.supportLink,children:e.jsx("button",{type:"button",onClick:()=>y(!0),children:"Trouble signing in?"})})]})]}),e.jsxs("footer",{className:s.pageFooter,children:[e.jsx("div",{className:s.footerData,children:e.jsxs("div",{className:s.versionDisplay,children:["v",Z.replace("v","")]})}),e.jsxs("p",{className:s.footerLinks,children:[e.jsx("a",{href:"#",onClick:t=>t.preventDefault(),children:"Privacy Policy"}),e.jsx("span",{className:s.footerSeparator,children:"·"}),e.jsx("a",{href:"#",onClick:t=>t.preventDefault(),children:"Terms of Use"})]}),e.jsx("p",{className:s.copyright,children:"© 2025 Journal Technologies Inc."})]})]})]},"login-view"),e.jsxs(p,{isOpen:D,onClose:()=>y(!1),title:"How to Sign In",width:"90%",height:"auto",description:"Information on how to sign in to the prototype application.",children:[e.jsx(p.Content,{children:e.jsx("div",{className:s.modalBodyLayout,children:e.jsxs("div",{className:s.modalTextContent,children:[e.jsx("h3",{children:"How to Sign In"}),e.jsx("p",{children:"To sign-in, use your eSeries credentials. To change your password, go to eSeries and select reset password."}),e.jsxs("div",{className:s.infoNote,"data-appearance-type":"tertiary","data-bordered":"true",children:[e.jsx("h4",{children:"Password & Account Help"}),e.jsxs("ul",{children:[e.jsx("li",{children:"This prototype does not support actual password resets."}),e.jsx("li",{children:"In a production environment, this section would contain agency-specific instructions or links to a self-service portal."})]})]})]})})}),e.jsx(p.Footer,{children:e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(k,{variant:"secondary",onClick:()=>y(!1),style:{width:"100%"},children:"Close"})})})]})]})};export{Ae as LoginView};
