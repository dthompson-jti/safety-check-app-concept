import{j as n,a as Oa,b as La,T as Ba,c as Da,d as za,A as $a,e as Pa,f as Fa,g as Wa,h as Va,i as Ga,I as Ua,k as qa,l as Xa,m as Ya,O as Ka,n as Qa,o as Ja,p as Za}from"./vendor-ui-C1BV0v1p.js";import{e as G,a as M,f as te,u as se,R as S,d as Kt}from"./vendor-react-YcdXIm5z.js";import{s as bo,f as er,t as tr,a as Wt,w as It,r as yo,b as et,c as xs,d as nr,i as Co,e as Fs,g as sr,h as or,p as ar,j as ls,k as _o,l as So,m as jo,n as ws,o as Pt,q as bs,u as ys,v as rr,x as gn,y as ir,z as Cs,A as Io,B as _s,C as Vn,D as vn,E as Ss,F as lr,G as cr,H as To,I as ko,J as dr,K as ur,L as mr,M as No,N as Ro,O as hr,P as fr,Q as pr,R as gr,S as vr,T as xr,U as Eo,V as wr,W as br,X as yr}from"./index-CN3nzHTT.js";import{m as we,A as St,u as Cr,a as Ws,b as Qn,c as Nn}from"./vendor-heavy-CvwPKJkl.js";import{B as he,g as js,a as _r,u as Sr}from"./useScrollToFocused-CKAUjrHr.js";const jr=(e,t)=>{const s=(e.getTime()-t)/1e3;if(s<0){const l=Math.abs(s)/60,c=Math.floor(l/60),m=Math.floor(l%60);if(l<1)return"Overdue";const u=[];return c>0&&u.push(`${c}h`),m>0&&u.push(`${m}m`),`Overdue ${u.join(" ")}`}if(s<60)return`${Math.max(0,s).toFixed(1)}s`;if(s<300){const l=Math.floor(s/60),c=Math.floor(s%60);return`${l}m ${String(c).padStart(2,"0")}s`}if(s<3600)return`${Math.ceil(s/60)}m`;const o=s/60,a=Math.floor(o/60),r=Math.round(o%60),i=[];return a>0&&i.push(`${a}h`),r>0&&i.push(`${r}m`),i.join(" ")},Ir=(e,t)=>{const s=t==="early"||t==="pending"||t==="due"||t==="missed",o=Date.now(),a=(e.getTime()-o)/1e3;let r=bo;t!=="missed"&&(a<60&&a>-60?r=er:a<300&&(r=tr));const i=G(r);if(!s)return"";if(t==="missed"){const l=(i-e.getTime())/1e3,c=Math.floor(l/60),m=Math.floor(c/60),u=c%60;if(c<1)return"Overdue";const f=[];return m>0&&f.push(`${m}h`),u>0&&f.push(`${u}m`),`Overdue ${f.join(" ")}`}return jr(e,i)},Tr="_badge_15b9s_5",kr="_badgeIcon_15b9s_37",Nr="_badgePulse_15b9s_161",Rr="_badgeInvert_15b9s_193",Er="_badgeInvertForCard_15b9s_215",Zt={badge:Tr,badgeIcon:kr,badgePulse:Nr,badgeInvert:Rr,badgeInvertForCard:Er},Hr=1200,Ar=e=>{switch(e){case"due":return{label:"Due",icon:"schedule"};case"missed":return{label:"Missed",icon:"notifications_active"};case"completing":return{label:"Completed",icon:"check_circle"};case"complete":return{label:"Completed",icon:"check_circle"};case"queued":return{label:"Queued",icon:"cloud_off"};default:return{label:"",icon:null}}},Mr=(e,t)=>{const s=new Date(e).getTime(),o=(t-s)/(60*1e3),a=Math.max(1,Math.ceil(o/15));return a===1?"Missed":`${a} Missed`},Or=({status:e,type:t,dueDate:s})=>{const o=G(bo),{feat_badge_mode:a,feat_invert_badge:r,feat_invert_card:i}=G(Wt),l=M.useMemo(()=>-(Date.now()%Hr),[]);if(e==="pending"||e==="early")return null;const c=Ar(e);let m=c.label,u=e;t==="supplemental"&&(m="Supplemental",u="supplemental"),e==="missed"&&s&&(m=Mr(s,o));const f=e==="missed"&&r&&!i,d=e==="missed"&&i,x=a==="pulse"&&e==="missed",g=[Zt.badge,x?Zt.badgePulse:"",f?Zt.badgeInvert:"",d?Zt.badgeInvertForCard:""].filter(Boolean).join(" "),p=x?{animationDelay:`${l}ms`}:void 0;return n.jsxs("div",{className:g,"data-status":u,style:p,children:[c.icon&&n.jsx("span",{className:`material-symbols-rounded ${Zt.badgeIcon}`,children:c.icon}),m]})},Lr="_checkCard_z96df_117",Br="_statusIndicator_z96df_273",Dr="_mainContent_z96df_323",zr="_topRow_z96df_339",$r="_bottomRow_z96df_353",Pr="_locationInfo_z96df_367",Fr="_locationText_z96df_381",Wr="_residentList_z96df_399",Vr="_residentListItem_z96df_421",Gr="_warningIcon_z96df_443",Ur="_timeDisplay_z96df_455",qr="_cardGradient_z96df_529",Xr="_cardBorder_z96df_603",Yr="_cardHazard_z96df_643",Kr="_cardPulseBasic_z96df_707",Qr="_cardPulseGradient_z96df_741",Jr="_cardInvert_z96df_889",Ae={checkCard:Lr,statusIndicator:Br,mainContent:Dr,topRow:zr,bottomRow:$r,locationInfo:Pr,locationText:Fr,residentList:Wr,residentListItem:Vr,warningIcon:Gr,timeDisplay:Ur,cardGradient:qr,cardBorder:Xr,cardHazard:Yr,cardPulseBasic:Kr,cardPulseGradient:Qr,cardInvert:Jr},Zr=({resident:e,check:t})=>{const s=t.specialClassifications?.some(o=>o.residentId===e.id);return n.jsxs("li",{className:Ae.residentListItem,children:[s&&n.jsx("span",{className:`material-symbols-rounded ${Ae.warningIcon}`,children:"warning"}),e.name]})},ei=({check:e,transition:t})=>{const s=te(It),o=G(yo),{showStatusIndicators:a}=G(et),{feat_card_pulse:r,feat_card_gradient:i,feat_card_border:l,feat_hazard_texture:c,feat_invert_card:m}=G(Wt),u=o===e.id,f=1200,d=M.useMemo(()=>-(Date.now()%f),[]),x=M.useMemo(()=>new Date(e.dueDate),[e.dueDate]),g=Ir(x,e.status),p=!["complete","supplemental","completing","queued"].includes(e.status),w=()=>{p&&s({view:"form",type:"scheduled",method:"manual",checkId:e.id,roomName:e.residents[0].location,residents:e.residents,specialClassifications:e.specialClassifications})},{residents:h}=e,v=h[0]?.location||"N/A",j=!["complete","supplemental","completing","queued"].includes(e.status),_=e.status==="missed",y=_&&r==="basic"?Ae.cardPulseBasic:_&&r==="gradient"?Ae.cardPulseGradient:"",C=_&&r==="none"&&i?Ae.cardGradient:"",b=_&&(r!=="none"||i||l||c),I=[Ae.checkCard,u?Ae.isCompleting:"",y,C,_&&l?Ae.cardBorder:"",_&&c?Ae.cardHazard:"",_&&m?Ae.cardInvert:""].filter(Boolean).join(" "),T=b?{animationDelay:`${d}ms`}:void 0;return n.jsx(we.div,{initial:{height:"auto",marginBottom:"var(--space-3)"},animate:{height:"auto",marginBottom:"var(--space-3)"},exit:{height:0,marginBottom:0,overflow:"hidden",transition:{delay:.1,duration:.2,ease:"linear"}},children:n.jsxs(we.div,{transition:t,initial:{opacity:0,x:0},animate:{opacity:1,x:0},exit:{x:"100%",opacity:0,transition:{x:{duration:.2,ease:[.25,1,.5,1]},opacity:{duration:.2,ease:"easeOut"}}},className:I,style:T,"data-status":e.status,"data-check-id":e.id,"data-indicators-visible":a,onClick:w,"aria-disabled":!p,whileTap:p?{scale:.98}:{},children:[a&&j&&n.jsx("div",{className:Ae.statusIndicator,"data-status":e.status}),n.jsxs("div",{className:Ae.mainContent,children:[n.jsxs("div",{className:Ae.topRow,children:[n.jsx("div",{className:Ae.locationInfo,children:n.jsx("span",{className:Ae.locationText,children:v})}),n.jsx(Or,{status:e.status,type:e.type,dueDate:e.dueDate})]}),n.jsxs("div",{className:Ae.bottomRow,children:[n.jsx("ul",{className:Ae.residentList,children:h.map(A=>n.jsx(Zr,{resident:A,check:e},A.id))}),n.jsx("div",{className:Ae.timeDisplay,children:p?g:null})]})]})]})})},ti="_shimmer_2k4yv_23",ni="_cardWrapper_2k4yv_49",si="_indicator_2k4yv_89",oi="_mainContent_2k4yv_109",ai="_topRow_2k4yv_123",ri="_bottomRow_2k4yv_125",ii="_location_2k4yv_153",li="_badge_2k4yv_155",ci="_resident_2k4yv_157",di="_residentShort_2k4yv_159",ut={shimmer:ti,cardWrapper:ni,indicator:si,mainContent:oi,topRow:ai,bottomRow:ri,location:ii,badge:li,resident:ci,residentShort:di},ui=()=>n.jsxs("div",{className:ut.cardWrapper,children:[n.jsx("div",{className:ut.shimmer}),n.jsx("div",{className:ut.indicator}),n.jsxs("div",{className:ut.mainContent,children:[n.jsxs("div",{className:ut.topRow,children:[n.jsx("div",{className:ut.location}),n.jsx("div",{className:ut.badge})]}),n.jsxs("div",{className:ut.bottomRow,children:[n.jsx("div",{className:ut.resident}),n.jsx("div",{className:ut.residentShort})]})]})]}),mi="_emptyStateContainer_f4o6k_3",hi="_emptyStateMessage_f4o6k_47",Rn={emptyStateContainer:mi,emptyStateMessage:hi},cs=({icon:e="search_off",title:t,message:s,action:o})=>n.jsxs("div",{className:Rn.emptyStateContainer,children:[n.jsx("span",{className:"material-symbols-rounded large-feature-icon",children:e}),n.jsx("h3",{className:Rn.emptyStateTitle,children:t}),s&&n.jsx("p",{className:Rn.emptyStateMessage,children:s}),o&&n.jsx("div",{className:Rn.actionContainer,children:o})]}),fi="_chipContainer_1nicu_5",pi="_chipContent_1nicu_19",gi="_chipText_1nicu_43",vi="_clearButton_1nicu_63",En={chipContainer:fi,chipContent:pi,chipText:gi,clearButton:vi},xi=({filterLabel:e,onClear:t})=>n.jsx(we.div,{layout:!0,className:En.chipContainer,initial:{y:-20,opacity:0,height:0},animate:{y:0,opacity:1,height:"auto"},exit:{y:-20,opacity:0,height:0},transition:{type:"tween",duration:.25,ease:"easeInOut"},children:n.jsxs("div",{className:En.chipContent,children:[n.jsxs("span",{className:En.chipText,children:["Showing: ",n.jsx("strong",{children:e})]}),n.jsx(he,{variant:"quaternary",size:"xs",iconOnly:!0,onClick:t,"aria-label":"Clear filter",className:En.clearButton,children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})})]})}),wi="_emptyStateContainer_s7drc_3",Hn={emptyStateContainer:wi},bi=({filterLabel:e,onClear:t})=>n.jsxs("div",{className:Hn.emptyStateContainer,children:[n.jsx("div",{className:Hn.iconWrapper,children:n.jsx("span",{className:"material-symbols-rounded",children:"filter_list_off"})}),n.jsxs("h3",{className:Hn.title,children:['No "',e,'" checks']}),n.jsx("p",{className:Hn.message,children:"There are no checks that match the current filter. Try clearing the filter to see all upcoming checks."}),n.jsx(he,{variant:"secondary",size:"m",onClick:t,children:"Clear Filter"})]}),yi="_scrollContainer_c95zg_5",Ci="_headerWrapper_c95zg_49",_i="_priorityGroupHeader_c95zg_57",en={scrollContainer:yi,headerWrapper:Ci,priorityGroupHeader:_i},Vs={type:"tween",duration:.25,ease:[.25,1,.5,1]},Si=8,Gs={missed:"Missed",due:"Due",queued:"Queued"},ji=e=>{const t={Missed:[],Due:[],Upcoming:[]};return e.forEach(s=>{if(["complete","supplemental","queued"].includes(s.status))return;let o=s.status;if(s.status==="completing"){const a=s.baseInterval*60*1e3,i=new Date(s.dueDate).getTime()-a,c=(Date.now()-i)/(60*1e3);c<13?o="pending":c<15?o="due":o="missed"}switch(o){case"missed":t.Missed.push(s);break;case"due":t.Due.push(s);break;case"early":case"pending":default:t.Upcoming.push(s);break}}),Object.entries(t).map(([s,o])=>({title:s,checks:o})).filter(s=>s.checks.length>0)},Ii=e=>{const t=e.filter(o=>!["complete","supplemental","missed","queued"].includes(o.status)),s=[];return t.length>0&&s.push({title:"Walking Order",checks:t}),s},Ti=({viewType:e})=>{const t=G(e==="time"?xs:nr),{isSlowLoadEnabled:s}=G(et),[o,a]=se(Co),r=G(Fs),i=G(sr),[l,c]=se(or),m=te(Fs);M.useEffect(()=>{if(o){const g=setTimeout(()=>a(!1),s?3e3:750);return()=>clearTimeout(g)}},[o,a,s]);const u=()=>{m(!0),c("all"),setTimeout(()=>m(!1),500)},f=o,d=l!=="all",x=()=>{if(f)return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:en.headerWrapper,children:n.jsx("div",{className:en.priorityGroupHeader,style:{width:"100px",height:"1.5rem",backgroundColor:"transparent",marginBottom:"var(--spacing-2)"},children:n.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"var(--surface-bg-tertiary)",borderRadius:"var(--radius-sm)",opacity:.3}})})}),Array.from({length:Si}).map((p,w)=>n.jsx(ui,{},w))]});if(t.length===0)return i?n.jsx(cs,{title:"No Results Found",message:`Your search for "${i}" did not return any results.`}):d?n.jsx(bi,{filterLabel:Gs[l],onClear:u}):n.jsx(cs,{title:"All Checks Complete",message:"There are no checks due at this time."});const g=e==="time"?ji(t):Ii(t);return n.jsxs(n.Fragment,{children:[n.jsx(St,{children:g.flatMap(p=>[n.jsx(we.div,{className:en.headerWrapper,layout:!0,transition:Vs,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:n.jsx("h2",{className:en.priorityGroupHeader,children:p.title})},p.title),...p.checks.map(w=>n.jsx(ei,{check:w,transition:Vs},w.id))])}),n.jsx("div",{style:{height:"calc(var(--footer-height, 96px) + var(--spacing-4))"}})]})};return n.jsxs("div",{className:en.scrollContainer,"data-refreshing":r,children:[n.jsx("div",{style:{height:"var(--header-height)"}}),n.jsx(St,{mode:"wait",children:d&&n.jsx(xi,{filterLabel:Gs[l],onClear:u},l)}),x()]})},ki="_container_r0gas_5",Ni={container:ki},Ri=()=>n.jsx("div",{className:Ni.container,children:n.jsx(Ti,{viewType:"time"})}),Ei={light:[50],medium:[100],heavy:[150]},Hi={simple:[200],double:[300,100,300],grind:[50,50,50,50,50,50],stutter:[50,100,50,100,200]},Ai={warning:[100,50,100],light:10,medium:40,heavy:60,selection:5},Mi=150,Ue=()=>{const e=G(et),t=M.useRef(0);return{trigger:M.useCallback(o=>{if(e.hapticsEnabled&&window.navigator&&"vibrate"in window.navigator){const a=Date.now();if(a-t.current<Mi)return;try{let r;o==="success"?r=Ei[e.hapticPatternSuccess]:o==="error"?r=Hi[e.hapticPatternError]:r=Ai[o],window.navigator.vibrate(r),t.current=a}catch{}}},[e.hapticsEnabled,e.hapticPatternSuccess,e.hapticPatternError])}},Gn=()=>{const{audioEnabled:e}=G(et),t=G(ar);return{play:M.useCallback((o,a)=>{!e||!t||t(o,a)},[e,t])}},Oi=(e,t=7,s=3e3)=>{const o=M.useRef(0),a=M.useRef(0),r=M.useRef(e);return r.current=e,{onTap:M.useCallback(()=>{const l=Date.now();l-a.current>s&&(o.current=0,a.current=l),o.current+=1,o.current===1&&(a.current=l),o.current>=t&&(o.current=0,r.current())},[t,s]),currentCount:o.current}},Li="_contextCard_157qg_5",Bi="_stackedContainer_157qg_43",Di="_stackItem_157qg_57",zi="_label_157qg_69",$i="_value_157qg_85",Pi="_actionIcon_157qg_97",vt={contextCard:Li,stackedContainer:Bi,stackItem:Di,label:zi,value:$i,actionIcon:Pi},Ho=({groupId:e,unitId:t,onClick:s})=>{const o=ls.find(l=>l.id===e),a=o?.units.find(l=>l.id===t),r=o?.name||"Select Group",i=a?.name||"Select Unit";return n.jsxs("button",{className:vt.contextCard,onClick:s,type:"button",children:[n.jsxs("div",{className:vt.stackedContainer,children:[n.jsxs("div",{className:vt.stackItem,children:[n.jsx("span",{className:vt.label,children:"Group"}),n.jsx("span",{className:vt.value,children:r})]}),n.jsxs("div",{className:vt.stackItem,children:[n.jsx("span",{className:vt.label,children:"Unit"}),n.jsx("span",{className:vt.value,children:i})]})]}),n.jsx("div",{className:vt.actionIcon,children:n.jsx("span",{className:"material-symbols-rounded",children:"swap_horiz"})})]})},xt=({label:e,subLabel:t,leadingIcon:s,leadingElement:o,trailingIcon:a,trailingElement:r,isSelected:i,disabled:l,onClick:c,indent:m=!1,showChevron:u=!0})=>{let f=o;!f&&s?f=n.jsx("span",{className:"material-symbols-rounded",children:s}):!f&&i&&(f=n.jsx("span",{className:"material-symbols-rounded",children:"check"}));let d=r;return!d&&a?d=n.jsx("span",{className:"material-symbols-rounded",children:a}):!d&&c&&u&&!i&&(d=n.jsx("span",{className:"material-symbols-rounded",children:"chevron_right"})),n.jsxs("button",{className:"list-item-root",onClick:c,disabled:l,"aria-selected":i,"data-has-leading":!!f||m,type:"button",children:[(f||m)&&n.jsx("div",{className:"list-item-leading",children:f}),n.jsxs("div",{className:"list-item-content",children:[n.jsxs("div",{className:"list-item-text-group",children:[n.jsx("span",{className:"list-item-label",children:e}),t&&n.jsx("span",{className:"list-item-sublabel",children:t})]}),d&&n.jsx("div",{className:"list-item-trailing",children:d})]})]})},Fi="v4.20",Wi="_sideMenu_1n7o5_5",Vi="_header_1n7o5_29",Gi="_titleRow_1n7o5_49",Ui="_title_1n7o5_49",qi="_version_1n7o5_81",Xi="_headerSeparator_1n7o5_111",Yi="_content_1n7o5_123",Ki="_separator_1n7o5_141",Qi="_menuList_1n7o5_251",Ji="_footer_1n7o5_261",Zi="_userProfileCard_1n7o5_277",el="_userName_1n7o5_349",Pe={sideMenu:Wi,header:Vi,titleRow:Gi,title:Ui,version:qi,headerSeparator:Xi,content:Yi,separator:Ki,menuList:Qi,footer:Ji,userProfileCard:Zi,userName:el},tl=()=>{const e=te(_o),t=te(So),s=te(jo),o=te(It),a=te(ws),r=te(Pt),i=G(Pt),l=G(bs),c=G(ys),{toggle:m,isUnlocked:u}=rr(),f=te(gn),{trigger:d}=Ue(),{play:x}=Gn(),g=M.useCallback(()=>{const h=!u;m(),d(h?"success":"light"),h&&x("success"),f({message:h?"Future Ideas Unlocked":"Future Ideas Hidden",icon:h?"lightbulb":"lightbulb_outline",variant:"neutral"})},[m,u,f,d,x]),{onTap:p}=Oi(g,7,3e3),w=()=>{r({isAuthenticated:!1,user:null})};return n.jsxs("aside",{className:Pe.sideMenu,children:[n.jsxs("header",{className:Pe.header,children:[n.jsxs("div",{className:Pe.titleRow,children:[n.jsx("h1",{className:Pe.title,onClick:p,children:"Safeguard"}),n.jsx("span",{className:Pe.version,children:Fi})]}),n.jsx("div",{className:Pe.headerSeparator})]}),n.jsxs("main",{className:Pe.content,children:[n.jsx(Ho,{groupId:l,unitId:c,onClick:()=>a(!0)}),n.jsx("div",{className:Pe.separator}),n.jsxs("div",{className:Pe.menuList,children:[n.jsx(xt,{label:"Write NFC tags",leadingIcon:"nfc",onClick:()=>o({view:"provisioning"}),showChevron:!1}),n.jsx(xt,{label:"Developer tools",leadingIcon:"code",onClick:()=>t(!0),showChevron:!1}),u&&n.jsx(xt,{label:"Future Ideas",leadingIcon:"lightbulb",onClick:()=>s(!0),showChevron:!1})]})]}),n.jsxs("footer",{className:Pe.footer,children:[n.jsx("div",{className:Pe.menuList,children:n.jsx(xt,{label:"Log out",leadingIcon:"logout",onClick:w,showChevron:!1})}),n.jsx("div",{className:Pe.separator}),n.jsxs("button",{className:Pe.userProfileCard,onClick:()=>e(!0),"aria-label":"Settings",children:[n.jsx("span",{className:Pe.userName,children:i.user?.displayName||"Unknown User"}),n.jsx("span",{className:"material-symbols-rounded",children:"settings"})]})]})]})},nl=({children:e,content:t,delay:s=300,side:o="top"})=>t?n.jsx(Oa,{children:n.jsxs(La,{delayDuration:s,children:[n.jsx(Ba,{asChild:!0,children:e}),n.jsx(Da,{children:n.jsxs(za,{className:"tooltip-content",side:o,sideOffset:5,children:[t,n.jsx($a,{className:"tooltip-arrow"})]})})]})}):e,Ao=({trigger:e,children:t,open:s,onOpenChange:o,variant:a="default"})=>{const r=a==="tooltip"?"popover-content-tooltip":"popover-content";return n.jsxs(Pa,{open:s,onOpenChange:o,children:[n.jsx(Fa,{asChild:!0,children:e}),n.jsx(Wa,{children:n.jsx(Va,{className:r,sideOffset:5,collisionPadding:8,children:t})})]})},sl="_statusBar_9ph0v_7",ol="_contentContainer_9ph0v_19",al="_statusPill_9ph0v_29",rl="_icon_9ph0v_99",il="_count_9ph0v_109",ll="_popoverContent_9ph0v_123",zt={statusBar:sl,contentContainer:ol,statusPill:al,icon:rl,count:il,popoverContent:ll},Us=({count:e,icon:t,status:s,tooltipContent:o})=>{const a=e===0,r=n.jsxs("div",{className:zt.statusPill,"data-status":s,"data-active":"false","data-empty":a?"true":void 0,children:[n.jsx("span",{className:`material-symbols-rounded ${zt.icon}`,children:t}),n.jsx("span",{className:zt.count,children:e})]});return o?n.jsx(Ao,{trigger:r,variant:"tooltip",children:o}):r},cl=()=>{const e=G(ir),t=n.jsx("div",{className:zt.popoverContent,children:n.jsxs("span",{children:[e.missed," Missed"]})}),s=n.jsx("div",{className:zt.popoverContent,children:n.jsxs("span",{children:[e.due," Due"]})});return n.jsx(we.div,{className:zt.statusBar,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{type:"tween",duration:.2},children:n.jsxs("div",{className:zt.contentContainer,children:[n.jsx(Us,{count:e.missed,icon:"notifications_active",status:"missed",tooltipContent:t}),n.jsx(Us,{count:e.due,icon:"schedule",status:"due",tooltipContent:s})]})})},dl="_avatar_10qqp_5",ul="_popoverContent_10qqp_67",qs={avatar:dl,popoverContent:ul},ml=()=>{const e=G(Pt),t=G(Cs),s=G(Wt),o=te(Io);if(!e.user)return null;const{initials:a,displayName:r,username:i}=e.user;let l;if(s.enableEnhancedAvatarDropdown){const u=t[i]?.avatarHue,f=u!==void 0?u:js(i);l=_r(f)}const c=n.jsx("div",{className:qs.avatar,"aria-label":`User: ${r}`,style:l?{backgroundColor:l}:void 0,onClick:s.enableEnhancedAvatarDropdown?()=>o(!0):void 0,role:s.enableEnhancedAvatarDropdown?"button":void 0,children:a});if(s.enableEnhancedAvatarDropdown)return c;const m=n.jsx("div",{className:qs.popoverContent,children:r});return n.jsx(Ao,{trigger:c,variant:"tooltip",children:m})},hl="_header_1ba2b_5",fl="_headerContent_1ba2b_141",pl="_leftActions_1ba2b_161",gl="_centerContent_1ba2b_179",vl="_rightActions_1ba2b_197",tn={header:hl,headerContent:fl,leftActions:pl,centerContent:gl,rightActions:vl},xl=()=>{const[e,t]=se(_s),s=M.useRef(null);M.useLayoutEffect(()=>{const a=()=>{if(s.current){const i=s.current.offsetHeight;document.documentElement.style.setProperty("--header-height",`${i}px`)}};a();const r=new ResizeObserver(a);return s.current&&r.observe(s.current),()=>{r.disconnect(),document.documentElement.style.removeProperty("--header-height")}},[]);const o=()=>{t(e==="sideMenu"?"dashboardTime":"sideMenu")};return n.jsx("header",{className:tn.header,ref:s,children:n.jsxs("div",{className:tn.headerContent,children:[n.jsx("div",{className:tn.leftActions,children:n.jsx(nl,{content:"Open navigation",children:n.jsx(he,{variant:"tertiary",size:"m",iconOnly:!0,onClick:o,"aria-label":"Open navigation menu",children:n.jsx("span",{className:"material-symbols-rounded",children:"menu"})})})}),n.jsx("div",{className:tn.centerContent,children:n.jsx(cl,{})}),n.jsx("div",{className:tn.rightActions,children:n.jsx(ml,{})})]})})},Is=()=>{const e=te(Vn),t=te(yo),s=G(vn),o=G(et),{trigger:a}=Ue(),{play:r}=Gn();return{completeCheck:({checkId:l,statuses:c,notes:m,onSuccess:u})=>{const f=o.scanMode==="nfc"&&o.simpleSubmitEnabled;a("success"),r("success"),e({type:"CHECK_SET_COMPLETING",payload:{checkId:l}}),t(l),setTimeout(()=>{const x={checkId:l,statuses:c,notes:m,completionTime:new Date().toISOString()};e(s==="offline"?{type:"CHECK_SET_QUEUED",payload:x}:{type:"CHECK_COMPLETE",payload:x}),t(null),u?.()},f?0:1e3)}}},wl="_footer_1530h_5",bl="_scanButton_1530h_181",yl="_nfcContainer_1530h_205",Cl="_nfcIcon_1530h_241",_l="_nfcText_1530h_255",nn={footer:wl,scanButton:bl,nfcContainer:yl,nfcIcon:Cl,nfcText:_l},Sl=()=>{const e=te(It),t=G(et),s=G(xs),o=G(Ss),a=te(gn),r=M.useRef(null),{trigger:i}=Ue(),{completeCheck:l}=Is();M.useLayoutEffect(()=>{const u=()=>{if(r.current){const d=r.current.offsetHeight;document.documentElement.style.setProperty("--footer-height",`${d}px`)}};u();const f=new ResizeObserver(u);return r.current&&f.observe(r.current),window.addEventListener("resize",u),()=>{f.disconnect(),document.documentElement.style.removeProperty("--footer-height"),window.removeEventListener("resize",u)}},[t.scanMode]);const c=()=>{i("heavy"),e({view:"scanning",isManualSelectionOpen:!1})},m=()=>{if(o.nfcFails){i("error"),a({message:`Tag not read.
Hold phone steady against the tag.`,icon:"wifi_tethering_error",variant:"alert"});return}const u=s.find(f=>f.status!=="complete"&&f.type!=="supplemental");if(u){if(i("success"),t.simpleSubmitEnabled){const f=u.residents.reduce((d,x)=>(d[x.id]="Awake",d),{});l({checkId:u.id,statuses:f,notes:"",onSuccess:()=>{a({message:"Check completed",icon:"check_circle",variant:"success"})}});return}e({view:"form",type:"scheduled",method:"scan",checkId:u.id,roomName:u.residents[0].location,residents:u.residents,specialClassifications:u.specialClassifications})}else i("warning"),a({message:"No incomplete checks found in current list.",icon:"info",variant:"neutral"})};return n.jsx("footer",{className:nn.footer,ref:r,children:t.scanMode==="nfc"?n.jsxs(we.div,{className:nn.nfcContainer,animate:{opacity:[.6,1,.6]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},onClick:m,children:[n.jsx("span",{className:`material-symbols-rounded ${nn.nfcIcon}`,children:"sensors"}),n.jsx("span",{className:nn.nfcText,children:"Ready to scan"})]}):n.jsxs(he,{variant:"primary",className:nn.scanButton,onClick:c,children:[n.jsx("span",{className:"material-symbols-rounded",children:"qr_code_scanner"}),n.jsx("span",{children:"Scan"})]})})},jl="_banner_1b615_5",Il="_iconContainer_1b615_39",Tl="_icon_1b615_39",kl="_textContainer_1b615_73",Nl="_statusText_1b615_95",Rl="_queueText_1b615_123",El="_syncButton_1b615_139",Hl="_spinner_1b615_185",mt={banner:jl,iconContainer:Il,icon:Tl,textContainer:kl,statusText:Nl,queueText:Rl,syncButton:El,spinner:Hl},Al=e=>{const t=Math.floor(e/1e3),s=Math.floor(t/60),o=t%60;return`${s}:${o.toString().padStart(2,"0")}`},Ml=()=>{const[e,t]=se(vn),s=G(lr),o=G(cr),a=te(Vn),{trigger:r}=Ue(),{play:i}=Gn(),[l,c]=M.useState("0:00"),m=M.useRef(null);if(M.useEffect(()=>{e==="offline"&&r("warning")},[e,s,r]),M.useEffect(()=>{if(e!=="offline"||!s){c("0:00");return}const d=()=>{const p=Date.now()-s;c(Al(p))};d();const x=setInterval(d,1e3);return()=>clearInterval(x)},[e,s]),M.useEffect(()=>{const d=()=>{if(m.current){const g=m.current.offsetHeight;document.documentElement.style.setProperty("--offline-banner-height",`${g}px`)}else document.documentElement.style.removeProperty("--offline-banner-height")};d();const x=new ResizeObserver(d);return m.current&&x.observe(m.current),()=>{x.disconnect(),document.documentElement.style.removeProperty("--offline-banner-height")}},[e]),e==="online")return null;const u=()=>{t("syncing"),r("medium"),setTimeout(()=>{a({type:"SYNC_QUEUED_CHECKS",payload:{syncTime:new Date().toISOString()}}),r("success"),i("success"),t("online")},2e3)},f=()=>o===0?"No items queued for sync":o===1?"1 item queued for sync":`${o} items queued for sync`;return n.jsx(St,{children:n.jsxs(we.div,{className:mt.banner,ref:m,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{type:"tween",duration:.3},children:[n.jsx("div",{className:mt.iconContainer,children:n.jsx("span",{className:`material-symbols-rounded ${mt.icon} ${e==="syncing"?mt.spinner:""}`,children:e==="syncing"?"sync":"cloud_off"})}),n.jsx("div",{className:mt.textContainer,children:e==="syncing"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:mt.statusText,children:"Syncing data..."}),n.jsx("div",{className:mt.queueText,children:"Please wait"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:mt.statusText,children:["Offline for ",l]}),n.jsx("div",{className:mt.queueText,children:f()})]})}),e==="offline"&&n.jsx("button",{className:mt.syncButton,onClick:u,children:"Sync Now"})]})})},Ol="_scanView_427ct_35",Ll="_header_427ct_57",Bl="_preScanAlert_427ct_91",Dl="_alertSeparator_427ct_149",zl="_cameraContainer_427ct_163",$l="_viewfinder_427ct_185",Pl="_statusOverlay_427ct_243",Fl="_processingState_427ct_275",Wl="_spinner_427ct_281",Vl="_successState_427ct_291",Gl="_failState_427ct_299",Ul="_helperText_427ct_309",ql="_footer_427ct_319",Xl="_devControlsContainer_427ct_365",Yl="_devControlsHeader_427ct_385",Kl="_devControls_427ct_365",Ie={scanView:Ol,header:Ll,preScanAlert:Bl,alertSeparator:Dl,cameraContainer:zl,viewfinder:$l,statusOverlay:Pl,processingState:Fl,spinner:Wl,successState:Vl,failState:Gl,helperText:Ul,footer:ql,devControlsContainer:Xl,devControlsHeader:Yl,devControls:Kl},Ql=()=>{const[e,t]=se(It),s=G(To),o=G(et),a=G(xs),r=G(Ss),i=te(gn),{trigger:l}=Ue(),{play:c}=Gn(),{completeCheck:m}=Is(),[u,f]=M.useState("scanning"),[d,x]=M.useState(null),g=M.useRef(null),p=M.useRef(0);M.useEffect(()=>{if(e.view==="scanning"&&f("scanning"),e.view==="scanning"&&e.targetCheckId){const I=s.find(T=>T.id===e.targetCheckId)?.specialClassifications?.[0];if(I){const T=ko.find(A=>A.id===I.residentId);T&&x({residentName:T.name,classificationType:I.type})}}else x(null)},[e,s]);const w=M.useCallback(()=>{l("error"),c("error"),f("fail"),setTimeout(()=>{f("scanning")},1500)},[l,c]),h=b=>{u==="scanning"&&(g.current===b&&Date.now()-p.current<2e3||(g.current=b,p.current=Date.now(),f("processing"),setTimeout(()=>{const I=b.startsWith("room:")?b.split(":")[1]:b,T=s.find(A=>A.id===I&&A.status!=="complete");if(T){if(l("success"),c("success"),f("success"),o.simpleSubmitEnabled){const A=T.residents.reduce((E,$)=>(E[$.id]="Awake",E),{});t({view:"none"}),m({checkId:T.id,statuses:A,notes:"",onSuccess:()=>{i({message:"Check completed",icon:"check_circle",variant:"success"})}});return}setTimeout(()=>{t({view:"form",type:"scheduled",method:"scan",checkId:T.id,roomName:T.residents[0].location,residents:T.residents,specialClassifications:T.specialClassifications})},800)}else w()},300)))},v=b=>{b instanceof Error?console.log("QR Scanner Error:",b.message):console.log("An unknown QR scanner error occurred:",b)},j=()=>t({view:"none"}),_=()=>{if(e.view==="scanning"&&e.targetCheckId){h(e.targetCheckId);return}const b=a.find(I=>I.status!=="complete"&&I.type!=="supplemental");if(b)h(b.id);else{const I=s.find(T=>T.status!=="complete");I?h(I.id):i({message:"No incomplete checks found to simulate.",icon:"info",variant:"neutral"})}},y=()=>h("invalid-qr-code-id"),C=()=>{if(r.cameraFails)return n.jsxs("div",{className:`${Ie.statusOverlay} ${Ie.failState}`,children:[n.jsx("span",{className:"material-symbols-rounded",children:"no_photography"}),"Camera Error"]});switch(u){case"scanning":return n.jsx(Cr,{onScan:b=>{b&&b.length>0&&h(b[0].rawValue)},onError:v,constraints:{facingMode:"environment"},scanDelay:500});case"processing":return n.jsxs("div",{className:`${Ie.statusOverlay} ${Ie.processingState}`,children:[n.jsx("span",{className:`material-symbols-rounded ${Ie.spinner}`,children:"progress_activity"}),"Processing..."]});case"success":return n.jsxs("div",{className:`${Ie.statusOverlay} ${Ie.successState}`,children:[n.jsx("span",{className:"material-symbols-rounded",children:"check_circle"}),"Success!"]});case"fail":return n.jsxs("div",{className:`${Ie.statusOverlay} ${Ie.failState}`,children:[n.jsx("span",{className:"material-symbols-rounded",children:"error"}),"Scan Failed"]});default:return null}};return n.jsxs(we.div,{className:Ie.scanView,initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]},children:[n.jsxs("header",{className:Ie.header,children:[n.jsx("h3",{children:"Scan Room QR Code"}),n.jsx(he,{variant:"on-solid",size:"m",iconOnly:!0,onClick:j,"aria-label":"Close scanner",children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})})]}),n.jsx(St,{children:d&&n.jsxs(we.div,{className:Ie.preScanAlert,initial:{y:"-100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"-100%",opacity:0},transition:{type:"tween",ease:"easeInOut",duration:.35},children:[n.jsx("span",{className:"material-symbols-rounded",children:"warning"}),n.jsxs("p",{children:[n.jsx("span",{children:d.residentName}),n.jsx("span",{className:Ie.alertSeparator,children:"|"}),n.jsx("span",{children:d.classificationType})]})]})}),n.jsxs("main",{className:Ie.cameraContainer,children:[n.jsx("div",{className:Ie.viewfinder,"data-scan-state":u,children:C()}),n.jsx("p",{className:Ie.helperText,children:r.cameraFails?"Camera hardware is not responding.":"Point your camera at the room's QR code"})]}),n.jsx("footer",{className:Ie.footer,children:n.jsxs("div",{className:Ie.devControlsContainer,children:[n.jsx("p",{className:Ie.devControlsHeader,children:"Dev controls"}),n.jsxs("div",{className:Ie.devControls,children:[n.jsxs(he,{variant:"on-solid",size:"s",onClick:_,disabled:r.cameraFails,children:[n.jsx("span",{className:"material-symbols-rounded",children:"check_circle"}),"Simulate success"]}),n.jsxs(he,{variant:"on-solid",size:"s",onClick:y,disabled:r.cameraFails,children:[n.jsx("span",{className:"material-symbols-rounded",children:"error"}),"Simulate fail"]})]})]})})]})},Jl="_segmentedControlItem_1n9ka_9",Zl="_itemColumn_1n9ka_69",ec="_segmentedControl_1n9ka_9",tc="_columnContainer_1n9ka_203",nc="_gridContainer_1n9ka_259",sc="_deadCell_1n9ka_357",Ot={segmentedControlItem:Jl,itemColumn:Zl,segmentedControl:ec,columnContainer:tc,gridContainer:nc,deadCell:sc},We=({options:e,value:t,onValueChange:s,id:o,layout:a="row",itemDirection:r="row"})=>{const i=u=>{u&&s(u)};let l=Ot.segmentedControl;a==="column"?l=Ot.columnContainer:a==="grid"&&(l=Ot.gridContainer);const c=r==="column"?`${Ot.segmentedControlItem} ${Ot.itemColumn}`:Ot.segmentedControlItem,m=a==="grid"&&e.length%2!==0;return n.jsxs(Ga,{type:"single",className:l,value:t,onValueChange:i,"aria-label":o,id:o,children:[e.map(u=>n.jsxs(Ua,{value:u.value,"aria-label":u.label,className:c,children:[u.icon&&n.jsx("span",{className:"material-symbols-rounded",children:u.icon}),n.jsx("span",{children:u.label})]},u.value)),m&&n.jsx("div",{className:Ot.deadCell,"aria-hidden":"true"})]})},oc=(e,t)=>{M.useLayoutEffect(()=>{if(e){e.style.height="0px";const s=e.scrollHeight;e.style.height=s+"px"}},[e,t])},ac="_container_le1e3_5",rc="_header_le1e3_27",ic="_residentName_le1e3_39",lc="_warningIcon_le1e3_59",cc="_controlSection_le1e3_69",dc="_classificationDetails_le1e3_99",uc="_notesInput_le1e3_125",Lt={container:ac,header:rc,residentName:ic,warningIcon:lc,controlSection:cc,classificationDetails:dc,notesInput:uc},mc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"}],hc=[{value:"Refused",label:"Refused"},{value:"Sleeping",label:"Sleeping"},{value:"Awake",label:"Awake"}],fc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"}],pc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"}],gc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"},{value:"Working",label:"Working"}],vc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"},{value:"Working",label:"Working"},{value:"Chilling",label:"Chilling"}],xc=({resident:e,status:t,notes:s,onStatusChange:o,onNotesChange:a,classification:r})=>{const i=!!r,l=M.useRef(null),{residentStatusSet:c,markMultipleLayout:m}=G(et);oc(l.current,s);let u;const f=m;switch(c){case"set-2":u=mc;break;case"set-4":u=fc;break;case"set-5":u=pc;break;case"set-6":u=gc;break;case"set-7":u=vc;break;case"set-3":default:u=hc;break}return n.jsxs("div",{className:Lt.container,"data-classified":i,children:[n.jsx("div",{className:Lt.header,children:n.jsxs("h4",{className:Lt.residentName,children:[i&&n.jsx("span",{className:`material-symbols-rounded ${Lt.warningIcon}`,"aria-label":"Special Classification",children:"warning"}),e.name]})}),i&&n.jsx("div",{className:Lt.classificationDetails,children:n.jsxs("p",{children:[n.jsxs("strong",{children:[r.type,":"]})," ",r.details]})}),n.jsx("div",{className:Lt.controlSection,children:n.jsx(We,{id:`status-group-${e.id}`,options:u,value:t,onValueChange:d=>o(e.id,d),layout:f})}),n.jsx("textarea",{ref:l,id:`notes-${e.id}`,value:s,onChange:d=>a(e.id,d.target.value),placeholder:"Enter optional notes","aria-label":`Notes for ${e.name}`,rows:1,className:Lt.notesInput})]})},wc="_overlay_61m3b_5",bc="_content_61m3b_19",yc="_handleContainer_61m3b_51",Cc="_handle_61m3b_51",_c="_header_61m3b_79",Sc="_headerTitle_61m3b_91",jc="_listContainer_61m3b_105",Ic="_columnList_61m3b_123",Tc="_rowContainer_61m3b_135",kc="_gridButton_61m3b_151",Nc="_gridContainer_61m3b_161",Rc="_deadCell_61m3b_231",Qe={overlay:wc,content:bc,handleContainer:yc,handle:Cc,header:_c,headerTitle:Sc,listContainer:jc,columnList:Ic,rowContainer:Tc,gridButton:kc,gridContainer:Nc,deadCell:Rc},Ec=({isOpen:e,onClose:t,onSelect:s,options:o,layout:a})=>{const{trigger:r}=Ue(),i=M.useRef(null),l=M.useRef(null),c=d=>{r("selection"),s(d),t()},m=()=>{t()};M.useEffect(()=>{if(e){const d=setTimeout(()=>{l.current?.focus()},50),x=g=>{g.key==="Escape"&&(g.preventDefault(),t())};return document.addEventListener("keydown",x),()=>{clearTimeout(d),document.removeEventListener("keydown",x)}}},[e,t]);const u=a==="grid"&&o.length%2!==0,f=()=>{switch(a){case"row":return Qe.rowContainer;case"column":return Qe.columnList;case"grid":return Qe.gridContainer}};return n.jsx(St,{children:e&&n.jsxs(n.Fragment,{children:[n.jsx(we.div,{className:Qe.overlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:m,"aria-hidden":"true"}),n.jsxs(we.div,{ref:i,className:Qe.content,initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},role:"dialog","aria-modal":"true","aria-labelledby":"status-sheet-title",children:[n.jsx("div",{className:Qe.handleContainer,children:n.jsx("div",{className:Qe.handle})}),n.jsx("div",{className:Qe.header,children:n.jsx("h3",{id:"status-sheet-title",className:Qe.headerTitle,children:"Select Status"})}),n.jsx("div",{className:Qe.listContainer,children:a==="column"?n.jsx("div",{className:f(),children:o.map(d=>n.jsx(xt,{label:d.label,onClick:()=>c(d.value)},d.value))}):n.jsxs("div",{className:f(),children:[o.map((d,x)=>n.jsx("button",{ref:x===0?l:void 0,className:Qe.gridButton,onClick:()=>c(d.value),children:d.label},d.value)),u&&n.jsx("div",{className:Qe.deadCell})]})})]})]})})},Hc="_checkFormView_1y3fc_5",Ac="_header_1y3fc_27",Mc="_headerTitle_1y3fc_95",Oc="_formContent_1y3fc_115",Lc="_roomHeader_1y3fc_137",Bc="_badgeWrapper_1y3fc_165",Dc="_statusLabel_1y3fc_183",zc="_warningBlock_1y3fc_249",$c="_sectionHeader_1y3fc_303",Pc="_checkTypeSection_1y3fc_319",Fc="_markMultipleContainer_1y3fc_339",Wc="_residentListContainer_1y3fc_353",Vc="_footer_1y3fc_483",Me={checkFormView:Hc,header:Ac,headerTitle:Mc,formContent:Oc,roomHeader:Lc,badgeWrapper:Bc,statusLabel:Dc,warningBlock:zc,sectionHeader:$c,checkTypeSection:Pc,markMultipleContainer:Fc,residentListContainer:Wc,footer:Vc},Gc=[{value:"Locked down",label:"Locked down"},{value:"Random",label:"Random"}],Uc=[{value:"Noise Complaint",label:"Noise Complaint"},{value:"Resident Request",label:"Resident Request"},{value:"Medical Alert",label:"Medical Alert"},{value:"Security Concern",label:"Security Concern"},{value:"Other",label:"Other"}],qc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"}],Xc=[{value:"Refused",label:"Refused"},{value:"Sleeping",label:"Sleeping"},{value:"Awake",label:"Awake"}],Yc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"}],Kc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"}],Qc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"},{value:"Working",label:"Working"}],Jc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"},{value:"Working",label:"Working"},{value:"Chilling",label:"Chilling"}],Zc=({checkData:e})=>{const t=te(It),s=te(Vn),o=te(gn),a=G(dr),r=te(ur),i=te(mr),l=G(To),c=G(vn),{isCheckTypeEnabled:m,markMultipleEnabled:u,residentStatusSet:f,markMultipleLayout:d}=G(et),{trigger:x}=Ue(),{completeCheck:g}=Is(),[p,w]=M.useState(!1);let h;switch(f){case"set-2":h=qc;break;case"set-4":h=Yc;break;case"set-5":h=Kc;break;case"set-6":h=Qc;break;case"set-7":h=Jc;break;case"set-3":default:h=Xc;break}const v=M.useRef(null),j=M.useRef(null),[_,y]=M.useState(!1);Sr({containerRef:j,footerOffsetVar:"--form-footer-height"});const C=e.type==="scheduled"?a[e.checkId]:void 0,[b,I]=M.useState(()=>C?.statuses||e.residents.reduce((P,K)=>({...P,[K.id]:""}),{})),[T,A]=M.useState(()=>C?.notes||e.residents.reduce((P,K)=>({...P,[K.id]:""}),{})),[E,$]=M.useState(C?.checkType||""),[O,R]=M.useState(""),D=e.type==="scheduled"&&e.method==="manual",q=e.type==="supplemental",J=M.useMemo(()=>q?"supplemental":e.type==="scheduled"&&l.find(K=>K.id===e.checkId)?.status||"pending",[l,e,q]),ae=M.useRef(!1);M.useEffect(()=>()=>{!ae.current&&e.type==="scheduled"&&r({checkId:e.checkId,draft:{statuses:b,notes:T,checkType:E}})},[e,b,T,E,r]),M.useLayoutEffect(()=>{const P=v.current;if(P){const K=P.offsetHeight;document.documentElement.style.setProperty("--form-footer-height",`${K}px`)}return()=>{document.documentElement.style.removeProperty("--form-footer-height")}},[]),M.useLayoutEffect(()=>{const P=j.current;if(!P)return;const K=()=>{const{scrollTop:Y,scrollHeight:re,clientHeight:ce}=P,ue=re-Y<=ce+1,Ye=re>ce;y(Ye&&!ue)},N=new ResizeObserver(K);return N.observe(P),P.addEventListener("scroll",K,{passive:!0}),K(),()=>{N.disconnect(),P.removeEventListener("scroll",K)}},[]);const be=()=>{t({view:"none"})},ye=(P,K)=>{I(N=>({...N,[P]:K}))},Ne=(P,K)=>{A(N=>({...N,[P]:K}))},qe=P=>{if(!P)return;const K={...b};e.residents.forEach(N=>{K[N.id]=P}),I(K)},_e=M.useMemo(()=>!(!e.residents.every(K=>b[K.id])||m&&!E||q&&!O),[b,e.residents,m,E,q,O]),Xe=()=>{if(!_e)return;ae.current=!0,e.type==="scheduled"&&i(e.checkId),x("success");const P=Object.values(T).filter(K=>K.trim()!=="").join(`
---
`);e.type==="scheduled"?(g({checkId:e.checkId,statuses:b,notes:P}),t({view:"none"})):e.type==="supplemental"&&(s({type:"CHECK_SUPPLEMENTAL_ADD",payload:{roomId:e.roomId,statuses:b,notes:P,incidentType:O}}),t({view:"none"}),c!=="offline"&&o({message:`Supplemental check for ${e.roomName} saved.`,icon:"task_alt",variant:"success"}))};return n.jsxs(we.div,{className:Me.checkFormView,style:{height:"var(--visual-viewport-height, 100dvh)"},initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]},children:[n.jsxs("header",{className:Me.header,children:[n.jsx(he,{variant:"tertiary",size:"m",iconOnly:!0,onClick:be,"aria-label":"Back",children:n.jsx("span",{className:"material-symbols-rounded",children:"arrow_back"})}),n.jsx("h3",{className:Me.headerTitle,children:"Record Check"})]}),n.jsxs("main",{className:Me.formContent,ref:j,children:[n.jsxs("h2",{className:Me.roomHeader,children:[e.roomName,n.jsxs("div",{className:Me.badgeWrapper,children:[D&&n.jsx("span",{className:Me.statusLabel,"data-variant":"info",children:"Manual"}),q&&n.jsx("span",{className:Me.statusLabel,"data-variant":"info",children:"Supplemental"})]})]}),!q&&J==="early"&&n.jsxs("div",{className:Me.warningBlock,role:"status",children:[n.jsx("span",{className:"material-symbols-rounded","aria-hidden":"true",children:"info"}),n.jsx("span",{children:"This room was checked recently. Are you sure you want to check now?"})]}),q&&n.jsxs("div",{className:Me.incidentTypeSection,children:[n.jsx("label",{htmlFor:"incident-type-select",className:Me.sectionLabel,children:"Reason for Check"}),n.jsxs("select",{id:"incident-type-select",className:Me.selectInput,value:O,onChange:P=>R(P.target.value),children:[n.jsx("option",{value:"",disabled:!0,children:"Select a reason..."}),Uc.map(P=>n.jsx("option",{value:P.value,children:P.label},P.value))]})]}),m&&n.jsxs("div",{className:Me.checkTypeSection,children:[n.jsx("label",{htmlFor:"check-type-control",className:Me.sectionHeader,children:"Check type"}),n.jsx(We,{id:"check-type-control",options:Gc,value:E,onValueChange:$})]}),u&&e.residents.length>1&&n.jsx("div",{className:Me.markMultipleContainer,children:n.jsx(he,{variant:"secondary",size:"m",onClick:()=>w(!0),children:"Mark all"})}),n.jsx(Ec,{isOpen:p,onClose:()=>w(!1),onSelect:qe,options:h,layout:d}),n.jsx("div",{className:Me.residentListContainer,children:e.residents.map(P=>{const K=e.type==="scheduled"?e.specialClassifications?.find(N=>N.residentId===P.id):void 0;return n.jsx(xc,{resident:P,status:b[P.id],notes:T[P.id],onStatusChange:ye,onNotesChange:Ne,classification:K},P.id)})})]}),n.jsx("footer",{className:Me.footer,ref:v,"data-scrolled":_,children:n.jsx(he,{variant:"primary",size:"m",onClick:Xe,disabled:!_e,children:"Save"})})]})},Un=0,Tt=1,Qt=2,Mo=4;function Xs(e){return()=>e}function ed(e){e()}function Oo(e,t){return s=>e(t(s))}function Ys(e,t){return()=>e(t)}function td(e,t){return s=>e(t,s)}function Ts(e){return e!==void 0}function nd(...e){return()=>{e.map(ed)}}function Jt(){}function qn(e,t){return t(e),e}function sd(e,t){return t(e)}function pe(...e){return e}function ie(e,t){return e(Tt,t)}function Q(e,t){e(Un,t)}function ks(e){e(Qt)}function je(e){return e(Mo)}function z(e,t){return ie(e,td(t,Un))}function at(e,t){const s=e(Tt,o=>{s(),t(o)});return s}function Ks(e){let t,s;return o=>a=>{t=a,s&&clearTimeout(s),s=setTimeout(()=>{o(t)},e)}}function Lo(e,t){return e===t}function fe(e=Lo){let t;return s=>o=>{e(t,o)||(t=o,s(o))}}function V(e){return t=>s=>{e(s)&&t(s)}}function B(e){return t=>Oo(t,e)}function ht(e){return t=>()=>{t(e)}}function k(e,...t){const s=od(...t);return(o,a)=>{switch(o){case Qt:ks(e);return;case Tt:return ie(e,s(a))}}}function ft(e,t){return s=>o=>{s(t=e(t,o))}}function Ft(e){return t=>s=>{e>0?e--:t(s)}}function wt(e){let t=null,s;return o=>a=>{t=a,!s&&(s=setTimeout(()=>{s=void 0,o(t)},e))}}function Z(...e){const t=new Array(e.length);let s=0,o=null;const a=Math.pow(2,e.length)-1;return e.forEach((r,i)=>{const l=Math.pow(2,i);ie(r,c=>{const m=s;s=s|l,t[i]=c,m!==a&&s===a&&o&&(o(),o=null)})}),r=>i=>{const l=()=>{r([i].concat(t))};s===a?l():o=l}}function od(...e){return t=>e.reduceRight(sd,t)}function ad(e){let t,s;const o=()=>t?.();return function(a,r){switch(a){case Tt:return r?s===r?void 0:(o(),s=r,t=ie(e,r),t):(o(),Jt);case Qt:o(),s=null;return}}}function H(e){let t=e;const s=ee();return(o,a)=>{switch(o){case Un:t=a;break;case Tt:{a(t);break}case Mo:return t}return s(o,a)}}function Be(e,t){return qn(H(t),s=>z(e,s))}function ee(){const e=[];return(t,s)=>{switch(t){case Un:e.slice().forEach(o=>{o(s)});return;case Qt:e.splice(0,e.length);return;case Tt:return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}}}function Ge(e){return qn(ee(),t=>z(e,t))}function oe(e,t=[],{singleton:s}={singleton:!0}){return{constructor:e,dependencies:t,id:rd(),singleton:s}}const rd=()=>Symbol();function id(e){const t=new Map,s=({constructor:o,dependencies:a,id:r,singleton:i})=>{if(i&&t.has(r))return t.get(r);const l=o(a.map(c=>s(c)));return i&&t.set(r,l),l};return s(e)}function ke(...e){const t=ee(),s=new Array(e.length);let o=0;const a=Math.pow(2,e.length)-1;return e.forEach((r,i)=>{const l=Math.pow(2,i);ie(r,c=>{s[i]=c,o=o|l,o===a&&Q(t,s)})}),function(r,i){switch(r){case Qt:{ks(t);return}case Tt:return o===a&&i(s),ie(t,i)}}}function F(e,t=Lo){return k(e,fe(t))}function ds(...e){return function(t,s){switch(t){case Qt:return;case Tt:return nd(...e.map(o=>ie(o,s)))}}}var Fe=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Fe||{});const ld={0:"debug",3:"error",1:"log",2:"warn"},cd=()=>typeof globalThis>"u"?window:globalThis,kt=oe(()=>{const e=H(3);return{log:H((t,s,o=1)=>{var a;const r=(a=cd().VIRTUOSO_LOG_LEVEL)!=null?a:je(e);o>=r&&console[ld[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,s)}),logLevel:e}},[],{singleton:!0});function Vt(e,t,s){return Ns(e,t,s).callbackRef}function Ns(e,t,s){const o=S.useRef(null);let a=i=>{};const r=S.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(i=>{const l=()=>{const c=i[0].target;c.offsetParent!==null&&e(c)};s?l():requestAnimationFrame(l)}):null,[e,s]);return a=i=>{i&&t?(r?.observe(i),o.current=i):(o.current&&r?.unobserve(o.current),o.current=null)},{callbackRef:a,ref:o}}function dd(e,t,s,o,a,r,i,l,c){const m=S.useCallback(u=>{const f=ud(u.children,t,l?"offsetWidth":"offsetHeight",a);let d=u.parentElement;for(;!d.dataset.virtuosoScroller;)d=d.parentElement;const x=d.lastElementChild.dataset.viewportType==="window";let g;x&&(g=d.ownerDocument.defaultView);const p=i?l?i.scrollLeft:i.scrollTop:x?l?g.scrollX||g.document.documentElement.scrollLeft:g.scrollY||g.document.documentElement.scrollTop:l?d.scrollLeft:d.scrollTop,w=i?l?i.scrollWidth:i.scrollHeight:x?l?g.document.documentElement.scrollWidth:g.document.documentElement.scrollHeight:l?d.scrollWidth:d.scrollHeight,h=i?l?i.offsetWidth:i.offsetHeight:x?l?g.innerWidth:g.innerHeight:l?d.offsetWidth:d.offsetHeight;o({scrollHeight:w,scrollTop:Math.max(p,0),viewportHeight:h}),r?.(l?Qs("column-gap",getComputedStyle(u).columnGap,a):Qs("row-gap",getComputedStyle(u).rowGap,a)),f!==null&&e(f)},[e,t,a,r,i,o,l]);return Ns(m,s,c)}function ud(e,t,s,o){const a=e.length;if(a===0)return null;const r=[];for(let i=0;i<a;i++){const l=e.item(i);if(l.dataset.index===void 0)continue;const c=parseInt(l.dataset.index),m=parseFloat(l.dataset.knownSize),u=t(l,s);if(u===0&&o("Zero-sized element, this should not happen",{child:l},Fe.ERROR),u===m)continue;const f=r[r.length-1];r.length===0||f.size!==u||f.endIndex!==c-1?r.push({endIndex:c,size:u,startIndex:c}):r[r.length-1].endIndex++}return r}function Qs(e,t,s){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&s(`${e} was not resolved to pixel value correctly`,t,Fe.WARN),t==="normal"?0:parseInt(t??"0",10)}function Bo(e,t,s){const o=S.useRef(null),a=S.useCallback(c=>{if(!(c!=null&&c.offsetParent))return;const m=c.getBoundingClientRect(),u=m.width;let f,d;if(t){const x=t.getBoundingClientRect(),g=m.top-x.top;d=x.height-Math.max(0,g),f=g+t.scrollTop}else{const x=i.current.ownerDocument.defaultView;d=x.innerHeight-Math.max(0,m.top),f=m.top+x.scrollY}o.current={offsetTop:f,visibleHeight:d,visibleWidth:u},e(o.current)},[e,t]),{callbackRef:r,ref:i}=Ns(a,!0,s),l=S.useCallback(()=>{a(i.current)},[a,i]);return S.useEffect(()=>{var c;if(t){t.addEventListener("scroll",l);const m=new ResizeObserver(()=>{requestAnimationFrame(l)});return m.observe(t),()=>{t.removeEventListener("scroll",l),m.unobserve(t)}}else{const m=(c=i.current)==null?void 0:c.ownerDocument.defaultView;return m?.addEventListener("scroll",l),m?.addEventListener("resize",l),()=>{m?.removeEventListener("scroll",l),m?.removeEventListener("resize",l)}}},[l,t,i]),r}const ze=oe(()=>{const e=ee(),t=ee(),s=H(0),o=ee(),a=H(0),r=ee(),i=ee(),l=H(0),c=H(0),m=H(0),u=H(0),f=ee(),d=ee(),x=H(!1),g=H(!1),p=H(!1);return z(k(e,B(({scrollTop:w})=>w)),t),z(k(e,B(({scrollHeight:w})=>w)),i),z(t,a),{deviation:s,fixedFooterHeight:m,fixedHeaderHeight:c,footerHeight:u,headerHeight:l,horizontalDirection:g,scrollBy:d,scrollContainerState:e,scrollHeight:i,scrollingInProgress:x,scrollTo:f,scrollTop:t,skipAnimationFrameInResizeObserver:p,smoothScrollTargetReached:o,statefulScrollTop:a,viewportHeight:r}},[],{singleton:!0}),un={lvl:0};function Do(e,t){const s=e.length;if(s===0)return[];let{index:o,value:a}=t(e[0]);const r=[];for(let i=1;i<s;i++){const{index:l,value:c}=t(e[i]);r.push({end:l-1,start:o,value:a}),o=l,a=c}return r.push({end:1/0,start:o,value:a}),r}function de(e){return e===un}function mn(e,t){if(!de(e))return t===e.k?e.v:t<e.k?mn(e.l,t):mn(e.r,t)}function rt(e,t,s="k"){if(de(e))return[-1/0,void 0];if(Number(e[s])===t)return[e.k,e.v];if(Number(e[s])<t){const o=rt(e.r,t,s);return o[0]===-1/0?[e.k,e.v]:o}return rt(e.l,t,s)}function Ve(e,t,s){return de(e)?Po(t,s,1):t===e.k?He(e,{k:t,v:s}):t<e.k?Js(He(e,{l:Ve(e.l,t,s)})):Js(He(e,{r:Ve(e.r,t,s)}))}function Yt(){return un}function Xn(e,t,s){if(de(e))return[];const o=rt(e,t)[0];return md(ms(e,o,s))}function us(e,t){if(de(e))return un;const{k:s,l:o,r:a}=e;if(t===s){if(de(o))return a;if(de(a))return o;{const[r,i]=$o(o);return Dn(He(e,{k:r,l:zo(o),v:i}))}}else return t<s?Dn(He(e,{l:us(o,t)})):Dn(He(e,{r:us(a,t)}))}function $t(e){return de(e)?[]:[...$t(e.l),{k:e.k,v:e.v},...$t(e.r)]}function ms(e,t,s){if(de(e))return[];const{k:o,l:a,r,v:i}=e;let l=[];return o>t&&(l=l.concat(ms(a,t,s))),o>=t&&o<=s&&l.push({k:o,v:i}),o<=s&&(l=l.concat(ms(r,t,s))),l}function Dn(e){const{l:t,lvl:s,r:o}=e;if(o.lvl>=s-1&&t.lvl>=s-1)return e;if(s>o.lvl+1){if(Jn(t))return Fo(He(e,{lvl:s-1}));if(!de(t)&&!de(t.r))return He(t.r,{l:He(t,{r:t.r.l}),lvl:s,r:He(e,{l:t.r.r,lvl:s-1})});throw new Error("Unexpected empty nodes")}else{if(Jn(e))return hs(He(e,{lvl:s-1}));if(!de(o)&&!de(o.l)){const a=o.l,r=Jn(a)?o.lvl-1:o.lvl;return He(a,{l:He(e,{lvl:s-1,r:a.l}),lvl:a.lvl+1,r:hs(He(o,{l:a.r,lvl:r}))})}else throw new Error("Unexpected empty nodes")}}function He(e,t){return Po(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function zo(e){return de(e.r)?e.l:Dn(He(e,{r:zo(e.r)}))}function Jn(e){return de(e)||e.lvl>e.r.lvl}function $o(e){return de(e.r)?[e.k,e.v]:$o(e.r)}function Po(e,t,s,o=un,a=un){return{k:e,l:o,lvl:s,r:a,v:t}}function Js(e){return hs(Fo(e))}function Fo(e){const{l:t}=e;return!de(t)&&t.lvl===e.lvl?He(t,{r:He(e,{l:t.r})}):e}function hs(e){const{lvl:t,r:s}=e;return!de(s)&&!de(s.r)&&s.lvl===t&&s.r.lvl===t?He(s,{l:He(e,{r:s.l}),lvl:t+1}):e}function md(e){return Do(e,({k:t,v:s})=>({index:t,value:s}))}function Wo(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function hn(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const Rs=oe(()=>({recalcInProgress:H(!1)}),[],{singleton:!0});function Vo(e,t,s){return e[$n(e,t,s)]}function $n(e,t,s,o=0){let a=e.length-1;for(;o<=a;){const r=Math.floor((o+a)/2),i=e[r],l=s(i,t);if(l===0)return r;if(l===-1){if(a-o<2)return r-1;a=r-1}else{if(a===o)return r;o=r+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function hd(e,t,s,o){const a=$n(e,t,o),r=$n(e,s,o,a);return e.slice(a,r+1)}function jt(e,t){return Math.round(e.getBoundingClientRect()[t])}function Yn(e){return!de(e.groupOffsetTree)}function Es({index:e},t){return t===e?0:t<e?-1:1}function fd(){return{groupIndices:[],groupOffsetTree:Yt(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Yt()}}function pd(e,t){let s=de(e)?0:1/0;for(const o of t){const{endIndex:a,size:r,startIndex:i}=o;if(s=Math.min(s,i),de(e)){e=Ve(e,0,r);continue}const l=Xn(e,i-1,a+1);if(l.some(Cd(o)))continue;let c=!1,m=!1;for(const{end:u,start:f,value:d}of l)c?(a>=f||r===d)&&(e=us(e,f)):(m=d!==r,c=!0),u>a&&a>=f&&d!==r&&(e=Ve(e,a+1,d));m&&(e=Ve(e,i,r))}return[e,s]}function gd(e){return typeof e.groupIndex<"u"}function vd({offset:e},t){return t===e?0:t<e?-1:1}function fn(e,t,s){if(t.length===0)return 0;const{index:o,offset:a,size:r}=Vo(t,e,Es),i=e-o,l=r*i+(i-1)*s+a;return l>0?l+s:l}function Go(e,t){if(!Yn(t))return e;let s=0;for(;t.groupIndices[s]<=e+s;)s++;return e+s}function Uo(e,t,s){if(gd(e))return t.groupIndices[e.groupIndex]+1;{const o=e.index==="LAST"?s:e.index;let a=Go(o,t);return a=Math.max(0,a,Math.min(s,a)),a}}function xd(e,t,s,o=0){return o>0&&(t=Math.max(t,Vo(e,o,Es).offset)),Do(hd(e,t,s,vd),yd)}function wd(e,[t,s,o,a]){t.length>0&&o("received item sizes",t,Fe.DEBUG);const r=e.sizeTree;let i=r,l=0;if(s.length>0&&de(r)&&t.length===2){const d=t[0].size,x=t[1].size;i=s.reduce((g,p)=>Ve(Ve(g,p,d),p+1,x),i)}else[i,l]=pd(i,t);if(i===r)return e;const{lastIndex:c,lastOffset:m,lastSize:u,offsetTree:f}=fs(e.offsetTree,l,i,a);return{groupIndices:s,groupOffsetTree:s.reduce((d,x)=>Ve(d,x,fn(x,f,a)),Yt()),lastIndex:c,lastOffset:m,lastSize:u,offsetTree:f,sizeTree:i}}function bd(e){return $t(e).map(({k:t,v:s},o,a)=>{const r=a[o+1];return{endIndex:r?r.k-1:1/0,size:s,startIndex:t}})}function Zs(e,t){let s=0,o=0;for(;s<e;)s+=t[o+1]-t[o]-1,o++;return o-(s===e?0:1)}function fs(e,t,s,o){let a=e,r=0,i=0,l=0,c=0;if(t!==0){c=$n(a,t-1,Es),l=a[c].offset;const m=rt(s,t-1);r=m[0],i=m[1],a.length&&a[c].size===rt(s,t)[1]&&(c-=1),a=a.slice(0,c+1)}else a=[];for(const{start:m,value:u}of Xn(s,t,1/0)){const f=m-r,d=f*i+l+f*o;a.push({index:m,offset:d,size:u}),r=m,l=d,i=u}return{lastIndex:r,lastOffset:l,lastSize:i,offsetTree:a}}function yd(e){return{index:e.index,value:e}}function Cd(e){const{endIndex:t,size:s,startIndex:o}=e;return a=>a.start===o&&(a.end===t||a.end===1/0)&&a.value===s}const _d={offsetHeight:"height",offsetWidth:"width"},pt=oe(([{log:e},{recalcInProgress:t}])=>{const s=ee(),o=ee(),a=Be(o,0),r=ee(),i=ee(),l=H(0),c=H([]),m=H(void 0),u=H(void 0),f=H((y,C)=>jt(y,_d[C])),d=H(void 0),x=H(0),g=fd(),p=Be(k(s,Z(c,e,x),ft(wd,g),fe()),g),w=Be(k(c,fe(),ft((y,C)=>({current:C,prev:y.current}),{current:[],prev:[]}),B(({prev:y})=>y)),[]);z(k(c,V(y=>y.length>0),Z(p,x),B(([y,C,b])=>{const I=y.reduce((T,A,E)=>Ve(T,A,fn(A,C.offsetTree,b)||E),Yt());return{...C,groupIndices:y,groupOffsetTree:I}})),p),z(k(o,Z(p),V(([y,{lastIndex:C}])=>y<C),B(([y,{lastIndex:C,lastSize:b}])=>[{endIndex:C,size:b,startIndex:y}])),s),z(m,u);const h=Be(k(m,B(y=>y===void 0)),!0);z(k(u,V(y=>y!==void 0&&de(je(p).sizeTree)),B(y=>[{endIndex:0,size:y,startIndex:0}])),s);const v=Ge(k(s,Z(p),ft(({sizes:y},[C,b])=>({changed:b!==y,sizes:b}),{changed:!1,sizes:g}),B(y=>y.changed)));ie(k(l,ft((y,C)=>({diff:y.prev-C,prev:C}),{diff:0,prev:0}),B(y=>y.diff)),y=>{const{groupIndices:C}=je(p);if(y>0)Q(t,!0),Q(r,y+Zs(y,C));else if(y<0){const b=je(w);b.length>0&&(y-=Zs(-y,b)),Q(i,y)}}),ie(k(l,Z(e)),([y,C])=>{y<0&&C("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},Fe.ERROR)});const j=Ge(r);z(k(r,Z(p),B(([y,C])=>{const b=C.groupIndices.length>0,I=[],T=C.lastSize;if(b){const A=mn(C.sizeTree,0);let E=0,$=0;for(;E<y;){const R=C.groupIndices[$],D=C.groupIndices.length===$+1?1/0:C.groupIndices[$+1]-R-1;I.push({endIndex:R,size:A,startIndex:R}),I.push({endIndex:R+1+D-1,size:T,startIndex:R+1}),$++,E+=D+1}const O=$t(C.sizeTree);return E!==y&&O.shift(),O.reduce((R,{k:D,v:q})=>{let J=R.ranges;return R.prevSize!==0&&(J=[...R.ranges,{endIndex:D+y-1,size:R.prevSize,startIndex:R.prevIndex}]),{prevIndex:D+y,prevSize:q,ranges:J}},{prevIndex:y,prevSize:0,ranges:I}).ranges}return $t(C.sizeTree).reduce((A,{k:E,v:$})=>({prevIndex:E+y,prevSize:$,ranges:[...A.ranges,{endIndex:E+y-1,size:A.prevSize,startIndex:A.prevIndex}]}),{prevIndex:0,prevSize:T,ranges:[]}).ranges})),s);const _=Ge(k(i,Z(p,x),B(([y,{offsetTree:C},b])=>{const I=-y;return fn(I,C,b)})));return z(k(i,Z(p,x),B(([y,C,b])=>{if(C.groupIndices.length>0){if(de(C.sizeTree))return C;let I=Yt();const T=je(w);let A=0,E=0,$=0;for(;A<-y;){$=T[E];const O=T[E+1]-$-1;E++,A+=O+1}if(I=$t(C.sizeTree).reduce((O,{k:R,v:D})=>Ve(O,Math.max(0,R+y),D),I),A!==-y){const O=mn(C.sizeTree,$);I=Ve(I,0,O);const R=rt(C.sizeTree,-y+1)[1];I=Ve(I,1,R)}return{...C,sizeTree:I,...fs(C.offsetTree,0,I,b)}}else{const I=$t(C.sizeTree).reduce((T,{k:A,v:E})=>Ve(T,Math.max(0,A+y),E),Yt());return{...C,sizeTree:I,...fs(C.offsetTree,0,I,b)}}})),p),{beforeUnshiftWith:j,data:d,defaultItemSize:u,firstItemIndex:l,fixedItemSize:m,gap:x,groupIndices:c,itemSize:f,listRefresh:v,shiftWith:i,shiftWithOffset:_,sizeRanges:s,sizes:p,statefulTotalCount:a,totalCount:o,trackItemSizes:h,unshiftWith:r}},pe(kt,Rs),{singleton:!0});function Sd(e){return e.reduce((t,s)=>(t.groupIndices.push(t.totalCount),t.totalCount+=s+1,t),{groupIndices:[],totalCount:0})}const qo=oe(([{groupIndices:e,sizes:t,totalCount:s},{headerHeight:o,scrollTop:a}])=>{const r=ee(),i=ee(),l=Ge(k(r,B(Sd)));return z(k(l,B(c=>c.totalCount)),s),z(k(l,B(c=>c.groupIndices)),e),z(k(ke(a,t,o),V(([c,m])=>Yn(m)),B(([c,m,u])=>rt(m.groupOffsetTree,Math.max(c-u,0),"v")[0]),fe(),B(c=>[c])),i),{groupCounts:r,topItemsIndexes:i}},pe(pt,ze)),Nt=oe(([{log:e}])=>{const t=H(!1),s=Ge(k(t,V(o=>o),fe()));return ie(t,o=>{o&&je(e)("props updated",{},Fe.DEBUG)}),{didMount:s,propsReady:t}},pe(kt),{singleton:!0}),jd=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Xo(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!jd)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const xn=oe(([{gap:e,listRefresh:t,sizes:s,totalCount:o},{fixedFooterHeight:a,fixedHeaderHeight:r,footerHeight:i,headerHeight:l,scrollingInProgress:c,scrollTo:m,smoothScrollTargetReached:u,viewportHeight:f},{log:d}])=>{const x=ee(),g=ee(),p=H(0);let w=null,h=null,v=null;function j(){w&&(w(),w=null),v&&(v(),v=null),h&&(clearTimeout(h),h=null),Q(c,!1)}return z(k(x,Z(s,f,o,p,l,i,d),Z(e,r,a),B(([[_,y,C,b,I,T,A,E],$,O,R])=>{const D=Xo(_),{align:q,behavior:J,offset:ae}=D,be=b-1,ye=Uo(D,y,be);let Ne=fn(ye,y.offsetTree,$)+T;q==="end"?(Ne+=O+rt(y.sizeTree,ye)[1]-C+R,ye===be&&(Ne+=A)):q==="center"?Ne+=(O+rt(y.sizeTree,ye)[1]-C+R)/2:Ne-=I,ae&&(Ne+=ae);const qe=_e=>{j(),_e?(E("retrying to scroll to",{location:_},Fe.DEBUG),Q(x,_)):(Q(g,!0),E("list did not change, scroll successful",{},Fe.DEBUG))};if(j(),J==="smooth"){let _e=!1;v=ie(t,Xe=>{_e=_e||Xe}),w=at(u,()=>{qe(_e)})}else w=at(k(t,Id(150)),qe);return h=setTimeout(()=>{j()},1200),Q(c,!0),E("scrolling from index to",{behavior:J,index:ye,top:Ne},Fe.DEBUG),{behavior:J,top:Ne}})),m),{scrollTargetReached:g,scrollToIndex:x,topListHeight:p}},pe(pt,ze,kt),{singleton:!0});function Id(e){return t=>{const s=setTimeout(()=>{t(!1)},e);return o=>{o&&(t(!0),clearTimeout(s))}}}function Hs(e,t){e==0?t():requestAnimationFrame(()=>{Hs(e-1,t)})}function As(e,t){const s=t-1;return typeof e=="number"?e:e.index==="LAST"?s:e.index}const wn=oe(([{defaultItemSize:e,listRefresh:t,sizes:s},{scrollTop:o},{scrollTargetReached:a,scrollToIndex:r},{didMount:i}])=>{const l=H(!0),c=H(0),m=H(!0);return z(k(i,Z(c),V(([u,f])=>!!f),ht(!1)),l),z(k(i,Z(c),V(([u,f])=>!!f),ht(!1)),m),ie(k(ke(t,i),Z(l,s,e,m),V(([[,u],f,{sizeTree:d},x,g])=>u&&(!de(d)||Ts(x))&&!f&&!g),Z(c)),([,u])=>{at(a,()=>{Q(m,!0)}),Hs(4,()=>{at(o,()=>{Q(l,!0)}),Q(r,u)})}),{initialItemFinalLocationReached:m,initialTopMostItemIndex:c,scrolledToInitialItem:l}},pe(pt,ze,xn,Nt),{singleton:!0});function Yo(e,t){return Math.abs(e-t)<1.01}const pn="up",cn="down",Td="none",kd={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Nd=0,bn=oe(([{footerHeight:e,headerHeight:t,scrollBy:s,scrollContainerState:o,scrollTop:a,viewportHeight:r}])=>{const i=H(!1),l=H(!0),c=ee(),m=ee(),u=H(4),f=H(Nd),d=Be(k(ds(k(F(a),Ft(1),ht(!0)),k(F(a),Ft(1),ht(!1),Ks(100))),fe()),!1),x=Be(k(ds(k(s,ht(!0)),k(s,ht(!1),Ks(200))),fe()),!1);z(k(ke(F(a),F(f)),B(([v,j])=>v<=j),fe()),l),z(k(l,wt(50)),m);const g=Ge(k(ke(o,F(r),F(t),F(e),F(u)),ft((v,[{scrollHeight:j,scrollTop:_},y,C,b,I])=>{const T=_+y-j>-I,A={scrollHeight:j,scrollTop:_,viewportHeight:y};if(T){let $,O;return _>v.state.scrollTop?($="SCROLLED_DOWN",O=v.state.scrollTop-_):($="SIZE_DECREASED",O=v.state.scrollTop-_||v.scrollTopDelta),{atBottom:!0,atBottomBecause:$,scrollTopDelta:O,state:A}}let E;return A.scrollHeight>v.state.scrollHeight?E="SIZE_INCREASED":y<v.state.viewportHeight?E="VIEWPORT_HEIGHT_DECREASING":_<v.state.scrollTop?E="SCROLLING_UPWARDS":E="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:E,state:A}},kd),fe((v,j)=>v&&v.atBottom===j.atBottom))),p=Be(k(o,ft((v,{scrollHeight:j,scrollTop:_,viewportHeight:y})=>{if(Yo(v.scrollHeight,j))return{changed:!1,jump:0,scrollHeight:j,scrollTop:_};{const C=j-(_+y)<1;return v.scrollTop!==_&&C?{changed:!0,jump:v.scrollTop-_,scrollHeight:j,scrollTop:_}:{changed:!0,jump:0,scrollHeight:j,scrollTop:_}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),V(v=>v.changed),B(v=>v.jump)),0);z(k(g,B(v=>v.atBottom)),i),z(k(i,wt(50)),c);const w=H(cn);z(k(o,B(({scrollTop:v})=>v),fe(),ft((v,j)=>je(x)?{direction:v.direction,prevScrollTop:j}:{direction:j<v.prevScrollTop?pn:cn,prevScrollTop:j},{direction:cn,prevScrollTop:0}),B(v=>v.direction)),w),z(k(o,wt(50),ht(Td)),w);const h=H(0);return z(k(d,V(v=>!v),ht(0)),h),z(k(a,wt(100),Z(d),V(([v,j])=>!!j),ft(([v,j],[_])=>[j,_],[0,0]),B(([v,j])=>j-v)),h),{atBottomState:g,atBottomStateChange:c,atBottomThreshold:u,atTopStateChange:m,atTopThreshold:f,isAtBottom:i,isAtTop:l,isScrolling:d,lastJumpDueToItemResize:p,scrollDirection:w,scrollVelocity:h}},pe(ze)),Pn="top",Fn="bottom",eo="none";function to(e,t,s){return typeof e=="number"?s===pn&&t===Pn||s===cn&&t===Fn?e:0:s===pn?t===Pn?e.main:e.reverse:t===Fn?e.main:e.reverse}function no(e,t){var s;return typeof e=="number"?e:(s=e[t])!=null?s:0}const Ms=oe(([{deviation:e,fixedHeaderHeight:t,headerHeight:s,scrollTop:o,viewportHeight:a}])=>{const r=ee(),i=H(0),l=H(0),c=H(0),m=Be(k(ke(F(o),F(a),F(s),F(r,hn),F(c),F(i),F(t),F(e),F(l)),B(([u,f,d,[x,g],p,w,h,v,j])=>{const _=u-v,y=w+h,C=Math.max(d-_,0);let b=eo;const I=no(j,Pn),T=no(j,Fn);return x-=v,x+=d+h,g+=d+h,g-=v,x>u+y-I&&(b=pn),g<u-C+f+T&&(b=cn),b!==eo?[Math.max(_-d-to(p,Pn,b)-I,0),_-C-h+f+to(p,Fn,b)+T]:null}),V(u=>u!=null),fe(hn)),[0,0]);return{increaseViewportBy:l,listBoundary:r,overscan:c,topListHeight:i,visibleRange:m}},pe(ze),{singleton:!0});function Rd(e,t,s){if(Yn(t)){const o=Go(e,t);return[{index:rt(t.groupOffsetTree,o)[0],offset:0,size:0},{data:s?.[0],index:o,offset:0,size:0}]}return[{data:s?.[0],index:e,offset:0,size:0}]}const Zn={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function zn(e,t,s,o,a,r){const{lastIndex:i,lastOffset:l,lastSize:c}=a;let m=0,u=0;if(e.length>0){m=e[0].offset;const p=e[e.length-1];u=p.offset+p.size}const f=s-i,d=l+f*c+(f-1)*o,x=m,g=d-u;return{bottom:u,firstItemIndex:r,items:so(e,a,r),offsetBottom:g,offsetTop:m,top:x,topItems:so(t,a,r),topListHeight:t.reduce((p,w)=>w.size+p,0),totalCount:s}}function Ko(e,t,s,o,a,r){let i=0;if(s.groupIndices.length>0)for(const u of s.groupIndices){if(u-i>=e)break;i++}const l=e+i,c=As(t,l),m=Array.from({length:l}).map((u,f)=>({data:r[f+c],index:f+c,offset:0,size:0}));return zn(m,[],l,a,s,o)}function so(e,t,s){if(e.length===0)return[];if(!Yn(t))return e.map(m=>({...m,index:m.index+s,originalIndex:m.index}));const o=e[0].index,a=e[e.length-1].index,r=[],i=Xn(t.groupOffsetTree,o,a);let l,c=0;for(const m of e){(!l||l.end<m.index)&&(l=i.shift(),c=t.groupIndices.indexOf(l.start));let u;m.index===l.start?u={index:c,type:"group"}:u={groupIndex:c,index:m.index-(c+1)+s},r.push({...u,data:m.data,offset:m.offset,originalIndex:m.index,size:m.size})}return r}const Gt=oe(([{data:e,firstItemIndex:t,gap:s,sizes:o,totalCount:a},r,{listBoundary:i,topListHeight:l,visibleRange:c},{initialTopMostItemIndex:m,scrolledToInitialItem:u},{topListHeight:f},d,{didMount:x},{recalcInProgress:g}])=>{const p=H([]),w=H(0),h=ee();z(r.topItemsIndexes,p);const v=Be(k(ke(x,g,F(c,hn),F(a),F(o),F(m),u,F(p),F(t),F(s),e),V(([C,b,,I,,,,,,,T])=>{const A=T&&T.length!==I;return C&&!b&&!A}),B(([,,[C,b],I,T,A,E,$,O,R,D])=>{const q=T,{offsetTree:J,sizeTree:ae}=q,be=je(w);if(I===0)return{...Zn,totalCount:I};if(C===0&&b===0)return be===0?{...Zn,totalCount:I}:Ko(be,A,T,O,R,D||[]);if(de(ae))return be>0?null:zn(Rd(As(A,I),q,D),[],I,R,q,O);const ye=[];if($.length>0){const tt=$[0],P=$[$.length-1];let K=0;for(const N of Xn(ae,tt,P)){const Y=N.value,re=Math.max(N.start,tt),ce=Math.min(N.end,P);for(let ue=re;ue<=ce;ue++)ye.push({data:D?.[ue],index:ue,offset:K,size:Y}),K+=Y}}if(!E)return zn([],ye,I,R,q,O);const Ne=$.length>0?$[$.length-1]+1:0,qe=xd(J,C,b,Ne);if(qe.length===0)return null;const _e=I-1,Xe=qn([],tt=>{for(const P of qe){const K=P.value;let N=K.offset,Y=P.start;const re=K.size;if(K.offset<C){Y+=Math.floor((C-K.offset+R)/(re+R));const ue=Y-P.start;N+=ue*re+ue*R}Y<Ne&&(N+=(Ne-Y)*re,Y=Ne);const ce=Math.min(P.end,_e);for(let ue=Y;ue<=ce&&!(N>=b);ue++)tt.push({data:D?.[ue],index:ue,offset:N,size:re}),N+=re+R}});return zn(Xe,ye,I,R,q,O)}),V(C=>C!==null),fe()),Zn);z(k(e,V(Ts),B(C=>C?.length)),a),z(k(v,B(C=>C.topListHeight)),f),z(f,l),z(k(v,B(C=>[C.top,C.bottom])),i),z(k(v,B(C=>C.items)),h);const j=Ge(k(v,V(({items:C})=>C.length>0),Z(a,e),V(([{items:C},b])=>C[C.length-1].originalIndex===b-1),B(([,C,b])=>[C-1,b]),fe(hn),B(([C])=>C))),_=Ge(k(v,wt(200),V(({items:C,topItems:b})=>C.length>0&&C[0].originalIndex===b.length),B(({items:C})=>C[0].index),fe())),y=Ge(k(v,V(({items:C})=>C.length>0),B(({items:C})=>{let b=0,I=C.length-1;for(;C[b].type==="group"&&b<I;)b++;for(;C[I].type==="group"&&I>b;)I--;return{endIndex:C[I].index,startIndex:C[b].index}}),fe(Wo)));return{endReached:j,initialItemCount:w,itemsRendered:h,listState:v,rangeChanged:y,startReached:_,topItemsIndexes:p,...d}},pe(pt,qo,Ms,wn,xn,bn,Nt,Rs),{singleton:!0}),Qo=oe(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:s,headerHeight:o},{listState:a}])=>{const r=ee(),i=Be(k(ke(s,e,o,t,a),B(([l,c,m,u,f])=>l+c+m+u+f.offsetBottom+f.bottom)),0);return z(F(i),r),{totalListHeight:i,totalListHeightChanged:r}},pe(ze,Gt),{singleton:!0}),Ed=oe(([{viewportHeight:e},{totalListHeight:t}])=>{const s=H(!1),o=Be(k(ke(s,e,t),V(([a])=>a),B(([,a,r])=>Math.max(0,a-r)),wt(0),fe()),0);return{alignToBottom:s,paddingTopAddition:o}},pe(ze,Qo),{singleton:!0}),Jo=oe(()=>({context:H(null)})),Hd=({itemBottom:e,itemTop:t,locationParams:{align:s,behavior:o,...a},viewportBottom:r,viewportTop:i})=>t<i?{...a,align:s??"start",behavior:o}:e>r?{...a,align:s??"end",behavior:o}:null,Zo=oe(([{gap:e,sizes:t,totalCount:s},{fixedFooterHeight:o,fixedHeaderHeight:a,headerHeight:r,scrollingInProgress:i,scrollTop:l,viewportHeight:c},{scrollToIndex:m}])=>{const u=ee();return z(k(u,Z(t,c,s,r,a,o,l),Z(e),B(([[f,d,x,g,p,w,h,v],j])=>{const{align:_,behavior:y,calculateViewLocation:C=Hd,done:b,...I}=f,T=Uo(f,d,g-1),A=fn(T,d.offsetTree,j)+p+w,E=A+rt(d.sizeTree,T)[1],$=v+w,O=v+x-h,R=C({itemBottom:E,itemTop:A,locationParams:{align:_,behavior:y,...I},viewportBottom:O,viewportTop:$});return R?b&&at(k(i,V(D=>!D),Ft(je(i)?1:2)),b):b&&b(),R}),V(f=>f!==null)),m),{scrollIntoView:u}},pe(pt,ze,xn,Gt,kt),{singleton:!0});function oo(e){return e?e==="smooth"?"smooth":"auto":!1}const Ad=(e,t)=>typeof e=="function"?oo(e(t)):t&&oo(e),Md=oe(([{listRefresh:e,totalCount:t,fixedItemSize:s,data:o},{atBottomState:a,isAtBottom:r},{scrollToIndex:i},{scrolledToInitialItem:l},{didMount:c,propsReady:m},{log:u},{scrollingInProgress:f},{context:d},{scrollIntoView:x}])=>{const g=H(!1),p=ee();let w=null;function h(y){Q(i,{align:"end",behavior:y,index:"LAST"})}ie(k(ke(k(F(t),Ft(1)),c),Z(F(g),r,l,f),B(([[y,C],b,I,T,A])=>{let E=C&&T,$="auto";return E&&($=Ad(b,I||A),E=E&&!!$),{followOutputBehavior:$,shouldFollow:E,totalCount:y}}),V(({shouldFollow:y})=>y)),({followOutputBehavior:y,totalCount:C})=>{w&&(w(),w=null),je(s)?requestAnimationFrame(()=>{je(u)("following output to ",{totalCount:C},Fe.DEBUG),h(y)}):w=at(e,()=>{je(u)("following output to ",{totalCount:C},Fe.DEBUG),h(y),w=null})});function v(y){const C=at(a,b=>{y&&!b.atBottom&&b.notAtBottomBecause==="SIZE_INCREASED"&&!w&&(je(u)("scrolling to bottom due to increased size",{},Fe.DEBUG),h("auto"))});setTimeout(C,100)}ie(k(ke(F(g),t,m),V(([y,,C])=>y&&C),ft(({value:y},[,C])=>({refreshed:y===C,value:C}),{refreshed:!1,value:0}),V(({refreshed:y})=>y),Z(g,t)),([,y])=>{je(l)&&v(y!==!1)}),ie(p,()=>{v(je(g)!==!1)}),ie(ke(F(g),a),([y,C])=>{y&&!C.atBottom&&C.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&h("auto")});const j=H(null),_=ee();return z(ds(k(F(o),B(y=>{var C;return(C=y?.length)!=null?C:0})),k(F(t))),_),ie(k(ke(k(_,Ft(1)),c),Z(F(j),l,f,d),B(([[y,C],b,I,T,A])=>C&&I&&b?.({context:A,totalCount:y,scrollingInProgress:T})),V(y=>!!y),wt(0)),y=>{w&&(w(),w=null),je(s)?requestAnimationFrame(()=>{je(u)("scrolling into view",{}),Q(x,y)}):w=at(e,()=>{je(u)("scrolling into view",{}),Q(x,y),w=null})}),{autoscrollToBottom:p,followOutput:g,scrollIntoViewOnChange:j}},pe(pt,bn,xn,wn,Nt,kt,ze,Jo,Zo)),Od=oe(([{data:e,firstItemIndex:t,gap:s,sizes:o},{initialTopMostItemIndex:a},{initialItemCount:r,listState:i},{didMount:l}])=>(z(k(l,Z(r),V(([,c])=>c!==0),Z(a,o,t,s,e),B(([[,c],m,u,f,d,x=[]])=>Ko(c,m,u,f,d,x))),i),{}),pe(pt,wn,Gt,Nt),{singleton:!0}),Ld=oe(([{didMount:e},{scrollTo:t},{listState:s}])=>{const o=H(0);return ie(k(e,Z(o),V(([,a])=>a!==0),B(([,a])=>({top:a}))),a=>{at(k(s,Ft(1),V(r=>r.items.length>1)),()=>{requestAnimationFrame(()=>{Q(t,a)})})}),{initialScrollTop:o}},pe(Nt,ze,Gt),{singleton:!0}),ea=oe(([{scrollVelocity:e}])=>{const t=H(!1),s=ee(),o=H(!1);return z(k(e,Z(o,t,s),V(([a,r])=>!!r),B(([a,r,i,l])=>{const{enter:c,exit:m}=r;if(i){if(m(a,l))return!1}else if(c(a,l))return!0;return i}),fe()),t),ie(k(ke(t,e,s),Z(o)),([[a,r,i],l])=>{a&&l&&l.change&&l.change(r,i)}),{isSeeking:t,scrollSeekConfiguration:o,scrollSeekRangeChanged:s,scrollVelocity:e}},pe(bn),{singleton:!0}),Os=oe(([{scrollContainerState:e,scrollTo:t}])=>{const s=ee(),o=ee(),a=ee(),r=H(!1),i=H(void 0);return z(k(ke(s,o),B(([{scrollHeight:l,scrollTop:c,viewportHeight:m},{offsetTop:u}])=>({scrollHeight:l,scrollTop:Math.max(0,c-u),viewportHeight:m}))),e),z(k(t,Z(o),B(([l,{offsetTop:c}])=>({...l,top:l.top+c}))),a),{customScrollParent:i,useWindowScroll:r,windowScrollContainerState:s,windowScrollTo:a,windowViewportRect:o}},pe(ze)),Bd=oe(([{sizeRanges:e,sizes:t},{headerHeight:s,scrollTop:o},{initialTopMostItemIndex:a},{didMount:r},{useWindowScroll:i,windowScrollContainerState:l,windowViewportRect:c}])=>{const m=ee(),u=H(void 0),f=H(null),d=H(null);return z(l,f),z(c,d),ie(k(m,Z(t,o,i,f,d,s)),([x,g,p,w,h,v,j])=>{const _=bd(g.sizeTree);w&&h!==null&&v!==null&&(p=h.scrollTop-v.offsetTop),p-=j,x({ranges:_,scrollTop:p})}),z(k(u,V(Ts),B(Dd)),a),z(k(r,Z(u),V(([,x])=>x!==void 0),fe(),B(([,x])=>x.ranges)),e),{getState:m,restoreStateFrom:u}},pe(pt,ze,wn,Nt,Os));function Dd(e){return{align:"start",index:0,offset:e.scrollTop}}const zd=oe(([{topItemsIndexes:e}])=>{const t=H(0);return z(k(t,V(s=>s>=0),B(s=>Array.from({length:s}).map((o,a)=>a))),e),{topItemCount:t}},pe(Gt));function ta(e){let t=!1,s;return()=>(t||(t=!0,s=e()),s)}const $d=ta(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Pd=oe(([{deviation:e,scrollBy:t,scrollingInProgress:s,scrollTop:o},{isAtBottom:a,isScrolling:r,lastJumpDueToItemResize:i,scrollDirection:l},{listState:c},{beforeUnshiftWith:m,gap:u,shiftWithOffset:f,sizes:d},{log:x},{recalcInProgress:g}])=>{const p=Ge(k(c,Z(i),ft(([,h,v,j],[{bottom:_,items:y,offsetBottom:C,totalCount:b},I])=>{const T=_+C;let A=0;return v===b&&h.length>0&&y.length>0&&(y[0].originalIndex===0&&h[0].originalIndex===0||(A=T-j,A!==0&&(A+=I))),[A,y,b,T]},[0,[],0,0]),V(([h])=>h!==0),Z(o,l,s,a,x,g),V(([,h,v,j,,,_])=>!_&&!j&&h!==0&&v===pn),B(([[h],,,,,v])=>(v("Upward scrolling compensation",{amount:h},Fe.DEBUG),h))));function w(h){h>0?(Q(t,{behavior:"auto",top:-h}),Q(e,0)):(Q(e,0),Q(t,{behavior:"auto",top:-h}))}return ie(k(p,Z(e,r)),([h,v,j])=>{j&&$d()?Q(e,v-h):w(-h)}),ie(k(ke(Be(r,!1),e,g),V(([h,v,j])=>!h&&!j&&v!==0),B(([h,v])=>v),wt(1)),w),z(k(f,B(h=>({top:-h}))),t),ie(k(m,Z(d,u),B(([h,{groupIndices:v,lastSize:j,sizeTree:_},y])=>{function C(b){return b*(j+y)}if(v.length===0)return C(h);{let b=0;const I=mn(_,0);let T=0,A=0;for(;T<h;){T++,b+=I;let E=v.length===A+1?1/0:v[A+1]-v[A]-1;T+E>h&&(b-=I,E=h-T+1),T+=E,b+=C(E),A++}return b}})),h=>{Q(e,h),requestAnimationFrame(()=>{Q(t,{top:h}),requestAnimationFrame(()=>{Q(e,0),Q(g,!1)})})}),{deviation:e}},pe(ze,bn,Gt,pt,kt,Rs)),Fd=oe(([e,t,s,o,a,r,i,l,c,m,u])=>({...e,...t,...s,...o,...a,...r,...i,...l,...c,...m,...u}),pe(Ms,Od,Nt,ea,Qo,Ld,Ed,Os,Zo,kt,Jo)),na=oe(([{data:e,defaultItemSize:t,firstItemIndex:s,fixedItemSize:o,gap:a,groupIndices:r,itemSize:i,sizeRanges:l,sizes:c,statefulTotalCount:m,totalCount:u,trackItemSizes:f},{initialItemFinalLocationReached:d,initialTopMostItemIndex:x,scrolledToInitialItem:g},p,w,h,{listState:v,topItemsIndexes:j,..._},{scrollToIndex:y},C,{topItemCount:b},{groupCounts:I},T])=>(z(_.rangeChanged,T.scrollSeekRangeChanged),z(k(T.windowViewportRect,B(A=>A.visibleHeight)),p.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:s,fixedItemHeight:o,gap:a,groupCounts:I,initialItemFinalLocationReached:d,initialTopMostItemIndex:x,scrolledToInitialItem:g,sizeRanges:l,topItemCount:b,topItemsIndexes:j,totalCount:u,...h,groupIndices:r,itemSize:i,listState:v,scrollToIndex:y,statefulTotalCount:m,trackItemSizes:f,..._,...T,...p,sizes:c,...w}),pe(pt,wn,ze,Bd,Md,Gt,xn,Pd,zd,qo,Fd));function Wd(e,t){const s={},o={};let a=0;const r=e.length;for(;a<r;)o[e[a]]=1,a+=1;for(const i in t)Object.hasOwn(o,i)||(s[i]=t[i]);return s}const An=typeof document<"u"?S.useLayoutEffect:S.useEffect;function sa(e,t,s){const o=Object.keys(t.required||{}),a=Object.keys(t.optional||{}),r=Object.keys(t.methods||{}),i=Object.keys(t.events||{}),l=S.createContext({});function c(w,h){w.propsReady&&Q(w.propsReady,!1);for(const v of o){const j=w[t.required[v]];Q(j,h[v])}for(const v of a)if(v in h){const j=w[t.optional[v]];Q(j,h[v])}w.propsReady&&Q(w.propsReady,!0)}function m(w){return r.reduce((h,v)=>(h[v]=j=>{const _=w[t.methods[v]];Q(_,j)},h),{})}function u(w){return i.reduce((h,v)=>(h[v]=ad(w[t.events[v]]),h),{})}const f=S.forwardRef((w,h)=>{const{children:v,...j}=w,[_]=S.useState(()=>qn(id(e),b=>{c(b,j)})),[y]=S.useState(Ys(u,_));An(()=>{for(const b of i)b in j&&ie(y[b],j[b]);return()=>{Object.values(y).map(ks)}},[j,y,_]),An(()=>{c(_,j)}),S.useImperativeHandle(h,Xs(m(_)));const C=s;return n.jsx(l.Provider,{value:_,children:s?n.jsx(C,{...Wd([...o,...a,...i],j),children:v}):v})}),d=w=>{const h=S.useContext(l);return S.useCallback(v=>{Q(h[w],v)},[h,w])},x=w=>{const h=S.useContext(l)[w],v=S.useCallback(j=>ie(h,j),[h]);return S.useSyncExternalStore(v,()=>je(h),()=>je(h))},g=w=>{const h=S.useContext(l)[w],[v,j]=S.useState(Ys(je,h));return An(()=>ie(h,_=>{_!==v&&j(Xs(_))}),[h,v]),v},p=S.version.startsWith("18")?x:g;return{Component:f,useEmitter:(w,h)=>{const v=S.useContext(l)[w];An(()=>ie(v,h),[h,v])},useEmitterValue:p,usePublisher:d}}const oa=S.createContext(void 0),aa=S.createContext(void 0),ra=typeof document<"u"?S.useLayoutEffect:S.useEffect;function es(e){return"self"in e}function Vd(e){return"body"in e}function ia(e,t,s,o=Jt,a,r){const i=S.useRef(null),l=S.useRef(null),c=S.useRef(null),m=S.useCallback(d=>{let x,g,p;const w=d.target;if(Vd(w)||es(w)){const v=es(w)?w:w.defaultView;p=r?v.scrollX:v.scrollY,x=r?v.document.documentElement.scrollWidth:v.document.documentElement.scrollHeight,g=r?v.innerWidth:v.innerHeight}else p=r?w.scrollLeft:w.scrollTop,x=r?w.scrollWidth:w.scrollHeight,g=r?w.offsetWidth:w.offsetHeight;const h=()=>{e({scrollHeight:x,scrollTop:Math.max(p,0),viewportHeight:g})};d.suppressFlushSync?h():qa.flushSync(h),l.current!==null&&(p===l.current||p<=0||p===x-g)&&(l.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t,r]);S.useEffect(()=>{const d=a||i.current;return o(a||i.current),m({suppressFlushSync:!0,target:d}),d.addEventListener("scroll",m,{passive:!0}),()=>{o(null),d.removeEventListener("scroll",m)}},[i,m,s,o,a]);function u(d){const x=i.current;if(!x||(r?"offsetWidth"in x&&x.offsetWidth===0:"offsetHeight"in x&&x.offsetHeight===0))return;const g=d.behavior==="smooth";let p,w,h;es(x)?(w=Math.max(jt(x.document.documentElement,r?"width":"height"),r?x.document.documentElement.scrollWidth:x.document.documentElement.scrollHeight),p=r?x.innerWidth:x.innerHeight,h=r?window.scrollX:window.scrollY):(w=x[r?"scrollWidth":"scrollHeight"],p=jt(x,r?"width":"height"),h=x[r?"scrollLeft":"scrollTop"]);const v=w-p;if(d.top=Math.ceil(Math.max(Math.min(v,d.top),0)),Yo(p,w)||d.top===h){e({scrollHeight:w,scrollTop:h,viewportHeight:p}),g&&t(!0);return}g?(l.current=d.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,l.current=null,t(!0)},1e3)):l.current=null,r&&(d={behavior:d.behavior,left:d.top}),x.scrollTo(d)}function f(d){r&&(d={behavior:d.behavior,left:d.top}),i.current.scrollBy(d)}return{scrollByCallback:f,scrollerRef:i,scrollToCallback:u}}const ts="-webkit-sticky",ao="sticky",Ls=ta(()=>{if(typeof document>"u")return ao;const e=document.createElement("div");return e.style.position=ts,e.style.position===ts?ts:ao});function Bs(e){return e}const Gd=oe(()=>{const e=H(l=>`Item ${l}`),t=H(l=>`Group ${l}`),s=H({}),o=H(Bs),a=H("div"),r=H(Jt),i=(l,c=null)=>Be(k(s,B(m=>m[l]),fe()),c);return{components:s,computeItemKey:o,EmptyPlaceholder:i("EmptyPlaceholder"),FooterComponent:i("Footer"),GroupComponent:i("Group","div"),groupContent:t,HeaderComponent:i("Header"),HeaderFooterTag:a,ItemComponent:i("Item","div"),itemContent:e,ListComponent:i("List","div"),ScrollerComponent:i("Scroller","div"),scrollerRef:r,ScrollSeekPlaceholder:i("ScrollSeekPlaceholder"),TopItemListComponent:i("TopItemList")}}),Ud=oe(([e,t])=>({...e,...t}),pe(na,Gd)),qd=({height:e})=>n.jsx("div",{style:{height:e}}),Xd={overflowAnchor:"none",position:Ls(),zIndex:1},la={overflowAnchor:"none"},Yd={...la,display:"inline-block",height:"100%"},ro=S.memo(function({showTopList:e=!1}){const t=X("listState"),s=Je("sizeRanges"),o=X("useWindowScroll"),a=X("customScrollParent"),r=Je("windowScrollContainerState"),i=Je("scrollContainerState"),l=a||o?r:i,c=X("itemContent"),m=X("context"),u=X("groupContent"),f=X("trackItemSizes"),d=X("itemSize"),x=X("log"),g=Je("gap"),p=X("horizontalDirection"),{callbackRef:w}=dd(s,d,f,e?Jt:l,x,g,a,p,X("skipAnimationFrameInResizeObserver")),[h,v]=S.useState(0);Ds("deviation",R=>{h!==R&&v(R)});const j=X("EmptyPlaceholder"),_=X("ScrollSeekPlaceholder")||qd,y=X("ListComponent"),C=X("ItemComponent"),b=X("GroupComponent"),I=X("computeItemKey"),T=X("isSeeking"),A=X("groupIndices").length>0,E=X("alignToBottom"),$=X("initialItemFinalLocationReached"),O=e?{}:{boxSizing:"border-box",...p?{display:"inline-block",height:"100%",marginLeft:h!==0?h:E?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:h!==0?h:E?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...$?{}:{visibility:"hidden"}};return!e&&t.totalCount===0&&j?n.jsx(j,{...Le(j,m)}):n.jsx(y,{...Le(y,m),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:w,style:O,children:(e?t.topItems:t.items).map(R=>{const D=R.originalIndex,q=I(D+t.firstItemIndex,R.data,m);return T?M.createElement(_,{...Le(_,m),height:R.size,index:R.index,key:q,type:R.type||"item",...R.type==="group"?{}:{groupIndex:R.groupIndex}}):R.type==="group"?M.createElement(b,{...Le(b,m),"data-index":D,"data-item-index":R.index,"data-known-size":R.size,key:q,style:Xd},u(R.index,m)):M.createElement(C,{...Le(C,m),...Zd(C,R.data),"data-index":D,"data-item-group-index":R.groupIndex,"data-item-index":R.index,"data-known-size":R.size,key:q,style:p?Yd:la},A?c(R.index,R.groupIndex,R.data,m):c(R.index,R.data,m))})})}),Kd={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Qd={outline:"none",overflowX:"auto",position:"relative"},Kn=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),Jd={position:Ls(),top:0,width:"100%",zIndex:1};function Le(e,t){if(typeof e!="string")return{context:t}}function Zd(e,t){return{item:typeof e=="string"?void 0:t}}const eu=S.memo(function(){const e=X("HeaderComponent"),t=Je("headerHeight"),s=X("HeaderFooterTag"),o=Vt(S.useMemo(()=>r=>{t(jt(r,"height"))},[t]),!0,X("skipAnimationFrameInResizeObserver")),a=X("context");return e?n.jsx(s,{ref:o,children:n.jsx(e,{...Le(e,a)})}):null}),tu=S.memo(function(){const e=X("FooterComponent"),t=Je("footerHeight"),s=X("HeaderFooterTag"),o=Vt(S.useMemo(()=>r=>{t(jt(r,"height"))},[t]),!0,X("skipAnimationFrameInResizeObserver")),a=X("context");return e?n.jsx(s,{ref:o,children:n.jsx(e,{...Le(e,a)})}):null});function ca({useEmitter:e,useEmitterValue:t,usePublisher:s}){return S.memo(function({children:o,style:a,context:r,...i}){const l=s("scrollContainerState"),c=t("ScrollerComponent"),m=s("smoothScrollTargetReached"),u=t("scrollerRef"),f=t("horizontalDirection")||!1,{scrollByCallback:d,scrollerRef:x,scrollToCallback:g}=ia(l,m,c,u,void 0,f);return e("scrollTo",g),e("scrollBy",d),n.jsx(c,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:x,style:{...f?Qd:Kd,...a},tabIndex:0,...i,...Le(c,r),children:o})})}function da({useEmitter:e,useEmitterValue:t,usePublisher:s}){return S.memo(function({children:o,style:a,context:r,...i}){const l=s("windowScrollContainerState"),c=t("ScrollerComponent"),m=s("smoothScrollTargetReached"),u=t("totalListHeight"),f=t("deviation"),d=t("customScrollParent"),x=S.useRef(null),g=t("scrollerRef"),{scrollByCallback:p,scrollerRef:w,scrollToCallback:h}=ia(l,m,c,g,d);return ra(()=>{var v;return w.current=d||((v=x.current)==null?void 0:v.ownerDocument.defaultView),()=>{w.current=null}},[w,d]),e("windowScrollTo",h),e("scrollBy",p),n.jsx(c,{ref:x,"data-virtuoso-scroller":!0,style:{position:"relative",...a,...u!==0?{height:u+f}:{}},...i,...Le(c,r),children:o})})}const nu=({children:e})=>{const t=S.useContext(oa),s=Je("viewportHeight"),o=Je("fixedItemHeight"),a=X("alignToBottom"),r=X("horizontalDirection"),i=S.useMemo(()=>Oo(s,c=>jt(c,r?"width":"height")),[s,r]),l=Vt(i,!0,X("skipAnimationFrameInResizeObserver"));return S.useEffect(()=>{t&&(s(t.viewportHeight),o(t.itemHeight))},[t,s,o]),n.jsx("div",{"data-viewport-type":"element",ref:l,style:Kn(a),children:e})},su=({children:e})=>{const t=S.useContext(oa),s=Je("windowViewportRect"),o=Je("fixedItemHeight"),a=X("customScrollParent"),r=Bo(s,a,X("skipAnimationFrameInResizeObserver")),i=X("alignToBottom");return S.useEffect(()=>{t&&(o(t.itemHeight),s({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,s,o]),n.jsx("div",{"data-viewport-type":"window",ref:r,style:Kn(i),children:e})},ou=({children:e})=>{const t=X("TopItemListComponent")||"div",s=X("headerHeight"),o={...Jd,marginTop:`${s}px`},a=X("context");return n.jsx(t,{style:o,...Le(t,a),children:e})},au=S.memo(function(e){const t=X("useWindowScroll"),s=X("topItemsIndexes").length>0,o=X("customScrollParent"),a=X("context");return n.jsxs(o||t?lu:iu,{...e,context:a,children:[s&&n.jsx(ou,{children:n.jsx(ro,{showTopList:!0})}),n.jsxs(o||t?su:nu,{children:[n.jsx(eu,{}),n.jsx(ro,{}),n.jsx(tu,{})]})]})}),{Component:ru,useEmitter:Ds,useEmitterValue:X,usePublisher:Je}=sa(Ud,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},au),iu=ca({useEmitter:Ds,useEmitterValue:X,usePublisher:Je}),lu=da({useEmitter:Ds,useEmitterValue:X,usePublisher:Je}),cu=ru,du=oe(()=>{const e=H(m=>n.jsxs("td",{children:["Item $",m]})),t=H(null),s=H(m=>n.jsxs("td",{colSpan:1e3,children:["Group ",m]})),o=H(null),a=H(null),r=H({}),i=H(Bs),l=H(Jt),c=(m,u=null)=>Be(k(r,B(f=>f[m]),fe()),u);return{components:r,computeItemKey:i,context:t,EmptyPlaceholder:c("EmptyPlaceholder"),FillerRow:c("FillerRow"),fixedFooterContent:a,fixedHeaderContent:o,itemContent:e,groupContent:s,ScrollerComponent:c("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder"),TableBodyComponent:c("TableBody","tbody"),TableComponent:c("Table","table"),TableFooterComponent:c("TableFoot","tfoot"),TableHeadComponent:c("TableHead","thead"),TableRowComponent:c("TableRow","tr"),GroupComponent:c("Group","tr")}});pe(na,du);Ls();const io={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},uu={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:lo,floor:Wn,max:dn,min:ns,round:co}=Math;function uo(e,t,s){return Array.from({length:t-e+1}).map((o,a)=>({data:s===null?null:s[a+e],index:a+e}))}function mu(e){return{...uu,items:e}}function Mn(e,t){return e&&e.width===t.width&&e.height===t.height}function hu(e,t){return e&&e.column===t.column&&e.row===t.row}const fu=oe(([{increaseViewportBy:e,listBoundary:t,overscan:s,visibleRange:o},{footerHeight:a,headerHeight:r,scrollBy:i,scrollContainerState:l,scrollTo:c,scrollTop:m,smoothScrollTargetReached:u,viewportHeight:f},d,x,{didMount:g,propsReady:p},{customScrollParent:w,useWindowScroll:h,windowScrollContainerState:v,windowScrollTo:j,windowViewportRect:_},y])=>{const C=H(0),b=H(0),I=H(io),T=H({height:0,width:0}),A=H({height:0,width:0}),E=ee(),$=ee(),O=H(0),R=H(null),D=H({column:0,row:0}),q=ee(),J=ee(),ae=H(!1),be=H(0),ye=H(!0),Ne=H(!1),qe=H(!1);ie(k(g,Z(be),V(([N,Y])=>!!Y)),()=>{Q(ye,!1)}),ie(k(ke(g,ye,A,T,be,Ne),V(([N,Y,re,ce,,ue])=>N&&!Y&&re.height!==0&&ce.height!==0&&!ue)),([,,,,N])=>{Q(Ne,!0),Hs(1,()=>{Q(E,N)}),at(k(m),()=>{Q(t,[0,0]),Q(ye,!0)})}),z(k(J,V(N=>N!=null&&N.scrollTop>0),ht(0)),b),ie(k(g,Z(J),V(([,N])=>N!=null)),([,N])=>{N&&(Q(T,N.viewport),Q(A,N.item),Q(D,N.gap),N.scrollTop>0&&(Q(ae,!0),at(k(m,Ft(1)),Y=>{Q(ae,!1)}),Q(c,{top:N.scrollTop})))}),z(k(T,B(({height:N})=>N)),f),z(k(ke(F(T,Mn),F(A,Mn),F(D,(N,Y)=>N&&N.column===Y.column&&N.row===Y.row),F(m)),B(([N,Y,re,ce])=>({gap:re,item:Y,scrollTop:ce,viewport:N}))),q),z(k(ke(F(C),o,F(D,hu),F(A,Mn),F(T,Mn),F(R),F(b),F(ae),F(ye),F(be)),V(([,,,,,,,N])=>!N),B(([N,[Y,re],ce,ue,Ye,U,gt,,Rt,Ke])=>{const{column:it,row:Et}=ce,{height:nt,width:Ut}=ue,{width:Cn}=Ye;if(gt===0&&(N===0||Cn===0))return io;if(Ut===0){const Tn=As(Ke,N),At=Tn+Math.max(gt-1,0);return mu(uo(Tn,At,U))}const lt=ua(Cn,Ut,it);let bt,ct;Rt?Y===0&&re===0&&gt>0?(bt=0,ct=gt-1):(bt=lt*Wn((Y+Et)/(nt+Et)),ct=lt*lo((re+Et)/(nt+Et))-1,ct=ns(N-1,dn(ct,lt-1)),bt=ns(ct,dn(0,bt))):(bt=0,ct=-1);const _n=uo(bt,ct,U),{bottom:Sn,top:Ht}=mo(Ye,ce,ue,_n),jn=lo(N/lt),In=jn*nt+(jn-1)*Et-Sn;return{bottom:Sn,itemHeight:nt,items:_n,itemWidth:Ut,offsetBottom:In,offsetTop:Ht,top:Ht}})),I),z(k(R,V(N=>N!==null),B(N=>N.length)),C),z(k(ke(T,A,I,D),V(([N,Y,{items:re}])=>re.length>0&&Y.height!==0&&N.height!==0),B(([N,Y,{items:re},ce])=>{const{bottom:ue,top:Ye}=mo(N,ce,Y,re);return[Ye,ue]}),fe(hn)),t);const _e=H(!1);z(k(m,Z(_e),B(([N,Y])=>Y||N!==0)),_e);const Xe=Ge(k(ke(I,C),V(([{items:N}])=>N.length>0),Z(_e),V(([[N,Y],re])=>{const ce=N.items[N.items.length-1].index===Y-1;return(re||N.bottom>0&&N.itemHeight>0&&N.offsetBottom===0&&N.items.length===Y)&&ce}),B(([[,N]])=>N-1),fe())),tt=Ge(k(F(I),V(({items:N})=>N.length>0&&N[0].index===0),ht(0),fe())),P=Ge(k(F(I),Z(ae),V(([{items:N},Y])=>N.length>0&&!Y),B(([{items:N}])=>({endIndex:N[N.length-1].index,startIndex:N[0].index})),fe(Wo),wt(0)));z(P,x.scrollSeekRangeChanged),z(k(E,Z(T,A,C,D),B(([N,Y,re,ce,ue])=>{const Ye=Xo(N),{align:U,behavior:gt,offset:Rt}=Ye;let Ke=Ye.index;Ke==="LAST"&&(Ke=ce-1),Ke=dn(0,Ke,ns(ce-1,Ke));let it=ps(Y,ue,re,Ke);return U==="end"?it=co(it-Y.height+re.height):U==="center"&&(it=co(it-Y.height/2+re.height/2)),Rt&&(it+=Rt),{behavior:gt,top:it}})),c);const K=Be(k(I,B(N=>N.offsetBottom+N.bottom)),0);return z(k(_,B(N=>({height:N.visibleHeight,width:N.visibleWidth}))),T),{customScrollParent:w,data:R,deviation:O,footerHeight:a,gap:D,headerHeight:r,increaseViewportBy:e,initialItemCount:b,itemDimensions:A,overscan:s,restoreStateFrom:J,scrollBy:i,scrollContainerState:l,scrollHeight:$,scrollTo:c,scrollToIndex:E,scrollTop:m,smoothScrollTargetReached:u,totalCount:C,useWindowScroll:h,viewportDimensions:T,windowScrollContainerState:v,windowScrollTo:j,windowViewportRect:_,...x,gridState:I,horizontalDirection:qe,initialTopMostItemIndex:be,totalListHeight:K,...d,endReached:Xe,propsReady:p,rangeChanged:P,startReached:tt,stateChanged:q,stateRestoreInProgress:ae,...y}},pe(Ms,ze,bn,ea,Nt,Os,kt));function ua(e,t,s){return dn(1,Wn((e+s)/(Wn(t)+s)))}function mo(e,t,s,o){const{height:a}=s;if(a===void 0||o.length===0)return{bottom:0,top:0};const r=ps(e,t,s,o[0].index);return{bottom:ps(e,t,s,o[o.length-1].index)+a,top:r}}function ps(e,t,s,o){const a=ua(e.width,s.width,t.column),r=Wn(o/a),i=r*s.height+dn(0,r-1)*t.row;return i>0?i+t.row:i}const pu=oe(()=>{const e=H(f=>`Item ${f}`),t=H({}),s=H(null),o=H("virtuoso-grid-item"),a=H("virtuoso-grid-list"),r=H(Bs),i=H("div"),l=H(Jt),c=(f,d=null)=>Be(k(t,B(x=>x[f]),fe()),d),m=H(!1),u=H(!1);return z(F(u),m),{components:t,computeItemKey:r,context:s,FooterComponent:c("Footer"),HeaderComponent:c("Header"),headerFooterTag:i,itemClassName:o,ItemComponent:c("Item","div"),itemContent:e,listClassName:a,ListComponent:c("List","div"),readyStateChanged:m,reportReadyState:u,ScrollerComponent:c("Scroller","div"),scrollerRef:l,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),gu=oe(([e,t])=>({...e,...t}),pe(fu,pu)),vu=S.memo(function(){const e=ge("gridState"),t=ge("listClassName"),s=ge("itemClassName"),o=ge("itemContent"),a=ge("computeItemKey"),r=ge("isSeeking"),i=Ze("scrollHeight"),l=ge("ItemComponent"),c=ge("ListComponent"),m=ge("ScrollSeekPlaceholder"),u=ge("context"),f=Ze("itemDimensions"),d=Ze("gap"),x=ge("log"),g=ge("stateRestoreInProgress"),p=Ze("reportReadyState"),w=Vt(S.useMemo(()=>h=>{const v=h.parentElement.parentElement.scrollHeight;i(v);const j=h.firstChild;if(j){const{height:_,width:y}=j.getBoundingClientRect();f({height:_,width:y})}d({column:ho("column-gap",getComputedStyle(h).columnGap,x),row:ho("row-gap",getComputedStyle(h).rowGap,x)})},[i,f,d,x]),!0,!1);return ra(()=>{e.itemHeight>0&&e.itemWidth>0&&p(!0)},[e]),g?null:n.jsx(c,{className:t,ref:w,...Le(c,u),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(h=>{const v=a(h.index,h.data,u);return r?n.jsx(m,{...Le(m,u),height:e.itemHeight,index:h.index,width:e.itemWidth},v):M.createElement(l,{...Le(l,u),className:s,"data-index":h.index,key:v},o(h.index,h.data,u))})})}),xu=S.memo(function(){const e=ge("HeaderComponent"),t=Ze("headerHeight"),s=ge("headerFooterTag"),o=Vt(S.useMemo(()=>r=>{t(jt(r,"height"))},[t]),!0,!1),a=ge("context");return e?n.jsx(s,{ref:o,children:n.jsx(e,{...Le(e,a)})}):null}),wu=S.memo(function(){const e=ge("FooterComponent"),t=Ze("footerHeight"),s=ge("headerFooterTag"),o=Vt(S.useMemo(()=>r=>{t(jt(r,"height"))},[t]),!0,!1),a=ge("context");return e?n.jsx(s,{ref:o,children:n.jsx(e,{...Le(e,a)})}):null}),bu=({children:e})=>{const t=S.useContext(aa),s=Ze("itemDimensions"),o=Ze("viewportDimensions"),a=Vt(S.useMemo(()=>r=>{o(r.getBoundingClientRect())},[o]),!0,!1);return S.useEffect(()=>{t&&(o({height:t.viewportHeight,width:t.viewportWidth}),s({height:t.itemHeight,width:t.itemWidth}))},[t,o,s]),n.jsx("div",{ref:a,style:Kn(!1),children:e})},yu=({children:e})=>{const t=S.useContext(aa),s=Ze("windowViewportRect"),o=Ze("itemDimensions"),a=ge("customScrollParent"),r=Bo(s,a,!1);return S.useEffect(()=>{t&&(o({height:t.itemHeight,width:t.itemWidth}),s({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,s,o]),n.jsx("div",{ref:r,style:Kn(!1),children:e})},Cu=S.memo(function({...e}){const t=ge("useWindowScroll"),s=ge("customScrollParent"),o=s||t?Su:_u,a=s||t?yu:bu,r=ge("context");return n.jsx(o,{...e,...Le(o,r),children:n.jsxs(a,{children:[n.jsx(xu,{}),n.jsx(vu,{}),n.jsx(wu,{})]})})}),{useEmitter:ma,useEmitterValue:ge,usePublisher:Ze}=sa(gu,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Cu),_u=ca({useEmitter:ma,useEmitterValue:ge,usePublisher:Ze}),Su=da({useEmitter:ma,useEmitterValue:ge,usePublisher:Ze});function ho(e,t,s){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&s(`${e} was not resolved to pixel value correctly`,t,Fe.WARN),t==="normal"?0:parseInt(t??"0",10)}const ha=Kt({status:"idle"}),ju=Kt("random"),fa=Kt(new Set),pa=Kt(""),Iu=Kt(()=>[...new Set(ko.map(t=>t.location))].map(t=>({id:t,name:t})).sort((t,s)=>t.name.localeCompare(s.name))),Tu=(e,t)=>{if(!t)return e;const s=t.toLowerCase();return e.filter(o=>o.name.toLowerCase().includes(s))},ku=Kt(e=>{const t=e(pa),s=e(Iu),o=e(No),a=e(Ro);if(!o||!a)return[];const r=s.filter(i=>{const l=hr(i.name);return l?.groupId===a&&l?.unitId===o});return Tu(r,t)}),Nu="_wrapper_349p2_5",Ru="_focused_349p2_49",Eu="_searchIcon_349p2_89",Hu="_clearButton_349p2_131",Au="_visuallyHidden_349p2_141",sn={wrapper:Nu,focused:Ru,searchIcon:Eu,clearButton:Hu,visuallyHidden:Au},ga=({value:e,onChange:t,placeholder:s,variant:o,autoFocus:a=!1})=>{const[r,i]=M.useState(!1),l=M.useRef(null),c=S.useId();M.useEffect(()=>{a&&l.current&&l.current.focus()},[a]);const m=`${sn.wrapper} ${r?sn.focused:""}`;return n.jsxs("div",{className:m,"data-variant":o,children:[n.jsx("label",{htmlFor:c,className:sn.visuallyHidden,children:s}),n.jsx("input",{ref:l,id:c,type:"text",placeholder:s,value:e,onChange:u=>t(u.target.value),onFocus:()=>i(!0),onBlur:()=>i(!1)}),o==="standalone"&&e&&n.jsx(he,{variant:"quaternary",size:"xs",iconOnly:!0,onClick:()=>t(""),"aria-label":"Clear search",className:sn.clearButton,children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})}),n.jsx("span",{className:`material-symbols-rounded ${sn.searchIcon}`,children:"search"})]})};function Mu(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const va=S.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),yn=()=>{const e=S.useContext(va);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Mu(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Ou(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function Lu(){return zs(/^Mac/)}function Bu(){return zs(/^iPhone/)}function fo(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Du(){return zs(/^iPad/)||Lu()&&navigator.maxTouchPoints>1}function xa(){return Bu()||Du()}function zs(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const zu=24,$u=typeof window<"u"?M.useLayoutEffect:M.useEffect;function po(...e){return(...t)=>{for(let s of e)typeof s=="function"&&s(...t)}}const ss=typeof document<"u"&&window.visualViewport;function go(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function wa(e){for(go(e)&&(e=e.parentElement);e&&!go(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Pu=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let On=0,os;function Fu(e={}){let{isDisabled:t}=e;$u(()=>{if(!t)return On++,On===1&&xa()&&(os=Wu()),()=>{On--,On===0&&os?.()}},[t])}function Wu(){let e,t=0,s=f=>{e=wa(f.target),!(e===document.documentElement&&e===document.body)&&(t=f.changedTouches[0].pageY)},o=f=>{if(!e||e===document.documentElement||e===document.body){f.preventDefault();return}let d=f.changedTouches[0].pageY,x=e.scrollTop,g=e.scrollHeight-e.clientHeight;g!==0&&((x<=0&&d>t||x>=g&&d<t)&&f.preventDefault(),t=d)},a=f=>{let d=f.target;gs(d)&&d!==document.activeElement&&(f.preventDefault(),d.style.transform="translateY(-2000px)",d.focus(),requestAnimationFrame(()=>{d.style.transform=""}))},r=f=>{let d=f.target;gs(d)&&(d.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{d.style.transform="",ss&&(ss.height<window.innerHeight?requestAnimationFrame(()=>{vo(d)}):ss.addEventListener("resize",()=>vo(d),{once:!0}))}))},i=()=>{window.scrollTo(0,0)},l=window.pageXOffset,c=window.pageYOffset,m=po(Vu(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let u=po(on(document,"touchstart",s,{passive:!1,capture:!0}),on(document,"touchmove",o,{passive:!1,capture:!0}),on(document,"touchend",a,{passive:!1,capture:!0}),on(document,"focus",r,!0),on(window,"scroll",i));return()=>{m(),u(),window.scrollTo(l,c)}}function Vu(e,t,s){let o=e.style[t];return e.style[t]=s,()=>{e.style[t]=o}}function on(e,t,s,o){return e.addEventListener(t,s,o),()=>{e.removeEventListener(t,s,o)}}function vo(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let s=wa(e);if(s!==document.documentElement&&s!==document.body&&s!==e){let o=s.getBoundingClientRect().top,a=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom;const i=s.getBoundingClientRect().bottom+zu;r>i&&(s.scrollTop+=a-o)}e=s.parentElement}}function gs(e){return e instanceof HTMLInputElement&&!Pu.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Gu(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Uu(...e){return t=>e.forEach(s=>Gu(s,t))}function ba(...e){return M.useCallback(Uu(...e),e)}const ya=new WeakMap;function Ee(e,t,s=!1){if(!e||!(e instanceof HTMLElement))return;let o={};Object.entries(t).forEach(([a,r])=>{if(a.startsWith("--")){e.style.setProperty(a,r);return}o[a]=e.style[a],e.style[a]=r}),!s&&ya.set(e,o)}function qu(e,t){if(!e||!(e instanceof HTMLElement))return;let s=ya.get(e);s&&(e.style[t]=s[t])}const Te=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Ln(e,t){if(!e)return null;const s=window.getComputedStyle(e),o=s.transform||s.webkitTransform||s.mozTransform;let a=o.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Te(t)?13:12]):(a=o.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Te(t)?5:4]):null)}function Xu(e){return 8*(Math.log(e+1)-2)}function as(e,t){if(!e)return()=>{};const s=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=s}}function Yu(...e){return(...t)=>{for(const s of e)typeof s=="function"&&s(...t)}}const ve={DURATION:.5,EASE:[.32,.72,0,1]},Ca=.4,Ku=.25,Qu=100,_a=8,Bt=16,vs=26,rs="vaul-dragging";function Sa(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...s)=>t.current==null?void 0:t.current.call(t,...s),[])}function Ju({defaultProp:e,onChange:t}){const s=S.useState(e),[o]=s,a=S.useRef(o),r=Sa(t);return S.useEffect(()=>{a.current!==o&&(r(o),a.current=o)},[o,a,r]),s}function ja({prop:e,defaultProp:t,onChange:s=()=>{}}){const[o,a]=Ju({defaultProp:t,onChange:s}),r=e!==void 0,i=r?e:o,l=Sa(s),c=S.useCallback(m=>{if(r){const f=typeof m=="function"?m(e):m;f!==e&&l(f)}else a(m)},[r,e,a,l]);return[i,c]}function Zu({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:s,drawerRef:o,overlayRef:a,fadeFromIndex:r,onSnapPointChange:i,direction:l="bottom",container:c,snapToSequentialPoint:m}){const[u,f]=ja({prop:e,defaultProp:s?.[0],onChange:t}),[d,x]=S.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);S.useEffect(()=>{function b(){x({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]);const g=S.useMemo(()=>u===s?.[s.length-1]||null,[s,u]),p=S.useMemo(()=>{var b;return(b=s?.findIndex(I=>I===u))!=null?b:null},[s,u]),w=s&&s.length>0&&(r||r===0)&&!Number.isNaN(r)&&s[r]===u||!s,h=S.useMemo(()=>{const b=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var I;return(I=s?.map(T=>{const A=typeof T=="string";let E=0;if(A&&(E=parseInt(T,10)),Te(l)){const O=A?E:d?T*b.height:0;return d?l==="bottom"?b.height-O:-b.height+O:O}const $=A?E:d?T*b.width:0;return d?l==="right"?b.width-$:-b.width+$:$}))!=null?I:[]},[s,d,c]),v=S.useMemo(()=>p!==null?h?.[p]:null,[h,p]),j=S.useCallback(b=>{var I;const T=(I=h?.findIndex(A=>A===b))!=null?I:null;i(T),Ee(o.current,{transition:`transform ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,transform:Te(l)?`translate3d(0, ${b}px, 0)`:`translate3d(${b}px, 0, 0)`}),h&&T!==h.length-1&&r!==void 0&&T!==r&&T<r?Ee(a.current,{transition:`opacity ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,opacity:"0"}):Ee(a.current,{transition:`opacity ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,opacity:"1"}),f(s?.[Math.max(T,0)])},[o.current,s,h,r,a,f]);S.useEffect(()=>{if(u||e){var b;const I=(b=s?.findIndex(T=>T===e||T===u))!=null?b:-1;h&&I!==-1&&typeof h[I]=="number"&&j(h[I])}},[u,e,s,h,j]);function _({draggedDistance:b,closeDrawer:I,velocity:T,dismissible:A}){if(r===void 0)return;const E=l==="bottom"||l==="right"?(v??0)-b:(v??0)+b,$=p===r-1,O=p===0,R=b>0;if($&&Ee(a.current,{transition:`opacity ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`}),!m&&T>2&&!R){A?I():j(h[0]);return}if(!m&&T>2&&R&&h&&s){j(h[s.length-1]);return}const D=h?.reduce((J,ae)=>typeof J!="number"||typeof ae!="number"?J:Math.abs(ae-E)<Math.abs(J-E)?ae:J),q=Te(l)?window.innerHeight:window.innerWidth;if(T>Ca&&Math.abs(b)<q*.4){const J=R?1:-1;if(J>0&&g&&s){j(h[s.length-1]);return}if(O&&J<0&&A&&I(),p===null)return;j(h[p+J]);return}j(D)}function y({draggedDistance:b}){if(v===null)return;const I=l==="bottom"||l==="right"?v-b:v+b;(l==="bottom"||l==="right")&&I<h[h.length-1]||(l==="top"||l==="left")&&I>h[h.length-1]||Ee(o.current,{transform:Te(l)?`translate3d(0, ${I}px, 0)`:`translate3d(${I}px, 0, 0)`})}function C(b,I){if(!s||typeof p!="number"||!h||r===void 0)return null;const T=p===r-1;if(p>=r&&I)return 0;if(T&&!I)return 1;if(!w&&!T)return null;const E=T?p+1:p-1,$=T?h[E]-h[E-1]:h[E+1]-h[E],O=b/Math.abs($);return T?1-O:O}return{isLastSnapPoint:g,activeSnapPoint:u,shouldFade:w,getPercentageDragged:C,setActiveSnapPoint:f,activeSnapPointIndex:p,onRelease:_,onDrag:y,snapPointsOffset:h}}const em=()=>()=>{};function tm(){const{direction:e,isOpen:t,shouldScaleBackground:s,setBackgroundColorOnScale:o,noBodyStyles:a}=yn(),r=S.useRef(null),i=M.useMemo(()=>document.body.style.backgroundColor,[]);function l(){return(window.innerWidth-vs)/window.innerWidth}S.useEffect(()=>{if(t&&s){r.current&&clearTimeout(r.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Yu(o&&!a?as(document.body,{background:"black"}):em,as(c,{transformOrigin:Te(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${ve.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ve.EASE.join(",")})`}));const m=as(c,{borderRadius:`${_a}px`,overflow:"hidden",...Te(e)?{transform:`scale(${l()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${l()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{m(),r.current=window.setTimeout(()=>{i?document.body.style.background=i:document.body.style.removeProperty("background")},ve.DURATION*1e3)}}},[t,s,i])}let an=null;function nm({isOpen:e,modal:t,nested:s,hasBeenOpened:o,preventScrollRestoration:a,noBodyStyles:r}){const[i,l]=S.useState(()=>typeof window<"u"?window.location.href:""),c=S.useRef(0),m=S.useCallback(()=>{if(fo()&&an===null&&e&&!r){an={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:f,innerHeight:d}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-f}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const x=d-window.innerHeight;x&&c.current>=d&&(document.body.style.top=`${-(c.current+x)}px`)}),300)}},[e]),u=S.useCallback(()=>{if(fo()&&an!==null&&!r){const f=-parseInt(document.body.style.top,10),d=-parseInt(document.body.style.left,10);Object.assign(document.body.style,an),window.requestAnimationFrame(()=>{if(a&&i!==window.location.href){l(window.location.href);return}window.scrollTo(d,f)}),an=null}},[i]);return S.useEffect(()=>{function f(){c.current=window.scrollY}return f(),window.addEventListener("scroll",f),()=>{window.removeEventListener("scroll",f)}},[]),S.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||u()}},[t,u]),S.useEffect(()=>{s||!o||(e?(!window.matchMedia("(display-mode: standalone)").matches&&m(),t||window.setTimeout(()=>{u()},500)):u())},[e,o,i,t,s,m,u]),{restorePositionSetting:u}}function sm({open:e,onOpenChange:t,children:s,onDrag:o,onRelease:a,snapPoints:r,shouldScaleBackground:i=!1,setBackgroundColorOnScale:l=!0,closeThreshold:c=Ku,scrollLockTimeout:m=Qu,dismissible:u=!0,handleOnly:f=!1,fadeFromIndex:d=r&&r.length-1,activeSnapPoint:x,setActiveSnapPoint:g,fixed:p,modal:w=!0,onClose:h,nested:v,noBodyStyles:j=!1,direction:_="bottom",defaultOpen:y=!1,disablePreventScroll:C=!0,snapToSequentialPoint:b=!1,preventScrollRestoration:I=!1,repositionInputs:T=!0,onAnimationEnd:A,container:E,autoFocus:$=!1}){var O,R;const[D=!1,q]=ja({defaultProp:y,prop:e,onChange:W=>{t?.(W),!W&&!v&&Sn(),setTimeout(()=>{A?.(W)},ve.DURATION*1e3),W&&!w&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),W||(document.body.style.pointerEvents="auto")}}),[J,ae]=S.useState(!1),[be,ye]=S.useState(!1),[Ne,qe]=S.useState(!1),_e=S.useRef(null),Xe=S.useRef(null),tt=S.useRef(null),P=S.useRef(null),K=S.useRef(null),N=S.useRef(!1),Y=S.useRef(null),re=S.useRef(0),ce=S.useRef(!1),ue=S.useRef(!y),Ye=S.useRef(0),U=S.useRef(null),gt=S.useRef(((O=U.current)==null?void 0:O.getBoundingClientRect().height)||0),Rt=S.useRef(((R=U.current)==null?void 0:R.getBoundingClientRect().width)||0),Ke=S.useRef(0),it=S.useCallback(W=>{r&&W===lt.length-1&&(Xe.current=new Date)},[]),{activeSnapPoint:Et,activeSnapPointIndex:nt,setActiveSnapPoint:Ut,onRelease:Cn,snapPointsOffset:lt,onDrag:bt,shouldFade:ct,getPercentageDragged:_n}=Zu({snapPoints:r,activeSnapPointProp:x,setActiveSnapPointProp:g,drawerRef:U,fadeFromIndex:d,overlayRef:_e,onSnapPointChange:it,direction:_,container:E,snapToSequentialPoint:b});Fu({isDisabled:!D||be||!w||Ne||!J||!T||!C});const{restorePositionSetting:Sn}=nm({isOpen:D,modal:w,nested:v??!1,hasBeenOpened:J,preventScrollRestoration:I,noBodyStyles:j});function Ht(){return(window.innerWidth-vs)/window.innerWidth}function jn(W){var le,me;!u&&!r||U.current&&!U.current.contains(W.target)||(gt.current=((le=U.current)==null?void 0:le.getBoundingClientRect().height)||0,Rt.current=((me=U.current)==null?void 0:me.getBoundingClientRect().width)||0,ye(!0),tt.current=new Date,xa()&&window.addEventListener("touchend",()=>N.current=!1,{once:!0}),W.target.setPointerCapture(W.pointerId),re.current=Te(_)?W.pageY:W.pageX)}function In(W,le){var me;let ne=W;const Se=(me=window.getSelection())==null?void 0:me.toString(),$e=U.current?Ln(U.current,_):null,De=new Date;if(ne.tagName==="SELECT"||ne.hasAttribute("data-vaul-no-drag")||ne.closest("[data-vaul-no-drag]"))return!1;if(_==="right"||_==="left")return!0;if(Xe.current&&De.getTime()-Xe.current.getTime()<500)return!1;if($e!==null&&(_==="bottom"?$e>0:$e<0))return!0;if(Se&&Se.length>0)return!1;if(K.current&&De.getTime()-K.current.getTime()<m&&$e===0||le)return K.current=De,!1;for(;ne;){if(ne.scrollHeight>ne.clientHeight){if(ne.scrollTop!==0)return K.current=new Date,!1;if(ne.getAttribute("role")==="dialog")return!0}ne=ne.parentNode}return!0}function Tn(W){if(U.current&&be){const le=_==="bottom"||_==="right"?1:-1,me=(re.current-(Te(_)?W.pageY:W.pageX))*le,ne=me>0,Se=r&&!u&&!ne;if(Se&&nt===0)return;const $e=Math.abs(me),De=document.querySelector("[data-vaul-drawer-wrapper]"),yt=_==="bottom"||_==="top"?gt.current:Rt.current;let st=$e/yt;const Mt=_n($e,ne);if(Mt!==null&&(st=Mt),Se&&st>=1||!N.current&&!In(W.target,ne))return;if(U.current.classList.add(rs),N.current=!0,Ee(U.current,{transition:"none"}),Ee(_e.current,{transition:"none"}),r&&bt({draggedDistance:me}),ne&&!r){const dt=Xu(me),kn=Math.min(dt*-1,0)*le;Ee(U.current,{transform:Te(_)?`translate3d(0, ${kn}px, 0)`:`translate3d(${kn}px, 0, 0)`});return}const Ct=1-st;if((ct||d&&nt===d-1)&&(o?.(W,st),Ee(_e.current,{opacity:`${Ct}`,transition:"none"},!0)),De&&_e.current&&i){const dt=Math.min(Ht()+st*(1-Ht()),1),kn=8-st*8,Ps=Math.max(0,14-st*14);Ee(De,{borderRadius:`${kn}px`,transform:Te(_)?`scale(${dt}) translate3d(0, ${Ps}px, 0)`:`scale(${dt}) translate3d(${Ps}px, 0, 0)`,transition:"none"},!0)}if(!r){const dt=$e*le;Ee(U.current,{transform:Te(_)?`translate3d(0, ${dt}px, 0)`:`translate3d(${dt}px, 0, 0)`})}}}S.useEffect(()=>{window.requestAnimationFrame(()=>{ue.current=!0})},[]),S.useEffect(()=>{var W;function le(){if(!U.current||!T)return;const me=document.activeElement;if(gs(me)||ce.current){var ne;const Se=((ne=window.visualViewport)==null?void 0:ne.height)||0,$e=window.innerHeight;let De=$e-Se;const yt=U.current.getBoundingClientRect().height||0,st=yt>$e*.8;Ke.current||(Ke.current=yt);const Mt=U.current.getBoundingClientRect().top;if(Math.abs(Ye.current-De)>60&&(ce.current=!ce.current),r&&r.length>0&&lt&&nt){const Ct=lt[nt]||0;De+=Ct}if(Ye.current=De,yt>Se||ce.current){const Ct=U.current.getBoundingClientRect().height;let dt=Ct;Ct>Se&&(dt=Se-(st?Mt:vs)),p?U.current.style.height=`${Ct-Math.max(De,0)}px`:U.current.style.height=`${Math.max(dt,Se-Mt)}px`}else Ou()||(U.current.style.height=`${Ke.current}px`);r&&r.length>0&&!ce.current?U.current.style.bottom="0px":U.current.style.bottom=`${Math.max(De,0)}px`}}return(W=window.visualViewport)==null||W.addEventListener("resize",le),()=>{var me;return(me=window.visualViewport)==null?void 0:me.removeEventListener("resize",le)}},[nt,r,lt]);function At(W){Ra(),h?.(),W||q(!1),setTimeout(()=>{r&&Ut(r[0])},ve.DURATION*1e3)}function $s(){if(!U.current)return;const W=document.querySelector("[data-vaul-drawer-wrapper]"),le=Ln(U.current,_);Ee(U.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`}),Ee(_e.current,{transition:`opacity ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,opacity:"1"}),i&&le&&le>0&&D&&Ee(W,{borderRadius:`${_a}px`,overflow:"hidden",...Te(_)?{transform:`scale(${Ht()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ht()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${ve.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ve.EASE.join(",")})`},!0)}function Ra(){!be||!U.current||(U.current.classList.remove(rs),N.current=!1,ye(!1),P.current=new Date)}function Ea(W){if(!be||!U.current)return;U.current.classList.remove(rs),N.current=!1,ye(!1),P.current=new Date;const le=Ln(U.current,_);if(!W||!In(W.target,!1)||!le||Number.isNaN(le)||tt.current===null)return;const me=P.current.getTime()-tt.current.getTime(),ne=re.current-(Te(_)?W.pageY:W.pageX),Se=Math.abs(ne)/me;if(Se>.05&&(qe(!0),setTimeout(()=>{qe(!1)},200)),r){Cn({draggedDistance:ne*(_==="bottom"||_==="right"?1:-1),closeDrawer:At,velocity:Se,dismissible:u}),a?.(W,!0);return}if(_==="bottom"||_==="right"?ne>0:ne<0){$s(),a?.(W,!0);return}if(Se>Ca){At(),a?.(W,!1);return}var $e;const De=Math.min(($e=U.current.getBoundingClientRect().height)!=null?$e:0,window.innerHeight);var yt;const st=Math.min((yt=U.current.getBoundingClientRect().width)!=null?yt:0,window.innerWidth),Mt=_==="left"||_==="right";if(Math.abs(le)>=(Mt?st:De)*c){At(),a?.(W,!1);return}a?.(W,!0),$s()}S.useEffect(()=>(D&&(Ee(document.documentElement,{scrollBehavior:"auto"}),Xe.current=new Date),()=>{qu(document.documentElement,"scrollBehavior")}),[D]);function Ha(W){const le=W?(window.innerWidth-Bt)/window.innerWidth:1,me=W?-Bt:0;Y.current&&window.clearTimeout(Y.current),Ee(U.current,{transition:`transform ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,transform:Te(_)?`scale(${le}) translate3d(0, ${me}px, 0)`:`scale(${le}) translate3d(${me}px, 0, 0)`}),!W&&U.current&&(Y.current=setTimeout(()=>{const ne=Ln(U.current,_);Ee(U.current,{transition:"none",transform:Te(_)?`translate3d(0, ${ne}px, 0)`:`translate3d(${ne}px, 0, 0)`})},500))}function Aa(W,le){if(le<0)return;const me=(window.innerWidth-Bt)/window.innerWidth,ne=me+le*(1-me),Se=-Bt+le*Bt;Ee(U.current,{transform:Te(_)?`scale(${ne}) translate3d(0, ${Se}px, 0)`:`scale(${ne}) translate3d(${Se}px, 0, 0)`,transition:"none"})}function Ma(W,le){const me=Te(_)?window.innerHeight:window.innerWidth,ne=le?(me-Bt)/me:1,Se=le?-Bt:0;le&&Ee(U.current,{transition:`transform ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,transform:Te(_)?`scale(${ne}) translate3d(0, ${Se}px, 0)`:`scale(${ne}) translate3d(${Se}px, 0, 0)`})}return S.useEffect(()=>{w||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[w]),S.createElement(Xa,{defaultOpen:y,onOpenChange:W=>{!u&&!W||(W?ae(!0):At(!0),q(W))},open:D},S.createElement(va.Provider,{value:{activeSnapPoint:Et,snapPoints:r,setActiveSnapPoint:Ut,drawerRef:U,overlayRef:_e,onOpenChange:t,onPress:jn,onRelease:Ea,onDrag:Tn,dismissible:u,shouldAnimate:ue,handleOnly:f,isOpen:D,isDragging:be,shouldFade:ct,closeDrawer:At,onNestedDrag:Aa,onNestedOpenChange:Ha,onNestedRelease:Ma,keyboardIsOpen:ce,modal:w,snapPointsOffset:lt,activeSnapPointIndex:nt,direction:_,shouldScaleBackground:i,setBackgroundColorOnScale:l,noBodyStyles:j,container:E,autoFocus:$}},s))}const Ia=S.forwardRef(function({...e},t){const{overlayRef:s,snapPoints:o,onRelease:a,shouldFade:r,isOpen:i,modal:l,shouldAnimate:c}=yn(),m=ba(t,s),u=o&&o.length>0;if(!l)return null;const f=S.useCallback(d=>a(d),[a]);return S.createElement(Ka,{onMouseUp:f,ref:m,"data-vaul-overlay":"","data-vaul-snap-points":i&&u?"true":"false","data-vaul-snap-points-overlay":i&&r?"true":"false","data-vaul-animate":c?.current?"true":"false",...e})});Ia.displayName="Drawer.Overlay";const Ta=S.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:s,...o},a){const{drawerRef:r,onPress:i,onRelease:l,onDrag:c,keyboardIsOpen:m,snapPointsOffset:u,activeSnapPointIndex:f,modal:d,isOpen:x,direction:g,snapPoints:p,container:w,handleOnly:h,shouldAnimate:v,autoFocus:j}=yn(),[_,y]=S.useState(!1),C=ba(a,r),b=S.useRef(null),I=S.useRef(null),T=S.useRef(!1),A=p&&p.length>0;tm();const E=(O,R,D=0)=>{if(T.current)return!0;const q=Math.abs(O.y),J=Math.abs(O.x),ae=J>q,be=["bottom","right"].includes(R)?1:-1;if(R==="left"||R==="right"){if(!(O.x*be<0)&&J>=0&&J<=D)return ae}else if(!(O.y*be<0)&&q>=0&&q<=D)return!ae;return T.current=!0,!0};S.useEffect(()=>{A&&window.requestAnimationFrame(()=>{y(!0)})},[]);function $(O){b.current=null,T.current=!1,l(O)}return S.createElement(Qa,{"data-vaul-drawer-direction":g,"data-vaul-drawer":"","data-vaul-delayed-snap-points":_?"true":"false","data-vaul-snap-points":x&&A?"true":"false","data-vaul-custom-container":w?"true":"false","data-vaul-animate":v?.current?"true":"false",...o,ref:C,style:u&&u.length>0?{"--snap-point-height":`${u[f??0]}px`,...t}:t,onPointerDown:O=>{h||(o.onPointerDown==null||o.onPointerDown.call(o,O),b.current={x:O.pageX,y:O.pageY},i(O))},onOpenAutoFocus:O=>{s?.(O),j||O.preventDefault()},onPointerDownOutside:O=>{if(e?.(O),!d||O.defaultPrevented){O.preventDefault();return}m.current&&(m.current=!1)},onFocusOutside:O=>{if(!d){O.preventDefault();return}},onPointerMove:O=>{if(I.current=O,h||(o.onPointerMove==null||o.onPointerMove.call(o,O),!b.current))return;const R=O.pageY-b.current.y,D=O.pageX-b.current.x,q=O.pointerType==="touch"?10:2;E({x:D,y:R},g,q)?c(O):(Math.abs(D)>q||Math.abs(R)>q)&&(b.current=null)},onPointerUp:O=>{o.onPointerUp==null||o.onPointerUp.call(o,O),b.current=null,T.current=!1,l(O)},onPointerOut:O=>{o.onPointerOut==null||o.onPointerOut.call(o,O),$(I.current)},onContextMenu:O=>{o.onContextMenu==null||o.onContextMenu.call(o,O),I.current&&$(I.current)}})});Ta.displayName="Drawer.Content";const om=250,am=120,rm=S.forwardRef(function({preventCycle:e=!1,children:t,...s},o){const{closeDrawer:a,isDragging:r,snapPoints:i,activeSnapPoint:l,setActiveSnapPoint:c,dismissible:m,handleOnly:u,isOpen:f,onPress:d,onDrag:x}=yn(),g=S.useRef(null),p=S.useRef(!1);function w(){if(p.current){j();return}window.setTimeout(()=>{h()},am)}function h(){if(r||e||p.current){j();return}if(j(),!i||i.length===0){m||a();return}if(l===i[i.length-1]&&m){a();return}const y=i.findIndex(b=>b===l);if(y===-1)return;const C=i[y+1];c(C)}function v(){g.current=window.setTimeout(()=>{p.current=!0},om)}function j(){g.current&&window.clearTimeout(g.current),p.current=!1}return S.createElement("div",{onClick:w,onPointerCancel:j,onPointerDown:_=>{u&&d(_),v()},onPointerMove:_=>{u&&x(_)},ref:o,"data-vaul-drawer-visible":f?"true":"false","data-vaul-handle":"","aria-hidden":"true",...s},S.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});rm.displayName="Drawer.Handle";function im(e){const t=yn(),{container:s=t.container,...o}=e;return S.createElement(Ya,{container:s,...o})}const _t={Root:sm,Content:Ta,Overlay:Ia,Portal:im},lm="_overlay_m434v_7",cm="_contentWrapper_m434v_23",dm="_content_m434v_23",um="_handleContainer_m434v_81",mm="_handle_m434v_81",hm="_iconContainer_m434v_113",fm="_nfcIcon_m434v_131",pm="_title_m434v_179",gm="_description_m434v_193",vm="_buttonGroup_m434v_209",xm="_cancelButton_m434v_225",wm="_actionButton_m434v_235",bm="_devToolsContainer_m434v_245",ym="_devToolsLabel_m434v_265",Cm="_devButtons_m434v_283",Oe={overlay:lm,contentWrapper:cm,content:dm,handleContainer:um,handle:mm,iconContainer:hm,nfcIcon:fm,title:pm,description:gm,buttonGroup:vm,cancelButton:xm,actionButton:wm,devToolsContainer:bm,devToolsLabel:ym,devButtons:Cm},_m=()=>{const[e,t]=se(ha),s=te(fa),[o]=se(ju),{trigger:a}=Ue(),[r,i]=M.useState(!1);M.useEffect(()=>{e.status!=="idle"&&e.status!=="selecting"?i(!0):i(!1)},[e.status]);const l=f=>{i(f),f||setTimeout(()=>{e.status!=="idle"&&t({status:"idle"})},300)},c=f=>{a("light"),t(d=>d.status==="ready"||d.status==="error"?{status:"writing",roomId:d.roomId,roomName:d.roomName}:d),setTimeout(()=>{if(f==="success"){if("roomId"in e){const{roomId:d,roomName:x}=e;t({status:"success",roomId:d,roomName:x}),s(g=>new Set(g).add(d)),a("success")}}else if(f==="net-error"){if("roomId"in e){const{roomId:d,roomName:x}=e;t({status:"error",roomId:d,roomName:x,error:{code:"WRITE_FAILED",message:"Network connection lost"}}),a("error")}}else if(f==="locked-error"&&"roomId"in e){const{roomId:d,roomName:x}=e;t({status:"error",roomId:d,roomName:x,error:{code:"TAG_LOCKED",message:"Tag is write-locked"}}),a("error")}},500)};if(M.useEffect(()=>{let f;return e.status==="writing"&&(f=setTimeout(()=>{const d=o==="forceSuccess"||o==="random"&&Math.random()>.2;if("roomId"in e){const{roomId:x,roomName:g}=e;d?(t({status:"success",roomId:x,roomName:g}),s(p=>new Set(p).add(x)),a("success")):(t({status:"error",roomId:x,roomName:g,error:{code:"WRITE_FAILED",message:"Tag connection lost"}}),a("error"))}},2e3)),e.status==="success"&&(f=setTimeout(()=>{i(!1),t({status:"idle"})},1500)),()=>clearTimeout(f)},[e,o,t,s,a]),e.status==="idle"||e.status==="selecting")return null;const u=(()=>{switch(e.status){case"ready":return{icon:"nfc",title:"Ready to Write",desc:`Hold device near tag to provision ${"roomName"in e?e.roomName:"room"}.`};case"writing":return{icon:"nfc",title:"Writing...",desc:"Keep device steady."};case"success":return{icon:"check_circle",title:"Success",desc:"Tag written successfully."};case"error":return{icon:"error",title:"Write Failed",desc:"error"in e?e.error.message:"Unknown error"};default:return{icon:"nfc",title:"",desc:""}}})();return n.jsx(_t.Root,{open:r,onOpenChange:l,dismissible:e.status!=="writing",children:n.jsxs(_t.Portal,{children:[n.jsx(_t.Overlay,{className:Oe.overlay}),n.jsx(_t.Content,{className:Oe.contentWrapper,children:n.jsxs("div",{className:Oe.content,children:[n.jsx("div",{className:Oe.handleContainer,children:n.jsx("div",{className:Oe.handle})}),n.jsx("div",{className:Oe.iconContainer,children:n.jsx("span",{className:`material-symbols-rounded ${Oe.nfcIcon}`,"data-state":e.status,children:u.icon})}),n.jsx("h3",{className:Oe.title,children:u.title}),n.jsx("p",{className:Oe.description,children:u.desc}),e.status==="error"&&n.jsxs("div",{className:Oe.buttonGroup,children:[n.jsx(he,{variant:"primary",onClick:()=>t({status:"writing",roomId:e.roomId,roomName:e.roomName}),className:Oe.actionButton,children:"Retry"}),n.jsx(he,{variant:"secondary",onClick:()=>i(!1),className:Oe.actionButton,children:"Cancel"})]}),e.status==="ready"&&n.jsx("div",{className:Oe.buttonGroup,children:n.jsx(he,{variant:"secondary",onClick:()=>i(!1),className:Oe.cancelButton,children:"Cancel"})}),e.status==="ready"&&n.jsxs("div",{className:Oe.devToolsContainer,children:[n.jsx("span",{className:Oe.devToolsLabel,children:"Developer Controls"}),n.jsxs("div",{className:Oe.devButtons,children:[n.jsx(he,{variant:"tertiary",size:"s",onClick:()=>c("success"),children:"Success"}),n.jsx(he,{variant:"tertiary",size:"s",onClick:()=>c("net-error"),children:"Net Error"}),n.jsx(he,{variant:"tertiary",size:"s",onClick:()=>c("locked-error"),children:"Locked"})]})]})]})})]})})},Sm="_viewContainer_1hlha_5",jm="_header_1hlha_29",Im="_controlsHeader_1hlha_71",Tm="_listContainer_1hlha_99",Bn={viewContainer:Sm,header:jm,controlsHeader:Im,listContainer:Tm},km=()=>{const e=te(It),t=te(ha),s=te(fa),o=te(ws),[a,r]=se(pa),i=G(ku),l=G(bs),c=G(ys),[m,u]=se(Ro),[f,d]=se(No);M.useEffect(()=>{u(l),d(c)},[l,c,u,d]),M.useEffect(()=>()=>{r(""),s(new Set),u(null),d(null),t({status:"idle"})},[r,s,u,d,t]);const x=()=>{e({view:"none"})},g=(p,w)=>{t({status:"ready",roomId:p,roomName:w})};return n.jsxs(we.div,{className:Bn.viewContainer,initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]},children:[n.jsxs("header",{className:Bn.header,children:[n.jsx("h3",{children:"Write NFC tags"}),n.jsx(he,{variant:"tertiary",size:"m",iconOnly:!0,onClick:x,"aria-label":"Close",children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})})]}),n.jsxs("div",{className:Bn.controlsHeader,children:[n.jsx(Ho,{groupId:m,unitId:f,onClick:()=>o(!0)}),n.jsx(ga,{variant:"standalone",placeholder:"Search for a room...",value:a,onChange:r})]}),n.jsx("main",{className:Bn.listContainer,children:i.length>0?n.jsx(cu,{data:i,itemContent:(p,w)=>n.jsx(xt,{label:w.name,onClick:()=>g(w.id,w.name)},w.id)}):n.jsx(cs,{title:"No Rooms Found",message:"Select a facility group and unit to see a list of rooms to provision."})}),n.jsx(_m,{})]})},Nm="_overlay_1qrfg_5",Rm="_contentWrapper_1qrfg_19",Em="_content_1qrfg_19",Hm="_handleContainer_1qrfg_67",Am="_handle_1qrfg_67",Mm="_sheetHeader_1qrfg_103",Om="_sheetTitle_1qrfg_123",Lm="_searchContainer_1qrfg_139",Bm="_listContainer_1qrfg_159",Dm="_listContent_1qrfg_173",zm="_sectionHeader_1qrfg_197",ot={overlay:Nm,contentWrapper:Rm,content:Em,handleContainer:Hm,handle:Am,sheetHeader:Mm,sheetTitle:Om,searchContainer:Lm,listContainer:Bm,listContent:Dm,sectionHeader:zm},$m=()=>{const[e,t]=se(fr),[s,o]=se(pr),[a,r]=se(gr),i=G(vr),l=G(xr),c=te(It),m=d=>{t(d),d||setTimeout(()=>{o(""),r(!1)},300)},u=d=>{t(!1),setTimeout(()=>{c({view:"form",type:"scheduled",method:"manual",checkId:d.id,roomName:d.residents[0]?.location||"Unknown Room",residents:d.residents,specialClassifications:d.specialClassifications})},300)},f=(d,x)=>{const g=new Set(x?.map(p=>p.residentId));return n.jsx("span",{style:{display:"flex",flexWrap:"wrap",gap:"4px",alignItems:"center"},children:d.map((p,w)=>n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",color:"inherit"},children:[g.has(p.id)&&n.jsx("span",{className:"material-symbols-rounded",style:{fontSize:"14px",marginRight:"2px",fontVariationSettings:"'FILL' 1",color:"var(--surface-fg-primary)"},children:"warning"}),p.name,w<d.length-1?",":""]},p.id))})};return n.jsx(_t.Root,{open:e,onOpenChange:m,children:n.jsxs(_t.Portal,{children:[n.jsx(_t.Overlay,{className:ot.overlay}),n.jsx(_t.Content,{className:ot.contentWrapper,children:n.jsxs("div",{className:ot.content,children:[n.jsx("div",{className:ot.handleContainer,children:n.jsx("div",{className:ot.handle})}),n.jsxs("div",{className:ot.sheetHeader,children:[n.jsx("h3",{className:ot.sheetTitle,children:"Add Manual Check"}),n.jsx(he,{variant:"tertiary",size:"s",iconOnly:!0,onClick:()=>t(!1),children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})})]}),n.jsx("div",{className:ot.searchContainer,children:n.jsx(ga,{placeholder:"Search room or resident...",value:s,onChange:o,variant:"standalone"})}),n.jsx("div",{className:ot.listContainer,children:n.jsx("div",{className:ot.listContent,children:i.length>0?n.jsxs(n.Fragment,{children:[s&&n.jsx("div",{className:ot.sectionHeader,children:"Matching Results"}),i.map(d=>n.jsx(xt,{label:d.residents[0]?.location||"Unknown Room",subLabel:f(d.residents,d.specialClassifications),onClick:()=>u(d)},d.id))]}):n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"48px 0",textAlign:"center",color:"var(--surface-fg-tertiary)"},children:[n.jsx("span",{className:"material-symbols-rounded",style:{fontSize:"48px",marginBottom:"8px",opacity:.5},children:"search_off"}),n.jsx("p",{children:"No rooms found."}),!a&&s&&n.jsx("div",{style:{marginTop:"16px"},children:n.jsxs(he,{variant:"secondary",size:"s",onClick:()=>r(!0),children:["Search All Facilities (",l.count,")"]})})]})})})]})})]})})},Pm="_modalWrapper_1da3w_5",Fm="_backdrop_1da3w_21",Wm="_modalContainer_1da3w_33",Vm="_header_1da3w_53",Gm="_rightActionContainer_1da3w_103",Um="_content_1da3w_127",qt={modalWrapper:Pm,backdrop:Fm,modalContainer:Wm,header:Vm,rightActionContainer:Gm,content:Um},qm={hidden:e=>({x:e==="slide-horizontal"?"100%":0,y:e==="slide-vertical"?"100%":0}),visible:{x:0,y:0},exit:({type:e,direction:t})=>e==="slide-horizontal"&&t?{x:t==="left"?"-100%":"100%",transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]}}:{x:e==="slide-horizontal"?"100%":0,y:e==="slide-vertical"?"100%":0,transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]}}},ln=({isOpen:e,onClose:t,title:s,children:o,actionType:a="back",leftIcon:r="arrow_back",rightAction:i,transitionType:l="slide-horizontal",exitDirection:c})=>n.jsx(St,{custom:{type:l,direction:c},children:e&&n.jsxs(we.div,{className:qt.modalWrapper,custom:{type:l,direction:c},variants:qm,initial:"hidden",animate:"visible",exit:"exit",transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]},children:[n.jsx("div",{className:qt.backdrop}),n.jsxs("div",{className:qt.modalContainer,children:[n.jsxs("header",{className:qt.header,children:[a==="back"?n.jsx(he,{variant:"tertiary",size:"m",iconOnly:!0,onClick:t,"aria-label":"Back",children:n.jsx("span",{className:"material-symbols-rounded",children:r})}):null,n.jsx("h2",{style:{marginLeft:a==="close"?"8px":"0"},children:s}),n.jsx("div",{className:qt.rightActionContainer,children:i||(a==="close"?n.jsx(he,{variant:"tertiary",size:"m",iconOnly:!0,onClick:t,"aria-label":"Close",children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})}):null)})]}),n.jsx("main",{className:qt.content,children:o})]})]})}),Xm="_switchRoot_voksj_5",Ym="_switchThumb_voksj_75",xo={switchRoot:Xm,switchThumb:Ym},xe=({checked:e,onCheckedChange:t,disabled:s,id:o})=>n.jsx(Ja,{className:xo.switchRoot,checked:e,onCheckedChange:t,disabled:s,id:o,children:n.jsx(Za,{className:xo.switchThumb})}),Km="_container_1gsmm_5",Qm="_label_1gsmm_19",Jm="_controlRow_1gsmm_31",Zm="_trackWrapper_1gsmm_49",eh="_trackGradient_1gsmm_75",th="_thumb_1gsmm_105",nh="_swatch_1gsmm_165",Dt={container:Km,label:Qm,controlRow:Jm,trackWrapper:Zm,trackGradient:eh,thumb:th,swatch:nh},ka=({value:e,onChange:t,label:s,id:o})=>{const a=M.useId(),r=o||a,i=M.useRef(null),[l,c]=M.useState(!1),m=e/360*100,u=M.useCallback(w=>{if(!i.current)return;const h=i.current.getBoundingClientRect(),v=w-h.left,j=Math.max(0,Math.min(1,v/h.width)),_=Math.round(j*360);t(_)},[t]),f=w=>{c(!0),u(w);const h=j=>{const _="touches"in j?j.touches[0].clientX:j.clientX;u(_)},v=()=>{c(!1),document.removeEventListener("mousemove",h),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",h),document.removeEventListener("touchend",v)};document.addEventListener("mousemove",h),document.addEventListener("mouseup",v),document.addEventListener("touchmove",h,{passive:!0}),document.addEventListener("touchend",v)},d=w=>{w.preventDefault(),f(w.clientX)},x=w=>{f(w.touches[0].clientX)},g=w=>{let h=e;switch(w.key){case"ArrowRight":case"ArrowUp":h=Math.min(360,e+5);break;case"ArrowLeft":case"ArrowDown":h=Math.max(0,e-5);break;case"Home":h=0;break;case"End":h=360;break;default:return}w.preventDefault(),t(h)},p=`oklch(0.65 0.18 ${e})`;return n.jsxs("div",{className:Dt.container,children:[n.jsx("label",{htmlFor:r,className:Dt.label,children:s}),n.jsxs("div",{className:Dt.controlRow,children:[n.jsxs("div",{ref:i,className:Dt.trackWrapper,onMouseDown:d,onTouchStart:x,children:[n.jsx("div",{className:Dt.trackGradient}),n.jsx("div",{className:Dt.thumb,style:{left:`${m}%`},role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":e,"aria-label":s,tabIndex:0,onKeyDown:g,"data-dragging":l})]}),n.jsx("div",{className:Dt.swatch,style:{backgroundColor:p},"aria-hidden":"true"})]})]})},sh="_settingsContainer_nbowl_5",oh="_settingsSection_nbowl_23",ah="_sectionTitle_nbowl_35",rh="_settingsGroup_nbowl_55",ih="_settingsItem_nbowl_77",lh="_itemLabel_nbowl_143",ch="_logoutButton_nbowl_191",Re={settingsContainer:sh,settingsSection:oh,sectionTitle:ah,settingsGroup:rh,settingsItem:ih,itemLabel:lh,logoutButton:ch},dh=[{value:"qr",label:"QR Code",icon:"qr_code_2"},{value:"nfc",label:"NFC",icon:"nfc"}],uh=()=>{const[e,t]=se(et),[s]=se(Wt),[o,a]=se(Cs),r=G(Pt),i=te(Pt),{trigger:l}=Ue(),{theme:c,setTheme:m}=Eo(),u=r.user,f=p=>{l("light"),t(w=>({...w,hapticsEnabled:p}))},d=p=>{u&&a(w=>({...w,[u.username]:{...w[u.username],avatarHue:p}}))},x=()=>{i({isAuthenticated:!1,user:null})},g=u?o[u.username]?.avatarHue??js(u.username):0;return n.jsxs(we.div,{className:Re.settingsContainer,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:[n.jsxs("div",{className:Re.settingsSection,children:[n.jsx("h3",{className:Re.sectionTitle,children:"Preferences"}),n.jsxs("div",{className:Re.settingsGroup,children:[n.jsxs("div",{className:Re.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:Re.itemLabel,children:"Scan Mode"}),n.jsx(We,{id:"scan-mode-toggle",options:dh,value:e.scanMode,onValueChange:p=>{l("selection"),t(w=>({...w,scanMode:p}))},itemDirection:"column"})]}),s.useHapticsEnabled&&n.jsxs("div",{className:Re.settingsItem,children:[n.jsx("label",{htmlFor:"haptics-switch",className:Re.itemLabel,children:"Haptic Feedback"}),n.jsx(xe,{id:"haptics-switch",checked:e.hapticsEnabled,onCheckedChange:f})]}),s.useSoundEnabled&&n.jsxs("div",{className:Re.settingsItem,children:[n.jsx("label",{htmlFor:"audio-switch",className:Re.itemLabel,children:"Audio Feedback"}),n.jsx(xe,{id:"audio-switch",checked:e.audioEnabled,onCheckedChange:p=>t(w=>({...w,audioEnabled:p}))})]}),s.enableDarkMode&&n.jsxs("div",{className:Re.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:Re.itemLabel,children:"Theme"}),n.jsx(We,{id:"theme-toggle",options:[{value:"light",label:"Light"},{value:"dark-a",label:"Dark A"},{value:"dark-b",label:"Dark B"},{value:"dark-c",label:"Dark C"}],value:c,onValueChange:p=>{l("selection"),m(p)}})]})]})]}),s.enableEnhancedAvatarDropdown&&n.jsxs("div",{className:Re.settingsSection,children:[n.jsx("h3",{className:Re.sectionTitle,children:"Appearance"}),n.jsx("div",{className:Re.settingsGroup,children:n.jsx("div",{className:Re.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},"data-no-hover":"true",children:n.jsx(ka,{label:"Avatar Color",value:g,onChange:d})})})]}),n.jsxs("div",{className:Re.settingsSection,children:[n.jsx("h3",{className:Re.sectionTitle,children:"Account"}),n.jsx(he,{variant:"secondary",onClick:x,className:Re.logoutButton,children:"Log Out"})]})]})},mh="_container_1kawd_5",hh="_settingSection_1kawd_23",fh="_sectionHeader_1kawd_35",ph="_settingsGroup_1kawd_55",gh="_settingsItem_1kawd_73",vh="_itemLabel_1kawd_99",xh="_disabledGroup_1kawd_109",wh="_toastGrid_1kawd_123",bh="_toastPlaygroundItem_1kawd_257",yh="_toastDescription_1kawd_269",Ch="_shortcutHint_1kawd_283",L={container:mh,settingSection:hh,sectionHeader:fh,settingsGroup:ph,settingsItem:gh,itemLabel:vh,disabledGroup:xh,toastGrid:wh,toastPlaygroundItem:bh,toastDescription:yh,shortcutHint:Ch},_h=[{label:"Sync Complete",message:"Data synced",icon:"cloud_done",variant:"success",logic:"Reconnection after offline."},{label:"Missed Check",message:"Check for Room 101 missed",icon:"history",variant:"warning",logic:"Ticker passes due + interval.",stableId:"lifecycle-missed-check"},{label:"Camera Error",message:`Camera not responding.
Try restarting your device.`,icon:"no_photography",variant:"alert",logic:"Simulated camera failure."},{label:"NFC Error",message:`Tag not read.
Hold phone steady against the tag.`,icon:"wifi_tethering_error",variant:"alert",logic:"Simulated NFC read failure."}],Sh=()=>{const[e,t]=se(et),[s,o]=se(Ss),[a,r]=se(vn),i=te(Vn),l=te(gn),c=G(wr),{trigger:m}=Ue(),u=G(Wt),f=g=>p=>{m("light"),g(p)},d=()=>{m("warning"),i({type:"RESET_DATA"}),l({message:"Application data reset to defaults.",icon:"delete",variant:"neutral"})},x=g=>{m("medium");let p=g.message;if(g.stableId==="lifecycle-missed-check"){const w=c.find(h=>h.stableId===g.stableId);if(w){let h=1;const v=w.message.match(/^(\d+)\s+checks\s+missed/i);v&&(h=parseInt(v[1],10)),h++,p=`${h} checks missed`}}l({message:p,icon:g.icon,variant:g.variant,stableId:g.stableId})};return n.jsxs(we.div,{className:L.container,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:[n.jsxs("div",{className:L.settingSection,children:[n.jsx("h3",{className:L.sectionHeader,children:"Data Management"}),n.jsxs(he,{variant:"secondary",onClick:d,children:[n.jsx("span",{className:"material-symbols-rounded",children:"restart_alt"}),"Reset Application Data"]}),n.jsx("span",{className:L.shortcutHint,children:"Shortcut: Ctrl+Backspace"})]}),n.jsxs("div",{className:L.settingSection,children:[n.jsx("h3",{className:L.sectionHeader,children:"Workflow"}),n.jsxs("div",{className:L.settingsGroup,children:[n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"simple-submit-switch",className:L.itemLabel,children:"Simple submit"}),n.jsx(xe,{id:"simple-submit-switch",checked:e.simpleSubmitEnabled,onCheckedChange:f(g=>t(p=>({...p,simpleSubmitEnabled:g})))})]}),n.jsxs("div",{className:e.simpleSubmitEnabled?L.disabledGroup:"",children:[n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"mark-multiple-switch",className:L.itemLabel,children:"Mark multiple"}),n.jsx(xe,{id:"mark-multiple-switch",checked:e.markMultipleEnabled,onCheckedChange:f(g=>t(p=>({...p,markMultipleEnabled:g})))})]}),n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"check-type-switch",className:L.itemLabel,children:"Show check type"}),n.jsx(xe,{id:"check-type-switch",checked:e.isCheckTypeEnabled,onCheckedChange:f(g=>t(p=>({...p,isCheckTypeEnabled:g})))})]})]}),n.jsxs("div",{className:L.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:L.itemLabel,children:"Status count"}),n.jsx(We,{id:"resident-status-count-toggle",options:[{value:"set-2",label:"2"},{value:"set-3",label:"3"},{value:"set-4",label:"4"},{value:"set-5",label:"5"},{value:"set-6",label:"6"},{value:"set-7",label:"7"}],value:e.residentStatusSet,onValueChange:g=>{m("selection"),t(p=>({...p,residentStatusSet:g}))}})]}),n.jsxs("div",{className:L.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:L.itemLabel,children:"Status layout"}),n.jsx(We,{id:"status-layout-toggle",options:[{value:"row",label:"Row"},{value:"column",label:"Column"},{value:"grid",label:"Grid"}],value:e.markMultipleLayout,onValueChange:g=>{m("selection"),t(p=>({...p,markMultipleLayout:g}))}})]})]})]}),n.jsxs("div",{className:L.settingSection,children:[n.jsx("h3",{className:L.sectionHeader,children:"App Style"}),n.jsx("div",{className:L.settingsGroup,children:n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"status-indicators-switch",className:L.itemLabel,children:"Show status indicators"}),n.jsx(xe,{id:"status-indicators-switch",checked:e.showStatusIndicators,onCheckedChange:f(g=>t(p=>({...p,showStatusIndicators:g})))})]})})]}),u.useHapticsEnabled&&n.jsxs("div",{className:L.settingSection,children:[n.jsx("h3",{className:L.sectionHeader,children:"Haptics"}),n.jsxs("div",{className:L.settingsGroup,children:[n.jsxs("div",{className:L.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:L.itemLabel,children:"Success pattern"}),n.jsx(We,{id:"haptic-success-toggle",options:[{value:"light",label:"Light (50ms)"},{value:"medium",label:"Medium (100ms)"},{value:"heavy",label:"Heavy (150ms)"}],value:e.hapticPatternSuccess,onValueChange:g=>{t(p=>({...p,hapticPatternSuccess:g})),setTimeout(()=>{m("success")},50)}})]}),n.jsxs("div",{className:L.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:L.itemLabel,children:"Error pattern"}),n.jsx(We,{id:"haptic-error-toggle",options:[{value:"simple",label:"Simple"},{value:"double",label:"Double"},{value:"grind",label:"Grind"},{value:"stutter",label:"Stutter"}],value:e.hapticPatternError,onValueChange:g=>{t(p=>({...p,hapticPatternError:g})),setTimeout(()=>{m("error")},50)}})]})]})]}),n.jsxs("div",{className:L.settingSection,children:[n.jsx("h3",{className:L.sectionHeader,children:"Simulation"}),n.jsxs("div",{className:L.settingsGroup,children:[n.jsxs("div",{className:L.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:L.itemLabel,children:"Connectivity"}),n.jsx(We,{id:"connectivity-toggle",options:[{value:"online",label:"Online",icon:"cloud"},{value:"offline",label:"Offline",icon:"cloud_off"}],value:a==="offline"?"offline":"online",onValueChange:g=>{m("selection"),r(g)},itemDirection:"column"})]}),n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"camera-fail-switch",className:L.itemLabel,children:"Force Camera Failure"}),n.jsx(xe,{id:"camera-fail-switch",checked:s.cameraFails,onCheckedChange:f(g=>o(p=>({...p,cameraFails:g})))})]}),n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"nfc-fail-switch",className:L.itemLabel,children:"Force NFC Failure"}),n.jsx(xe,{id:"nfc-fail-switch",checked:s.nfcFails,onCheckedChange:f(g=>o(p=>({...p,nfcFails:g})))})]}),n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"slow-load-switch",className:L.itemLabel,children:"Simulate slow loading"}),n.jsx(xe,{id:"slow-load-switch",checked:e.isSlowLoadEnabled,onCheckedChange:f(g=>t(p=>({...p,isSlowLoadEnabled:g})))})]})]})]}),n.jsxs("div",{className:L.settingSection,children:[n.jsx("h3",{className:L.sectionHeader,children:"Toast Playground"}),n.jsx("div",{className:L.toastGrid,children:_h.map((g,p)=>n.jsxs("div",{className:L.toastPlaygroundItem,children:[n.jsxs(he,{variant:"secondary",onClick:()=>x(g),children:[n.jsx("span",{className:"material-symbols-rounded",children:g.icon}),g.label]}),n.jsx("p",{className:L.toastDescription,children:g.logic})]},p))})]})]})},jh=()=>{const[e,t]=se(Wt),{trigger:s}=Ue(),o=a=>r=>{s("light"),a(r)};return n.jsx(we.div,{className:L.container,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:n.jsxs("div",{className:L.settingSection,children:[n.jsxs("div",{className:L.warningBlock,style:{padding:"var(--spacing-3)",marginBottom:"var(--spacing-3)",backgroundColor:"var(--color-surface-tertiary)",border:"1px solid var(--color-control-tertiary-border)",borderRadius:"var(--radius-3)",fontSize:"var(--font-size-sm)",color:"var(--color-text-secondary)",lineHeight:"1.4"},children:[n.jsx("strong",{children:"Experimental Features"}),n.jsx("br",{}),"These are just conceptual ideas for a potential future version.  Nothing here is expected for v1."]}),n.jsxs("div",{className:L.settingsGroup,children:[n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"use-sound-switch",className:L.itemLabel,children:"Use Sound"}),n.jsx(xe,{id:"use-sound-switch",checked:e.useSoundEnabled,onCheckedChange:o(a=>t(r=>({...r,useSoundEnabled:a})))})]}),n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"use-haptics-switch",className:L.itemLabel,children:"Use Haptics"}),n.jsx(xe,{id:"use-haptics-switch",checked:e.useHapticsEnabled,onCheckedChange:o(a=>t(r=>({...r,useHapticsEnabled:a})))})]}),n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"enable-dark-mode-switch",className:L.itemLabel,children:"Enable Dark Mode"}),n.jsx(xe,{id:"enable-dark-mode-switch",checked:e.enableDarkMode,onCheckedChange:o(a=>t(r=>({...r,enableDarkMode:a})))})]}),n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"enable-enhanced-avatar-switch",className:L.itemLabel,children:"Enhanced Avatar Dropdown"}),n.jsx(xe,{id:"enable-enhanced-avatar-switch",checked:e.enableEnhancedAvatarDropdown,onCheckedChange:o(a=>t(r=>({...r,enableEnhancedAvatarDropdown:a})))})]})]}),n.jsx("h3",{style:{marginTop:"var(--spacing-5)",marginBottom:"var(--spacing-3)",fontSize:"0.875rem",fontWeight:600,color:"var(--surface-fg-secondary)"},children:"Late Check Concepts"}),n.jsx("div",{className:L.settingsGroup,children:n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"feat-vignette-switch",className:L.itemLabel,children:"Active Vignette"}),n.jsx(xe,{id:"feat-vignette-switch",checked:e.feat_vignette,onCheckedChange:o(a=>t(r=>({...r,feat_vignette:a})))})]})}),n.jsx("h4",{style:{marginTop:"var(--spacing-4)",marginBottom:"var(--spacing-2)",fontSize:"0.8rem",fontWeight:500,color:"var(--surface-fg-tertiary)"},children:"Pulse Effects"}),n.jsxs("div",{className:L.settingsGroup,children:[n.jsxs("div",{style:{padding:"var(--spacing-3) 0"},children:[n.jsx("label",{style:{display:"block",marginBottom:"var(--spacing-2)",fontSize:"0.875rem",color:"var(--surface-fg-secondary)"},children:"Glass Pulse Style"}),n.jsx(We,{id:"glass-pulse-style",options:[{value:"none",label:"None"},{value:"basic",label:"Basic"},{value:"gradient",label:"Gradient"}],value:e.feat_glass_pulse,onValueChange:a=>{s("light"),t(r=>({...r,feat_glass_pulse:a}))}})]}),n.jsxs("div",{style:{padding:"var(--spacing-3) 0"},children:[n.jsx("label",{style:{display:"block",marginBottom:"var(--spacing-2)",fontSize:"0.875rem",color:"var(--surface-fg-secondary)"},children:"Card Pulse Style"}),n.jsx(We,{id:"card-pulse-style",options:[{value:"none",label:"None"},{value:"basic",label:"Basic"},{value:"gradient",label:"Gradient"}],value:e.feat_card_pulse,onValueChange:a=>{s("light"),t(r=>({...r,feat_card_pulse:a}))}})]})]}),n.jsx("h4",{style:{marginTop:"var(--spacing-4)",marginBottom:"var(--spacing-2)",fontSize:"0.8rem",fontWeight:500,color:"var(--surface-fg-tertiary)"},children:"Other Card Effects"}),n.jsxs("div",{className:L.settingsGroup,children:[n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"feat-card-border-switch",className:L.itemLabel,children:"Fluid Borders"}),n.jsx(xe,{id:"feat-card-border-switch",checked:e.feat_card_border,onCheckedChange:o(a=>t(r=>({...r,feat_card_border:a})))})]}),n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"feat-hazard-texture-switch",className:L.itemLabel,children:"Hazard Texture"}),n.jsx(xe,{id:"feat-hazard-texture-switch",checked:e.feat_hazard_texture,onCheckedChange:o(a=>t(r=>({...r,feat_hazard_texture:a})))})]}),n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"feat-invert-card-switch",className:L.itemLabel,children:"Invert Card"}),n.jsx(xe,{id:"feat-invert-card-switch",checked:e.feat_invert_card,onCheckedChange:o(a=>t(r=>({...r,feat_invert_card:a})))})]}),n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"feat-invert-badge-switch",className:L.itemLabel,children:"Invert Badge"}),n.jsx(xe,{id:"feat-invert-badge-switch",checked:e.feat_invert_badge,onCheckedChange:o(a=>t(r=>({...r,feat_invert_badge:a})))})]})]}),n.jsx("div",{className:L.settingsGroup,style:{marginTop:"var(--spacing-4)"},children:n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"feat-badge-pulse-switch",className:L.itemLabel,children:"Badge Pulse"}),n.jsx(xe,{id:"feat-badge-pulse-switch",checked:e.feat_badge_mode==="pulse",onCheckedChange:o(a=>t(r=>({...r,feat_badge_mode:a?"pulse":"none"})))})]})}),n.jsx("div",{className:L.settingsGroup,style:{marginTop:"var(--spacing-4)"},children:n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"feat-jump-fab-switch",className:L.itemLabel,children:"Jump FAB"}),n.jsx(xe,{id:"feat-jump-fab-switch",checked:e.feat_jump_fab,onCheckedChange:o(a=>t(r=>({...r,feat_jump_fab:a})))})]})}),n.jsx("div",{className:L.settingsGroup,style:{marginTop:"var(--spacing-4)"},children:n.jsxs("div",{className:L.settingsItem,children:[n.jsx("label",{htmlFor:"feat-bio-sync-switch",className:L.itemLabel,children:"Bio-Sync Mode"}),n.jsx(xe,{id:"feat-bio-sync-switch",checked:e.feat_bio_sync,onCheckedChange:o(a=>t(r=>({...r,feat_bio_sync:a})))})]})})]})})},Ih="_userSettingsContainer_z5fik_5",Th="_profileHeader_z5fik_25",kh="_avatarLarge_z5fik_45",Nh="_userName_z5fik_69",Rh="_settingsSection_z5fik_87",Eh="_sectionTitle_z5fik_99",Hh="_settingsGroup_z5fik_119",Ah="_settingsItem_z5fik_137",Mh="_itemLabel_z5fik_203",Oh="_logoutButton_z5fik_213",Ce={userSettingsContainer:Ih,profileHeader:Th,avatarLarge:kh,userName:Nh,settingsSection:Rh,sectionTitle:Eh,settingsGroup:Hh,settingsItem:Ah,itemLabel:Mh,logoutButton:Oh},Lh=()=>{const e=G(Pt),t=te(Pt),[s,o]=se(et),[a,r]=se(Cs),[i]=se(Wt),{theme:l,setTheme:c}=Eo(),{trigger:m}=Ue();if(!e.user)return null;const{username:u,initials:f,displayName:d}=e.user,x=a[u]?.avatarHue,g=x!==void 0?x:js(u),p=`oklch(0.65 0.18 ${g})`,w=()=>{t({isAuthenticated:!1,user:null})},h=_=>{m("light"),c(_)},v=_=>{m("light"),o(y=>({...y,scanMode:_}))},j=_=>{r(y=>({...y,[u]:{...y[u],avatarHue:_}}))};return n.jsxs(we.div,{className:Ce.userSettingsContainer,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:[n.jsxs("div",{className:Ce.profileHeader,children:[n.jsx("div",{className:Ce.avatarLarge,style:{backgroundColor:p},children:f}),n.jsx("h2",{className:Ce.userName,children:d})]}),n.jsxs("div",{className:Ce.settingsSection,children:[n.jsx("h3",{className:Ce.sectionTitle,children:"Appearance"}),n.jsxs("div",{className:Ce.settingsGroup,children:[n.jsxs("div",{className:Ce.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:Ce.itemLabel,children:"Theme"}),n.jsx(We,{id:"user-theme-toggle",options:[{value:"light",label:"Light"},{value:"dark-c",label:"Dark"}],value:l==="light"?"light":"dark-c",onValueChange:h,layout:"row"})]}),n.jsx("div",{className:Ce.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},"data-no-hover":"true",children:n.jsx(ka,{label:"Avatar Color",value:g,onChange:j})})]})]}),n.jsxs("div",{className:Ce.settingsSection,children:[n.jsx("h3",{className:Ce.sectionTitle,children:"Preferences"}),n.jsxs("div",{className:Ce.settingsGroup,children:[n.jsxs("div",{className:Ce.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:Ce.itemLabel,children:"Scan Mode"}),n.jsx(We,{id:"user-scan-mode-toggle",options:[{value:"qr",label:"QR",icon:"qr_code_2"},{value:"nfc",label:"NFC",icon:"nfc"}],value:s.scanMode,onValueChange:v,itemDirection:"column"})]}),i.useHapticsEnabled&&n.jsxs("div",{className:Ce.settingsItem,children:[n.jsx("label",{htmlFor:"user-haptics-switch",className:Ce.itemLabel,children:"Haptic Feedback"}),n.jsx(xe,{id:"user-haptics-switch",checked:s.hapticsEnabled,onCheckedChange:_=>{m("light"),o(y=>({...y,hapticsEnabled:_}))}})]}),i.useSoundEnabled&&n.jsxs("div",{className:Ce.settingsItem,children:[n.jsx("label",{htmlFor:"user-audio-switch",className:Ce.itemLabel,children:"Audio Feedback"}),n.jsx(xe,{id:"user-audio-switch",checked:s.audioEnabled,onCheckedChange:_=>o(y=>({...y,audioEnabled:_}))})]})]})]}),n.jsxs("div",{className:Ce.settingsSection,children:[n.jsx("h3",{className:Ce.sectionTitle,children:"Account"}),n.jsxs(he,{variant:"secondary",onClick:w,className:Ce.logoutButton,children:[n.jsx("span",{className:"material-symbols-rounded",children:"logout"}),n.jsx("span",{children:"Log Out"})]})]})]})},Bh="_container_1r85s_5",Dh="_contextBanner_1r85s_25",zh="_viewWrapper_1r85s_61",$h="_listContainer_1r85s_87",Xt={container:Bh,contextBanner:Dh,viewWrapper:zh,listContainer:$h},wo={enter:e=>({x:e===0?0:e>0?"100%":"-100%",opacity:1}),center:{x:0,opacity:1},exit:e=>({x:e<0?"100%":"-100%",opacity:1})},Ph=()=>{const[e,t]=se(br),[s,o]=se(ws),[a,r]=se(bs),[i,l]=se(ys),c=te(yr),m=te(_s),u=te(Co),{trigger:f}=Ue(),[d,x]=M.useState("group"),[g,p]=M.useState(0),[w,h]=M.useState(a),[v,j]=M.useState("right"),_=e||s;M.useEffect(()=>{_&&(x("group"),p(0),h(a),j("right"))},[_,a]);const y=()=>{if(d==="unit"){p(-1),x("group");return}j("right"),e?c():o(!1)},C=E=>{f("selection"),h(E),p(1),x("unit")},b=E=>{f("selection"),w&&(j("left"),(w!==a||E!==i)&&u(!0),r(w),l(E),e?t(!1):m("dashboardTime"),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o(!1)})}))},I=ls.find(E=>E.id===w),T=I?.units||[],A=()=>d==="group"?"Select Facility":"Select Unit";return n.jsx(ln,{isOpen:_,onClose:y,title:A(),transitionType:"slide-horizontal",exitDirection:v,children:n.jsx("div",{className:Xt.container,children:n.jsx(St,{initial:!1,custom:g,mode:"popLayout",children:d==="group"?n.jsx(we.div,{className:Xt.viewWrapper,custom:g,variants:wo,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:n.jsx("div",{className:Xt.listContainer,style:{borderTop:"none"},children:ls.map(E=>n.jsx(xt,{label:E.name,leadingIcon:"domain",onClick:()=>C(E.id),showChevron:!0},E.id))})},"group-list"):n.jsxs(we.div,{className:Xt.viewWrapper,custom:g,variants:wo,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:[n.jsxs("div",{className:Xt.contextBanner,children:[n.jsx("span",{className:"material-symbols-rounded",style:{fontSize:20},children:"domain"}),I?.name]}),n.jsx("div",{className:Xt.listContainer,children:T.map(E=>n.jsx(xt,{label:E.name,onClick:()=>b(E.id),showChevron:!0},E.id))})]},"unit-list")})})})},Na=M.createContext(null),Fh=()=>{const e=M.useContext(Na);if(!e)throw new Error("useGestureContext must be used within a GestureProvider");return e},Wh=({children:e})=>{const t=Ws(0),s=Ws(0);return n.jsx(Na.Provider,{value:{filmStripProgress:t,sideMenuProgress:s},children:e})},Vh=()=>{M.useEffect(()=>{if(!window.visualViewport)return;const e=()=>{requestAnimationFrame(()=>{const t=window.visualViewport?.height;t&&document.documentElement.style.setProperty("--visual-viewport-height",`${t}px`)})};return e(),window.visualViewport.addEventListener("resize",e),window.visualViewport.addEventListener("scroll",e),()=>{window.visualViewport?.removeEventListener("resize",e),window.visualViewport?.removeEventListener("scroll",e),document.documentElement.style.removeProperty("--visual-viewport-height")}},[])},Gh="_appContainer_tbd04_5",Uh="_sideMenuContainer_tbd04_25",qh="_mainViewWrapper_tbd04_49",Xh="_backdrop_tbd04_71",Yh="_chromeContainer_tbd04_105",rn={appContainer:Gh,sideMenuContainer:Uh,mainViewWrapper:qh,backdrop:Xh,chromeContainer:Yh},is={type:"spring",stiffness:400,damping:40,restDelta:.001},Kh=()=>{const[e,t]=se(_s),s=G(It),o=G(vn),[a,r]=se(_o),[i,l]=se(So),[c,m]=se(jo),[u,f]=se(Io),[d,x]=M.useState(0),g=M.useRef(null),p=M.useRef(null),{filmStripProgress:w,sideMenuProgress:h}=Fh(),v=M.useRef(!1),j=M.useRef(0),_=M.useRef(0),y=M.useRef(0);M.useEffect(()=>{g.current&&x(g.current.offsetWidth)},[]),M.useEffect(()=>{v.current||(e==="sideMenu"?Qn(h,1,is):Qn(h,0,is))},[e,h]),M.useEffect(()=>{s.view!=="none"&&(h.get()>0&&h.set(0),e==="sideMenu"&&t("dashboardTime"))},[s.view,h,e,t]),Vh(),M.useEffect(()=>{s.view==="form"&&"residents"in s&&s.residents.length>0?document.title=`Safety Check - ${s.residents[0].location}`:document.title="Safety Check App"},[s]);const C=()=>{t("dashboardTime")},b=R=>{s.view==="none"&&(j.current=R.clientX,_.current=R.clientY,y.current=w.get(),v.current=!1)},I=R=>{if(s.view==="none"){if(v.current){const D=R.clientX-j.current,q=window.innerWidth,J=D/q;if(e==="sideMenu"){const ae=Math.max(0,Math.min(1,1+D/d));h.set(ae);return}if(e==="dashboardTime"&&D>0){const ae=Math.max(0,Math.min(1,D/d));h.set(ae);return}if(h.get()===0){const ae=Math.max(0,Math.min(1,y.current-J));w.set(ae)}return}if(R.buttons>0||R.pointerType==="touch"){const D=Math.abs(R.clientX-j.current),q=Math.abs(R.clientY-_.current);D>10&&D>q&&(v.current=!0,R.currentTarget.setPointerCapture(R.pointerId))}}},T=R=>{if(!v.current)return;v.current=!1,R.currentTarget.releasePointerCapture(R.pointerId);const D=R.clientX-j.current,q=h.get();let J=!1;e==="sideMenu"?J=!(q<.8||D<-50):J=q>.2||D>50,Qn(h,J?1:0,is),t(J?"sideMenu":"dashboardTime")},A=Nn(h,[0,1],[0,d]),E=Nn(h,[0,1],[-d,0]),$=Nn(h,[0,1],[0,1]),O=Nn(h,R=>R>0?"auto":"none");return n.jsxs("div",{className:rn.appContainer,onPointerDown:b,onPointerMove:I,onPointerUp:T,onPointerCancel:T,onPointerLeave:T,style:{touchAction:"pan-y"},children:[n.jsx(we.div,{ref:g,className:rn.sideMenuContainer,style:{x:E},children:n.jsx(tl,{})}),n.jsxs(we.div,{className:rn.mainViewWrapper,style:{x:A},children:[n.jsx(Ri,{}),n.jsx(we.div,{className:rn.backdrop,style:{opacity:$,pointerEvents:O},onClick:C}),n.jsxs("div",{ref:p,className:rn.chromeContainer,children:[o!=="online"&&n.jsx(Ml,{}),n.jsx(xl,{})]}),n.jsx(Sl,{})]}),n.jsxs(St,{children:[s.view==="scanning"&&n.jsx(Ql,{}),s.view==="form"&&n.jsx(Zc,{checkData:s}),s.view==="provisioning"&&n.jsx(km,{})]}),n.jsx($m,{}),n.jsx(Ph,{}),n.jsx(ln,{isOpen:a,onClose:()=>r(!1),title:"Settings",transitionType:"slide-horizontal",actionType:"back",children:n.jsx(uh,{})}),n.jsx(ln,{isOpen:i,onClose:()=>l(!1),title:"Developer Tools",transitionType:"slide-horizontal",actionType:"back",children:n.jsx(Sh,{})}),n.jsx(ln,{isOpen:c,onClose:()=>m(!1),title:"Future Ideas",transitionType:"slide-horizontal",actionType:"back",children:n.jsx(jh,{})}),n.jsx(ln,{isOpen:u,onClose:()=>f(!1),title:"User Settings",transitionType:"slide-horizontal",actionType:"back",children:n.jsx(Lh,{})})]})},nf=()=>n.jsx(Wh,{children:n.jsx(Kh,{})});export{nf as AppShell};
