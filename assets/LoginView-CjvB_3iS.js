import{j as e,R as O,a as B,O as z,C as V,T as K,s as q}from"./vendor-ui-XHIu5Avx.js";import{R as J,a,d as I}from"./vendor-react-CrVhbQmT.js";import{a0 as G,a1 as Q,F as W,o as X}from"./main-Dq0l-9vO.js";import{u as Y,B as E,A as Z,f as F}from"./useScrollToFocused-CbLFWYYQ.js";import{m as r}from"./vendor-heavy-DffLnaxe.js";import"./Toast-DLrd6fiO.js";const b=J.forwardRef(({isInvalid:o,...c},i)=>e.jsx("input",{ref:i,...c,"data-invalid":o})),p=({isOpen:o,onClose:c,children:i,width:x="auto",height:l="auto",title:u,description:n})=>e.jsx(O,{open:o,onOpenChange:m=>!m&&c(),children:e.jsxs(B,{children:[e.jsx(z,{className:"modal-backdrop"}),e.jsxs(V,{className:"modal-container",style:{width:x,height:l},onEscapeKeyDown:c,children:[e.jsx(K,{className:"visually-hidden",children:u}),n&&e.jsx(q,{className:"visually-hidden",children:n}),i]})]})}),$=({children:o})=>e.jsx("div",{className:"modal-header",children:o}),ee=({children:o})=>e.jsx("div",{className:"modal-content",children:o}),se=({children:o})=>e.jsx("div",{className:"modal-footer",children:o});p.Header=$;p.Content=ee;p.Footer=se;const te="_viewportStack_ulpef_15",oe="_scrollableContent_ulpef_53",ae="_loginFormCard_ulpef_95",re="_appTitle_ulpef_131",ne="_shortcutIcon_ulpef_191",ie="_formFields_ulpef_225",le="_supportLink_ulpef_243",ce="_errorMessage_ulpef_285",de="_formError_ulpef_299",pe="_pageFooter_ulpef_341",ue="_footerSeparator_ulpef_397",me="_versionDisplay_ulpef_409",he="_modalBodyLayout_ulpef_431",fe="_modalTextContent_ulpef_439",xe="_infoNote_ulpef_475",s={viewportStack:te,scrollableContent:oe,loginFormCard:ae,appTitle:re,shortcutIcon:ne,formFields:ie,supportLink:le,errorMessage:ce,formError:de,pageFooter:pe,footerSeparator:ue,versionDisplay:me,modalBodyLayout:he,modalTextContent:fe,infoNote:xe},Se=()=>{const[o,c]=a.useState(""),[i,x]=a.useState(""),[l,u]=a.useState(""),[n,m]=a.useState(""),[h,f]=a.useState(""),[k,v]=a.useState(!1),[j,_]=a.useState(!1),[A,L]=a.useState(!1),[D,C]=a.useState(!1),S=I(X),w=I(W),N=a.useRef(null);Y({containerRef:N,offset:20});const P=t=>{t.preventDefault(),_(!0),u(""),m(""),f("");let y=!1;if(o.trim()===""&&(u("Username is required."),y=!0),i.trim()===""&&(m("Password is required."),y=!0),y)return;if(i.trim()!=="test"){f("Incorrect username or password.");return}const T=F(o.trim());T?(C(!0),setTimeout(()=>{w({type:"RESET_DATA"}),S({isAuthenticated:!0,user:T})},500)):f("Incorrect username or password.")},R=()=>{L(!0);const t=F("dthompson");t&&(C(!0),setTimeout(()=>{w({type:"RESET_DATA"}),S({isAuthenticated:!0,user:t})},500))},M=t=>{c(t),l&&u(""),h&&f("")},H=t=>{x(t),n&&m(""),h&&f("")},g={x:[0,-8,8,-8,8,0],transition:{duration:.4}},U={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},d={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.3}}};return e.jsxs(e.Fragment,{children:[e.jsx(r.div,{className:s.viewportStack,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:e.jsxs("div",{className:s.scrollableContent,ref:N,children:[e.jsxs(r.div,{className:s.loginFormCard,variants:U,initial:"hidden",animate:"visible",children:[e.jsxs("div",{className:s.appTitle,children:[e.jsx(r.div,{layoutId:A?void 0:"app-logo",children:e.jsx(G,{size:144,className:s.shortcutIcon,onClick:R,title:"Developer Shortcut Login"})}),e.jsx(r.h3,{variants:d,children:"Safeguard"})]}),e.jsxs(r.form,{onSubmit:P,className:s.formFields,noValidate:!0,variants:d,children:[e.jsx(r.div,{animate:j&&h?g:{},onAnimationComplete:()=>_(!1),children:h&&e.jsxs("div",{className:s.formError,children:[e.jsx(Q,{size:20}),e.jsx("span",{children:h})]})}),e.jsxs(r.div,{variants:d,animate:j&&l?g:{},children:[e.jsx(b,{type:"text",placeholder:"Username","aria-label":"Username",value:o,onChange:t=>M(t.target.value),isInvalid:!!l,autoFocus:!0,autoCapitalize:"none",autoCorrect:"off",spellCheck:!1,autoComplete:"username",enterKeyHint:"next",className:s.usernameInput}),l&&e.jsx("div",{className:s.errorMessage,children:l})]}),e.jsxs(r.div,{variants:d,animate:j&&n?g:{},children:[e.jsx(b,{type:"password",placeholder:"Password","aria-label":"Password",value:i,onChange:t=>H(t.target.value),isInvalid:!!n,autoCapitalize:"none",autoCorrect:"off",autoComplete:"current-password",enterKeyHint:"go"}),n&&e.jsx("div",{className:s.errorMessage,children:n})]}),e.jsx(r.div,{variants:d,children:e.jsx(E,{type:"submit",variant:"primary",size:"m",loading:D,loadingText:"Signing in...",style:{width:"100%",marginTop:"var(--spacing-2)"},children:"Log In"})}),e.jsx(r.div,{variants:d,className:s.supportLink,children:e.jsx("button",{type:"button",onClick:()=>v(!0),children:"Trouble signing in?"})})]})]}),e.jsxs("footer",{className:s.pageFooter,children:[e.jsx("p",{children:"© 2025 Journal Technologies Inc."}),e.jsxs("p",{children:[e.jsx("a",{href:"#",onClick:t=>t.preventDefault(),children:"Privacy Policy"}),e.jsx("span",{className:s.footerSeparator,children:"·"}),e.jsx("a",{href:"#",onClick:t=>t.preventDefault(),children:"Terms of Use"})]}),e.jsxs("div",{className:s.versionDisplay,children:["v",Z.replace("v","")]})]})]})},"login-view"),e.jsxs(p,{isOpen:k,onClose:()=>v(!1),title:"How to Sign In",width:"90%",height:"auto",description:"Information on how to sign in to the prototype application.",children:[e.jsx(p.Content,{children:e.jsx("div",{className:s.modalBodyLayout,children:e.jsxs("div",{className:s.modalTextContent,children:[e.jsx("h3",{children:"How to Sign In"}),e.jsx("p",{children:"To sign-in, use your eSeries credentials. To change your password, go to eSeries and select reset password."}),e.jsxs("div",{className:s.infoNote,"data-appearance-type":"tertiary","data-bordered":"true",children:[e.jsx("h4",{children:"Password & Account Help"}),e.jsxs("ul",{children:[e.jsx("li",{children:"This prototype does not support actual password resets."}),e.jsx("li",{children:"In a production environment, this section would contain agency-specific instructions or links to a self-service portal."})]})]})]})})}),e.jsx(p.Footer,{children:e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(E,{variant:"secondary",onClick:()=>v(!1),style:{width:"100%"},children:"Close"})})})]})]})};export{Se as LoginView};
