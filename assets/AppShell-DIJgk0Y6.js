import{j as n,a as Ba,b as Da,T as za,c as $a,d as Pa,A as Fa,e as Wa,f as Va,g as Ga,h as qa,i as Ua,I as Xa,k as Ya,l as Ka,m as Qa,O as Ja,n as Za,o as er,p as tr}from"./vendor-ui-C96W7_pt.js";import{u as W,a as E,R as S,e as Z,f as ne,d as Kt}from"./vendor-react-B_tfjPbg.js";import{s as Co,f as nr,t as sr,a as Wt,w as It,r as _o,b as tt,c as ws,d as or,i as yo,e as Ws,g as ar,h as rr,p as ir,j as cs,k as So,l as jo,m as Io,n as bs,o as Pt,q as Cs,u as _s,v as lr,x as gn,y as cr,z as ys,A as To,B as Ss,C as ko,D as ur,E as Gn,F as vn,G as js,H as dr,I as mr,J as No,K as Ro,L as hr,M as fr,N as pr,O as Eo,P as Ho,Q as gr,R as vr,S as xr,T as wr,U as br,V as Cr,W as Ao,X as _r,Y as yr,Z as Sr}from"./index-CLchBPQm.js";import{m as xe,A as St,u as jr,a as Vs,b as Jn,c as Rn}from"./vendor-heavy-BOpt6eaF.js";import{B as me,g as Is,a as Ir,u as Tr}from"./useScrollToFocused-BEn2u3I5.js";const kr=(e,t)=>{const s=(e.getTime()-t)/1e3;if(s<0){const i=Math.abs(s)/60,c=Math.floor(i/60),d=Math.floor(i%60);if(i<1)return"Overdue";const m=[];return c>0&&m.push(`${c}h`),d>0&&m.push(`${d}m`),`Overdue ${m.join(" ")}`}if(s<60)return`${Math.max(0,s).toFixed(1)}s`;if(s<300){const i=Math.floor(s/60),c=Math.floor(s%60);return`${i}m ${String(c).padStart(2,"0")}s`}if(s<3600)return`${Math.ceil(s/60)}m`;const o=s/60,a=Math.floor(o/60),r=Math.round(o%60),l=[];return a>0&&l.push(`${a}h`),r>0&&l.push(`${r}m`),l.join(" ")},Nr=(e,t)=>{const s=t==="early"||t==="pending"||t==="due"||t==="missed",o=Date.now(),a=(e.getTime()-o)/1e3;let r=Co;t!=="missed"&&(a<60&&a>-60?r=nr:a<300&&(r=sr));const l=W(r);if(!s)return"";if(t==="missed"){const i=(l-e.getTime())/1e3,c=Math.floor(i/60),d=Math.floor(c/60),m=c%60;if(c<1)return"Overdue";const h=[];return d>0&&h.push(`${d}h`),m>0&&h.push(`${m}m`),`Overdue ${h.join(" ")}`}return kr(e,l)},Rr=["pulse-basic","pulse-gradient","magma-flow","border-pulse","hazard-fade","card-pulse-basic","card-pulse-gradient","indicator-pulse","badge-pulse","glass-tint-pulse"];function xn(e,t){const{isEnabled:s,animationNames:o=Rr}=t,a=E.useRef(!1);typeof window<"u"&&(a.current=window.matchMedia("(prefers-reduced-motion: reduce)").matches),E.useLayoutEffect(()=>{if(!s||!e.current||a.current)return;const r=e.current,l=d=>{if("animationName"in d){const m=d.animationName;o.some(h=>m.includes(h))&&(d.startTime=0,console.log(`[useWaapiSync] Synced '${m}' to startTime=0`))}};r.getAnimations({subtree:!0}).forEach(l);const c=d=>{if(o.some(m=>d.animationName.includes(m))){const h=r.getAnimations({subtree:!0}).find(u=>u.animationName===d.animationName);h&&l(h)}};return r.addEventListener("animationstart",c),()=>{r.removeEventListener("animationstart",c)}},[s,e,o])}const Er="_badge_sy3c1_5",Hr="_badgeIcon_sy3c1_37",Ar="_badgePulse_sy3c1_161",Mr="_badgeInvert_sy3c1_197",Or="_badgeInvertForCard_sy3c1_219",Zt={badge:Er,badgeIcon:Hr,badgePulse:Ar,badgeInvert:Mr,badgeInvertForCard:Or},Lr=e=>{switch(e){case"due":return{label:"Due",icon:"schedule"};case"missed":return{label:"Missed",icon:"notifications_active"};case"completing":return{label:"Completed",icon:"check_circle"};case"complete":return{label:"Completed",icon:"check_circle"};case"queued":return{label:"Queued",icon:"cloud_off"};default:return{label:"",icon:null}}},Br=(e,t)=>{const s=new Date(e).getTime(),o=(t-s)/(60*1e3),a=Math.max(1,Math.ceil(o/15));return a===1?"Missed":`${a} Missed`},Dr=({status:e,type:t,dueDate:s})=>{const o=W(Co),{feat_badge_mode:a,feat_invert_badge:r,feat_invert_card:l}=W(Wt),i=S.useRef(null),c=a==="pulse"&&e==="missed";if(xn(i,{isEnabled:c}),e==="pending"||e==="early")return null;const d=Lr(e);let m=d.label,h=e;t==="supplemental"&&(m="Supplemental",h="supplemental"),e==="missed"&&s&&(m=Br(s,o));const u=e==="missed"&&r&&!l,w=e==="missed"&&l,p=[Zt.badge,c?Zt.badgePulse:"",u?Zt.badgeInvert:"",w?Zt.badgeInvertForCard:""].filter(Boolean).join(" ");return n.jsxs("div",{className:p,"data-status":h,ref:i,children:[d.icon&&n.jsx("span",{className:`material-symbols-rounded ${Zt.badgeIcon}`,children:d.icon}),m]})},zr="_checkCard_1jx0x_117",$r="_statusIndicator_1jx0x_273",Pr="_mainContent_1jx0x_353",Fr="_topRow_1jx0x_369",Wr="_bottomRow_1jx0x_383",Vr="_locationInfo_1jx0x_397",Gr="_locationText_1jx0x_411",qr="_residentList_1jx0x_429",Ur="_residentListItem_1jx0x_453",Xr="_warningIcon_1jx0x_475",Yr="_timeDisplay_1jx0x_487",Kr="_cardGradient_1jx0x_561",Qr="_cardBorder_1jx0x_643",Jr="_cardHazard_1jx0x_683",Zr="_cardPulseBasic_1jx0x_749",ei="_cardInvert_1jx0x_949",He={checkCard:zr,statusIndicator:$r,mainContent:Pr,topRow:Fr,bottomRow:Wr,locationInfo:Vr,locationText:Gr,residentList:qr,residentListItem:Ur,warningIcon:Xr,timeDisplay:Yr,cardGradient:Kr,cardBorder:Qr,cardHazard:Jr,cardPulseBasic:Zr,cardInvert:ei},ti=({resident:e,check:t})=>{const s=t.specialClassifications?.some(o=>o.residentId===e.id);return n.jsxs("li",{className:He.residentListItem,children:[s&&n.jsx("span",{className:`material-symbols-rounded ${He.warningIcon}`,children:"warning"}),e.name]})},ni=({check:e,transition:t})=>{const s=Z(It),o=W(_o),{showStatusIndicators:a}=W(tt),{feat_card_pulse:r,feat_card_gradient:l,feat_card_border:i,feat_hazard_texture:c,feat_invert_card:d}=W(Wt),m=o===e.id,h=e.status==="missed",u=E.useRef(null);xn(u,{isEnabled:h&&(r!=="none"||l||i||c)});const p=E.useMemo(()=>new Date(e.dueDate),[e.dueDate]),v=Nr(p,e.status),x=!["complete","supplemental","completing","queued"].includes(e.status),f=()=>{x&&s({view:"form",type:"scheduled",method:"manual",checkId:e.id,roomName:e.residents[0].location,residents:e.residents,specialClassifications:e.specialClassifications})},{residents:g}=e,I=g[0]?.location||"N/A",y=!["complete","supplemental","completing","queued"].includes(e.status),b=h&&r==="basic"?He.cardPulseBasic:h&&r==="gradient"?He.cardGradient:"",_=h&&r==="none"&&l?He.cardGradient:"",C=[He.checkCard,m?He.isCompleting:"",b,_,h&&i?He.cardBorder:"",h&&c?He.cardHazard:"",h&&d?He.cardInvert:""].filter(Boolean).join(" ");return n.jsx(xe.div,{initial:{height:"auto",marginBottom:"var(--space-3)"},animate:{height:"auto",marginBottom:"var(--space-3)"},exit:{height:0,marginBottom:0,overflow:"hidden",transition:{delay:.1,duration:.2,ease:"linear"}},children:n.jsxs(xe.div,{ref:u,transition:t,initial:{opacity:0,x:0},animate:{opacity:1,x:0},exit:{x:"100%",opacity:0,transition:{x:{duration:.2,ease:[.25,1,.5,1]},opacity:{duration:.2,ease:"easeOut"}}},className:C,"data-status":e.status,"data-check-id":e.id,"data-indicators-visible":a,onClick:f,"aria-disabled":!x,whileTap:x?{scale:.98}:{},children:[a&&y&&n.jsx("div",{className:He.statusIndicator,"data-status":e.status}),n.jsxs("div",{className:He.mainContent,children:[n.jsxs("div",{className:He.topRow,children:[n.jsx("div",{className:He.locationInfo,children:n.jsx("span",{className:He.locationText,children:I})}),n.jsx(Dr,{status:e.status,type:e.type,dueDate:e.dueDate})]}),n.jsxs("div",{className:He.bottomRow,children:[n.jsx("ul",{className:He.residentList,children:g.map(j=>n.jsx(ti,{resident:j,check:e},j.id))}),n.jsx("div",{className:He.timeDisplay,children:x?v:null})]})]})]})})},si="_shimmer_1m0k7_23",oi="_cardWrapper_1m0k7_49",ai="_indicator_1m0k7_89",ri="_mainContent_1m0k7_109",ii="_topRow_1m0k7_123",li="_bottomRow_1m0k7_125",ci="_location_1m0k7_153",ui="_badge_1m0k7_155",di="_resident_1m0k7_157",mi="_residentShort_1m0k7_159",dt={shimmer:si,cardWrapper:oi,indicator:ai,mainContent:ri,topRow:ii,bottomRow:li,location:ci,badge:ui,resident:di,residentShort:mi},hi=()=>n.jsxs("div",{className:dt.cardWrapper,children:[n.jsx("div",{className:dt.shimmer}),n.jsx("div",{className:dt.indicator}),n.jsxs("div",{className:dt.mainContent,children:[n.jsxs("div",{className:dt.topRow,children:[n.jsx("div",{className:dt.location}),n.jsx("div",{className:dt.badge})]}),n.jsxs("div",{className:dt.bottomRow,children:[n.jsx("div",{className:dt.resident}),n.jsx("div",{className:dt.residentShort})]})]})]}),fi="_emptyStateContainer_11y9y_3",pi="_emptyStateMessage_11y9y_47",En={emptyStateContainer:fi,emptyStateMessage:pi},us=({icon:e="search_off",title:t,message:s,action:o})=>n.jsxs("div",{className:En.emptyStateContainer,children:[n.jsx("span",{className:"material-symbols-rounded large-feature-icon",children:e}),n.jsx("h3",{className:En.emptyStateTitle,children:t}),s&&n.jsx("p",{className:En.emptyStateMessage,children:s}),o&&n.jsx("div",{className:En.actionContainer,children:o})]}),gi="_chipContainer_5af65_5",vi="_chipContent_5af65_19",xi="_chipText_5af65_43",wi="_clearButton_5af65_63",Hn={chipContainer:gi,chipContent:vi,chipText:xi,clearButton:wi},bi=({filterLabel:e,onClear:t})=>n.jsx(xe.div,{layout:!0,className:Hn.chipContainer,initial:{y:-20,opacity:0,height:0},animate:{y:0,opacity:1,height:"auto"},exit:{y:-20,opacity:0,height:0},transition:{type:"tween",duration:.25,ease:"easeInOut"},children:n.jsxs("div",{className:Hn.chipContent,children:[n.jsxs("span",{className:Hn.chipText,children:["Showing: ",n.jsx("strong",{children:e})]}),n.jsx(me,{variant:"quaternary",size:"xs",iconOnly:!0,onClick:t,"aria-label":"Clear filter",className:Hn.clearButton,children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})})]})}),Ci="_emptyStateContainer_1yck0_3",An={emptyStateContainer:Ci},_i=({filterLabel:e,onClear:t})=>n.jsxs("div",{className:An.emptyStateContainer,children:[n.jsx("div",{className:An.iconWrapper,children:n.jsx("span",{className:"material-symbols-rounded",children:"filter_list_off"})}),n.jsxs("h3",{className:An.title,children:['No "',e,'" checks']}),n.jsx("p",{className:An.message,children:"There are no checks that match the current filter. Try clearing the filter to see all upcoming checks."}),n.jsx(me,{variant:"secondary",size:"m",onClick:t,children:"Clear Filter"})]}),yi="_scrollContainer_1khaw_5",Si="_headerWrapper_1khaw_49",ji="_priorityGroupHeader_1khaw_57",en={scrollContainer:yi,headerWrapper:Si,priorityGroupHeader:ji},Gs={type:"tween",duration:.25,ease:[.25,1,.5,1]},Ii=8,qs={missed:"Missed",due:"Due",queued:"Queued"},Ti=e=>{const t={Missed:[],Due:[],Upcoming:[]};return e.forEach(s=>{if(["complete","supplemental","queued"].includes(s.status))return;let o=s.status;if(s.status==="completing"){const a=s.baseInterval*60*1e3,l=new Date(s.dueDate).getTime()-a,c=(Date.now()-l)/(60*1e3);c<13?o="pending":c<15?o="due":o="missed"}switch(o){case"missed":t.Missed.push(s);break;case"due":t.Due.push(s);break;case"early":case"pending":default:t.Upcoming.push(s);break}}),Object.entries(t).map(([s,o])=>({title:s,checks:o})).filter(s=>s.checks.length>0)},ki=e=>{const t=e.filter(o=>!["complete","supplemental","missed","queued"].includes(o.status)),s=[];return t.length>0&&s.push({title:"Walking Order",checks:t}),s},Ni=({viewType:e})=>{const t=W(e==="time"?ws:or),{isSlowLoadEnabled:s}=W(tt),[o,a]=ne(yo),r=W(Ws),l=W(ar),[i,c]=ne(rr),d=Z(Ws);E.useEffect(()=>{if(o){const p=setTimeout(()=>a(!1),s?3e3:750);return()=>clearTimeout(p)}},[o,a,s]);const m=()=>{d(!0),c("all"),setTimeout(()=>d(!1),500)},h=o,u=i!=="all",w=()=>{if(h)return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:en.headerWrapper,children:n.jsx("div",{className:en.priorityGroupHeader,style:{width:"100px",height:"1.5rem",backgroundColor:"transparent",marginBottom:"var(--spacing-2)"},children:n.jsx("div",{style:{width:"100%",height:"100%",backgroundColor:"var(--surface-bg-tertiary)",borderRadius:"var(--radius-sm)",opacity:.3}})})}),Array.from({length:Ii}).map((v,x)=>n.jsx(hi,{},x))]});if(t.length===0)return l?n.jsx(us,{title:"No Results Found",message:`Your search for "${l}" did not return any results.`}):u?n.jsx(_i,{filterLabel:qs[i],onClear:m}):n.jsx(us,{title:"All Checks Complete",message:"There are no checks due at this time."});const p=e==="time"?Ti(t):ki(t);return n.jsxs(n.Fragment,{children:[n.jsx(St,{children:p.flatMap(v=>[n.jsx(xe.div,{className:en.headerWrapper,layout:!0,transition:Gs,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:n.jsx("h2",{className:en.priorityGroupHeader,children:v.title})},v.title),...v.checks.map(x=>n.jsx(ni,{check:x,transition:Gs},x.id))])}),n.jsx("div",{style:{height:"calc(var(--footer-height, 96px) + var(--spacing-4))"}})]})};return n.jsxs("div",{className:en.scrollContainer,"data-refreshing":r,children:[n.jsx("div",{style:{height:"var(--header-height)"}}),n.jsx(St,{mode:"wait",children:u&&n.jsx(bi,{filterLabel:qs[i],onClear:m},i)}),w()]})},Ri="_container_r0gas_5",Ei={container:Ri},Hi=()=>n.jsx("div",{className:Ei.container,children:n.jsx(Ni,{viewType:"time"})}),Ai={light:[50],medium:[100],heavy:[150]},Mi={simple:[200],double:[300,100,300],grind:[50,50,50,50,50,50],stutter:[50,100,50,100,200]},Oi={warning:[100,50,100],light:10,medium:40,heavy:60,selection:5},Li=150,Ue=()=>{const e=W(tt),t=E.useRef(0);return{trigger:E.useCallback(o=>{if(e.hapticsEnabled&&window.navigator&&"vibrate"in window.navigator){const a=Date.now();if(a-t.current<Li)return;try{let r;o==="success"?r=Ai[e.hapticPatternSuccess]:o==="error"?r=Mi[e.hapticPatternError]:r=Oi[o],window.navigator.vibrate(r),t.current=a}catch{}}},[e.hapticsEnabled,e.hapticPatternSuccess,e.hapticPatternError])}},qn=()=>{const{audioEnabled:e}=W(tt),t=W(ir);return{play:E.useCallback((o,a)=>{!e||!t||t(o,a)},[e,t])}},Bi=(e,t=7,s=3e3)=>{const o=E.useRef(0),a=E.useRef(0),r=E.useRef(e);return r.current=e,{onTap:E.useCallback(()=>{const i=Date.now();i-a.current>s&&(o.current=0,a.current=i),o.current+=1,o.current===1&&(a.current=i),o.current>=t&&(o.current=0,r.current())},[t,s]),currentCount:o.current}},Di="_contextCard_17t6w_5",zi="_stackedContainer_17t6w_43",$i="_stackItem_17t6w_57",Pi="_label_17t6w_69",Fi="_value_17t6w_85",Wi="_actionIcon_17t6w_97",vt={contextCard:Di,stackedContainer:zi,stackItem:$i,label:Pi,value:Fi,actionIcon:Wi},Mo=({groupId:e,unitId:t,onClick:s})=>{const o=cs.find(i=>i.id===e),a=o?.units.find(i=>i.id===t),r=o?.name||"Select Group",l=a?.name||"Select Unit";return n.jsxs("button",{className:vt.contextCard,onClick:s,type:"button",children:[n.jsxs("div",{className:vt.stackedContainer,children:[n.jsxs("div",{className:vt.stackItem,children:[n.jsx("span",{className:vt.label,children:"Group"}),n.jsx("span",{className:vt.value,children:r})]}),n.jsxs("div",{className:vt.stackItem,children:[n.jsx("span",{className:vt.label,children:"Unit"}),n.jsx("span",{className:vt.value,children:l})]})]}),n.jsx("div",{className:vt.actionIcon,children:n.jsx("span",{className:"material-symbols-rounded",children:"swap_horiz"})})]})},xt=({label:e,subLabel:t,leadingIcon:s,leadingElement:o,trailingIcon:a,trailingElement:r,isSelected:l,disabled:i,onClick:c,indent:d=!1,showChevron:m=!0})=>{let h=o;!h&&s?h=n.jsx("span",{className:"material-symbols-rounded",children:s}):!h&&l&&(h=n.jsx("span",{className:"material-symbols-rounded",children:"check"}));let u=r;return!u&&a?u=n.jsx("span",{className:"material-symbols-rounded",children:a}):!u&&c&&m&&!l&&(u=n.jsx("span",{className:"material-symbols-rounded",children:"chevron_right"})),n.jsxs("button",{className:"list-item-root",onClick:c,disabled:i,"aria-selected":l,"data-has-leading":!!h||d,type:"button",children:[(h||d)&&n.jsx("div",{className:"list-item-leading",children:h}),n.jsxs("div",{className:"list-item-content",children:[n.jsxs("div",{className:"list-item-text-group",children:[n.jsx("span",{className:"list-item-label",children:e}),t&&n.jsx("span",{className:"list-item-sublabel",children:t})]}),u&&n.jsx("div",{className:"list-item-trailing",children:u})]})]})},Vi="v4.20",Gi="_sideMenu_15qma_5",qi="_header_15qma_29",Ui="_titleRow_15qma_49",Xi="_title_15qma_49",Yi="_version_15qma_83",Ki="_headerSeparator_15qma_113",Qi="_content_15qma_125",Ji="_separator_15qma_143",Zi="_menuList_15qma_253",el="_footer_15qma_273",tl="_userProfileCard_15qma_289",nl="_userName_15qma_361",Pe={sideMenu:Gi,header:qi,titleRow:Ui,title:Xi,version:Yi,headerSeparator:Ki,content:Qi,separator:Ji,menuList:Zi,footer:el,userProfileCard:tl,userName:nl},sl=()=>{const e=Z(So),t=Z(jo),s=Z(Io),o=Z(It),a=Z(bs),r=Z(Pt),l=W(Pt),i=W(Cs),c=W(_s),{toggle:d,isUnlocked:m}=lr(),h=Z(gn),{trigger:u}=Ue(),{play:w}=qn(),p=E.useCallback(()=>{const f=!m;d(),u(f?"success":"light"),f&&w("success"),h({message:f?"Future Ideas Unlocked":"Future Ideas Hidden",icon:f?"lightbulb":"lightbulb_outline",variant:"neutral"})},[d,m,h,u,w]),{onTap:v}=Bi(p,7,3e3),x=()=>{r({isAuthenticated:!1,user:null})};return n.jsxs("aside",{className:Pe.sideMenu,children:[n.jsxs("header",{className:Pe.header,children:[n.jsxs("div",{className:Pe.titleRow,children:[n.jsx("h1",{className:Pe.title,onClick:v,children:"Safeguard"}),n.jsx("span",{className:Pe.version,children:Vi})]}),n.jsx("div",{className:Pe.headerSeparator})]}),n.jsxs("main",{className:Pe.content,children:[n.jsx(Mo,{groupId:i,unitId:c,onClick:()=>a(!0)}),n.jsx("div",{className:Pe.separator}),n.jsxs("div",{className:Pe.menuList,children:[n.jsx(xt,{label:"Write NFC tags",leadingIcon:"nfc",onClick:()=>o({view:"provisioning"}),showChevron:!1}),n.jsx(xt,{label:"Developer tools",leadingIcon:"code",onClick:()=>t(!0),showChevron:!1}),m&&n.jsx(xt,{label:"Future Ideas",leadingIcon:"lightbulb",onClick:()=>s(!0),showChevron:!1})]})]}),n.jsxs("footer",{className:Pe.footer,children:[n.jsx("div",{className:Pe.menuList,children:n.jsx(xt,{label:"Log out",leadingIcon:"logout",onClick:x,showChevron:!1})}),n.jsx("div",{className:Pe.separator}),n.jsxs("button",{className:Pe.userProfileCard,onClick:()=>e(!0),"aria-label":"Settings",children:[n.jsx("span",{className:Pe.userName,children:l.user?.displayName||"Unknown User"}),n.jsx("span",{className:"material-symbols-rounded",children:"settings"})]})]})]})},ol=e=>{const t=Z(e),s=E.useRef(null),o=E.useRef(0),a=E.useRef(0);return E.useLayoutEffect(()=>{const r=()=>{if(s.current){const i=s.current.offsetHeight;o.current!==i&&(cancelAnimationFrame(a.current),a.current=requestAnimationFrame(()=>{o.current=i,t(i)}))}};r();const l=new ResizeObserver(r);return s.current&&l.observe(s.current),()=>{l.disconnect(),cancelAnimationFrame(a.current),t(0)}},[t]),s},al=({children:e,content:t,delay:s=300,side:o="top"})=>t?n.jsx(Ba,{children:n.jsxs(Da,{delayDuration:s,children:[n.jsx(za,{asChild:!0,children:e}),n.jsx($a,{children:n.jsxs(Pa,{className:"tooltip-content",side:o,sideOffset:5,children:[t,n.jsx(Fa,{className:"tooltip-arrow"})]})})]})}):e,Oo=({trigger:e,children:t,open:s,onOpenChange:o,variant:a="default"})=>{const r=a==="tooltip"?"popover-content-tooltip":"popover-content";return n.jsxs(Wa,{open:s,onOpenChange:o,children:[n.jsx(Va,{asChild:!0,children:e}),n.jsx(Ga,{children:n.jsx(qa,{className:r,sideOffset:5,collisionPadding:8,children:t})})]})},rl="_statusBar_9ph0v_7",il="_contentContainer_9ph0v_19",ll="_statusPill_9ph0v_29",cl="_icon_9ph0v_99",ul="_count_9ph0v_109",dl="_popoverContent_9ph0v_123",zt={statusBar:rl,contentContainer:il,statusPill:ll,icon:cl,count:ul,popoverContent:dl},Us=({count:e,icon:t,status:s,tooltipContent:o})=>{const a=e===0,r=n.jsxs("div",{className:zt.statusPill,"data-status":s,"data-active":"false","data-empty":a?"true":void 0,children:[n.jsx("span",{className:`material-symbols-rounded ${zt.icon}`,children:t}),n.jsx("span",{className:zt.count,children:e})]});return o?n.jsx(Oo,{trigger:r,variant:"tooltip",children:o}):r},ml=()=>{const e=W(cr),t=n.jsx("div",{className:zt.popoverContent,children:n.jsxs("span",{children:[e.missed," Missed"]})}),s=n.jsx("div",{className:zt.popoverContent,children:n.jsxs("span",{children:[e.due," Due"]})});return n.jsx(xe.div,{className:zt.statusBar,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{type:"tween",duration:.2},children:n.jsxs("div",{className:zt.contentContainer,children:[n.jsx(Us,{count:e.missed,icon:"notifications_active",status:"missed",tooltipContent:t}),n.jsx(Us,{count:e.due,icon:"schedule",status:"due",tooltipContent:s})]})})},hl="_avatar_pc746_5",fl="_popoverContent_pc746_67",Xs={avatar:hl,popoverContent:fl},pl=()=>{const e=W(Pt),t=W(ys),s=W(Wt),o=Z(To);if(!e.user)return null;const{initials:a,displayName:r,username:l}=e.user;let i;if(s.enableEnhancedAvatarDropdown){const m=t[l]?.avatarHue,h=m!==void 0?m:Is(l);i=Ir(h)}const c=n.jsx("div",{className:Xs.avatar,"aria-label":`User: ${r}`,style:i?{backgroundColor:i}:void 0,onClick:s.enableEnhancedAvatarDropdown?()=>o(!0):void 0,role:s.enableEnhancedAvatarDropdown?"button":void 0,children:a});if(s.enableEnhancedAvatarDropdown)return c;const d=n.jsx("div",{className:Xs.popoverContent,children:r});return n.jsx(Oo,{trigger:c,variant:"tooltip",children:d})},gl="_header_12tyr_5",vl="_headerContent_12tyr_251",xl="_leftActions_12tyr_275",wl="_centerContent_12tyr_295",bl="_rightActions_12tyr_313",tn={header:gl,headerContent:vl,leftActions:xl,centerContent:wl,rightActions:bl},Cl=()=>{const[e,t]=ne(Ss),s=W(ko),o=ol(ur),a=E.useRef(null),r=E.useCallback(i=>{o.current=i,a.current=i},[o]);xn(a,{isEnabled:s>0});const l=()=>{t(e==="sideMenu"?"dashboardTime":"sideMenu")};return n.jsx("header",{className:tn.header,ref:r,children:n.jsxs("div",{className:tn.headerContent,children:[n.jsx("div",{className:tn.leftActions,children:n.jsx(al,{content:"Open navigation",children:n.jsx(me,{variant:"tertiary",size:"lg",iconOnly:!0,onClick:l,"aria-label":"Open navigation menu",children:n.jsx("span",{className:"material-symbols-rounded",children:"menu"})})})}),n.jsx("div",{className:tn.centerContent,children:n.jsx(ml,{})}),n.jsx("div",{className:tn.rightActions,children:n.jsx(pl,{})})]})})},Ts=()=>{const e=Z(Gn),t=Z(_o),s=W(vn),o=W(tt),{trigger:a}=Ue(),{play:r}=qn();return{completeCheck:({checkId:i,statuses:c,notes:d,onSuccess:m})=>{const h=o.scanMode==="nfc"&&o.simpleSubmitEnabled;a("success"),r("success"),e({type:"CHECK_SET_COMPLETING",payload:{checkId:i}}),t(i),setTimeout(()=>{const w={checkId:i,statuses:c,notes:d,completionTime:new Date().toISOString()};e(s==="offline"?{type:"CHECK_SET_QUEUED",payload:w}:{type:"CHECK_COMPLETE",payload:w}),t(null),m?.()},h?0:1e3)}}},_l="_footer_lhs3k_5",yl="_scanButton_lhs3k_343",Sl="_nfcContainer_lhs3k_367",jl="_nfcIcon_lhs3k_403",Il="_nfcText_lhs3k_417",nn={footer:_l,scanButton:yl,nfcContainer:Sl,nfcIcon:jl,nfcText:Il},Tl=()=>{const e=Z(It),t=W(tt),s=W(ko),o=W(ws),a=W(js),r=Z(gn),l=E.useRef(null),{trigger:i}=Ue(),{completeCheck:c}=Ts();xn(l,{isEnabled:s>0}),E.useLayoutEffect(()=>{const h=()=>{if(l.current){const w=l.current.offsetHeight;document.documentElement.style.setProperty("--footer-height",`${w}px`)}};h();const u=new ResizeObserver(h);return l.current&&u.observe(l.current),()=>{u.disconnect(),document.documentElement.style.removeProperty("--footer-height")}},[t.scanMode]);const d=()=>{i("heavy"),e({view:"scanning",isManualSelectionOpen:!1})},m=()=>{if(a.nfcFails){i("error"),r({message:`Tag not read.
Hold phone steady against the tag.`,icon:"wifi_tethering_error",variant:"alert"});return}const h=o.find(u=>u.status!=="complete"&&u.type!=="supplemental");if(h){if(i("success"),t.simpleSubmitEnabled){const u=h.residents.reduce((w,p)=>(w[p.id]="Awake",w),{});c({checkId:h.id,statuses:u,notes:"",onSuccess:()=>{r({message:"Check completed",icon:"check_circle",variant:"success"})}});return}e({view:"form",type:"scheduled",method:"scan",checkId:h.id,roomName:h.residents[0].location,residents:h.residents,specialClassifications:h.specialClassifications})}else i("warning"),r({message:"No incomplete checks found in current list.",icon:"info",variant:"neutral"})};return n.jsx("footer",{className:nn.footer,ref:l,children:t.scanMode==="nfc"?n.jsxs(xe.div,{className:nn.nfcContainer,animate:{opacity:[.6,1,.6]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},onClick:m,children:[n.jsx("span",{className:`material-symbols-rounded ${nn.nfcIcon}`,children:"sensors"}),n.jsx("span",{className:nn.nfcText,children:"Ready to scan"})]}):n.jsxs(me,{variant:"primary",className:nn.scanButton,onClick:d,children:[n.jsx("span",{className:"material-symbols-rounded",children:"qr_code_scanner"}),n.jsx("span",{children:"Scan"})]})})},kl="_banner_128fn_5",Nl="_iconContainer_128fn_39",Rl="_icon_128fn_39",El="_textContainer_128fn_73",Hl="_statusText_128fn_95",Al="_queueText_128fn_123",Ml="_syncButton_128fn_139",Ol="_spinner_128fn_185",mt={banner:kl,iconContainer:Nl,icon:Rl,textContainer:El,statusText:Hl,queueText:Al,syncButton:Ml,spinner:Ol},Ll=e=>{const t=Math.floor(e/1e3),s=Math.floor(t/60),o=t%60;return`${s}:${o.toString().padStart(2,"0")}`},Bl=()=>{const[e,t]=ne(vn),s=W(dr),o=W(mr),a=Z(Gn),{trigger:r}=Ue(),{play:l}=qn(),[i,c]=E.useState("0:00"),d=E.useRef(null);if(E.useEffect(()=>{e==="offline"&&r("warning")},[e,s,r]),E.useEffect(()=>{if(e!=="offline"||!s){c("0:00");return}const u=()=>{const v=Date.now()-s;c(Ll(v))};u();const w=setInterval(u,1e3);return()=>clearInterval(w)},[e,s]),E.useEffect(()=>{const u=()=>{if(d.current){const p=d.current.offsetHeight;document.documentElement.style.setProperty("--offline-banner-height",`${p}px`)}else document.documentElement.style.removeProperty("--offline-banner-height")};u();const w=new ResizeObserver(u);return d.current&&w.observe(d.current),()=>{w.disconnect(),document.documentElement.style.removeProperty("--offline-banner-height")}},[e]),e==="online")return null;const m=()=>{t("syncing"),r("medium"),setTimeout(()=>{a({type:"SYNC_QUEUED_CHECKS",payload:{syncTime:new Date().toISOString()}}),r("success"),l("success"),t("online")},2e3)},h=()=>o===0?"No items queued for sync":o===1?"1 item queued for sync":`${o} items queued for sync`;return n.jsx(St,{children:n.jsxs(xe.div,{className:mt.banner,ref:d,initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{type:"tween",duration:.3},children:[n.jsx("div",{className:mt.iconContainer,children:n.jsx("span",{className:`material-symbols-rounded ${mt.icon} ${e==="syncing"?mt.spinner:""}`,children:e==="syncing"?"sync":"cloud_off"})}),n.jsx("div",{className:mt.textContainer,children:e==="syncing"?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:mt.statusText,children:"Syncing data..."}),n.jsx("div",{className:mt.queueText,children:"Please wait"})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:mt.statusText,children:["Offline for ",i]}),n.jsx("div",{className:mt.queueText,children:h()})]})}),e==="offline"&&n.jsx("button",{className:mt.syncButton,onClick:m,children:"Sync Now"})]})})},Dl="_scanView_1lzie_65",zl="_header_1lzie_87",$l="_preScanAlert_1lzie_127",Pl="_alertSeparator_1lzie_197",Fl="_cameraContainer_1lzie_211",Wl="_viewfinder_1lzie_233",Vl="_statusOverlay_1lzie_291",Gl="_processingState_1lzie_325",ql="_spinner_1lzie_333",Ul="_successState_1lzie_345",Xl="_failState_1lzie_353",Yl="_helperText_1lzie_363",Kl="_footer_1lzie_373",Ql="_devControlsContainer_1lzie_421",Jl="_devControlsHeader_1lzie_441",Zl="_devControls_1lzie_421",je={scanView:Dl,header:zl,preScanAlert:$l,alertSeparator:Pl,cameraContainer:Fl,viewfinder:Wl,statusOverlay:Vl,processingState:Gl,spinner:ql,successState:Ul,failState:Xl,helperText:Yl,footer:Kl,devControlsContainer:Ql,devControlsHeader:Jl,devControls:Zl},ec=()=>{const[e,t]=ne(It),s=W(No),o=W(tt),a=W(ws),r=W(js),l=Z(gn),{trigger:i}=Ue(),{play:c}=qn(),{completeCheck:d}=Ts(),[m,h]=E.useState("scanning"),[u,w]=E.useState(null),p=E.useRef(null),v=E.useRef(0);E.useEffect(()=>{if(e.view==="scanning"&&h("scanning"),e.view==="scanning"&&e.targetCheckId){const j=s.find(k=>k.id===e.targetCheckId)?.specialClassifications?.[0];if(j){const k=Ro.find(A=>A.id===j.residentId);k&&w({residentName:k.name,classificationType:j.type})}}else w(null)},[e,s]);const x=E.useCallback(()=>{i("error"),c("error"),h("fail"),setTimeout(()=>{h("scanning")},1500)},[i,c]),f=C=>{m==="scanning"&&(p.current===C&&Date.now()-v.current<2e3||(p.current=C,v.current=Date.now(),h("processing"),setTimeout(()=>{const j=C.startsWith("room:")?C.split(":")[1]:C,k=s.find(A=>A.id===j&&A.status!=="complete");if(k){if(i("success"),c("success"),h("success"),o.simpleSubmitEnabled){const A=k.residents.reduce((M,z)=>(M[z.id]="Awake",M),{});t({view:"none"}),d({checkId:k.id,statuses:A,notes:"",onSuccess:()=>{l({message:"Check completed",icon:"check_circle",variant:"success"})}});return}setTimeout(()=>{t({view:"form",type:"scheduled",method:"scan",checkId:k.id,roomName:k.residents[0].location,residents:k.residents,specialClassifications:k.specialClassifications})},800)}else x()},300)))},g=C=>{C instanceof Error?console.log("QR Scanner Error:",C.message):console.log("An unknown QR scanner error occurred:",C)},I=()=>t({view:"none"}),y=()=>{if(e.view==="scanning"&&e.targetCheckId){f(e.targetCheckId);return}const C=a.find(j=>j.status!=="complete"&&j.type!=="supplemental");if(C)f(C.id);else{const j=s.find(k=>k.status!=="complete");j?f(j.id):l({message:"No incomplete checks found to simulate.",icon:"info",variant:"neutral"})}},b=()=>f("invalid-qr-code-id"),_=()=>{if(r.cameraFails)return n.jsxs("div",{className:`${je.statusOverlay} ${je.failState}`,children:[n.jsx("span",{className:"material-symbols-rounded",children:"no_photography"}),"Camera Error"]});switch(m){case"scanning":return n.jsx(jr,{onScan:C=>{C&&C.length>0&&f(C[0].rawValue)},onError:g,constraints:{facingMode:"environment"},scanDelay:500});case"processing":return n.jsxs("div",{className:`${je.statusOverlay} ${je.processingState}`,children:[n.jsx("span",{className:`material-symbols-rounded ${je.spinner}`,children:"progress_activity"}),"Processing..."]});case"success":return n.jsxs("div",{className:`${je.statusOverlay} ${je.successState}`,children:[n.jsx("span",{className:"material-symbols-rounded",children:"check_circle"}),"Success!"]});case"fail":return n.jsxs("div",{className:`${je.statusOverlay} ${je.failState}`,children:[n.jsx("span",{className:"material-symbols-rounded",children:"error"}),"Scan Failed"]});default:return null}};return n.jsxs(xe.div,{className:je.scanView,initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]},children:[n.jsxs("header",{className:je.header,children:[n.jsx("h3",{children:"Scan Room QR Code"}),n.jsx(me,{variant:"on-solid",size:"lg",iconOnly:!0,onClick:I,"aria-label":"Close scanner",children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})})]}),n.jsx(St,{children:u&&n.jsxs(xe.div,{className:je.preScanAlert,initial:{y:"-100%",opacity:0},animate:{y:0,opacity:1},exit:{y:"-100%",opacity:0},transition:{type:"tween",ease:"easeInOut",duration:.35},children:[n.jsx("span",{className:"material-symbols-rounded",children:"warning"}),n.jsxs("p",{children:[n.jsx("span",{children:u.residentName}),n.jsx("span",{className:je.alertSeparator,children:"|"}),n.jsx("span",{children:u.classificationType})]})]})}),n.jsxs("main",{className:je.cameraContainer,children:[n.jsx("div",{className:je.viewfinder,"data-scan-state":m,children:_()}),n.jsx("p",{className:je.helperText,children:r.cameraFails?"Camera hardware is not responding.":"Point your camera at the room's QR code"})]}),n.jsx("footer",{className:je.footer,children:n.jsxs("div",{className:je.devControlsContainer,children:[n.jsx("p",{className:je.devControlsHeader,children:"Dev controls"}),n.jsxs("div",{className:je.devControls,children:[n.jsxs(me,{variant:"on-solid",size:"s",onClick:y,disabled:r.cameraFails,children:[n.jsx("span",{className:"material-symbols-rounded",children:"check_circle"}),"Simulate success"]}),n.jsxs(me,{variant:"on-solid",size:"s",onClick:b,disabled:r.cameraFails,children:[n.jsx("span",{className:"material-symbols-rounded",children:"error"}),"Simulate fail"]})]})]})})]})},tc="_segmentedControlItem_1kcz1_9",nc="_itemColumn_1kcz1_69",sc="_segmentedControl_1kcz1_9",oc="_columnContainer_1kcz1_203",ac="_gridContainer_1kcz1_259",rc="_deadCell_1kcz1_357",Ot={segmentedControlItem:tc,itemColumn:nc,segmentedControl:sc,columnContainer:oc,gridContainer:ac,deadCell:rc},Ve=({options:e,value:t,onValueChange:s,id:o,layout:a="row",itemDirection:r="row"})=>{const l=m=>{m&&s(m)};let i=Ot.segmentedControl;a==="column"?i=Ot.columnContainer:a==="grid"&&(i=Ot.gridContainer);const c=r==="column"?`${Ot.segmentedControlItem} ${Ot.itemColumn}`:Ot.segmentedControlItem,d=a==="grid"&&e.length%2!==0;return n.jsxs(Ua,{type:"single",className:i,value:t,onValueChange:l,"aria-label":o,id:o,children:[e.map(m=>n.jsxs(Xa,{value:m.value,"aria-label":m.label,className:c,children:[m.icon&&n.jsx("span",{className:"material-symbols-rounded",children:m.icon}),n.jsx("span",{children:m.label})]},m.value)),d&&n.jsx("div",{className:Ot.deadCell,"aria-hidden":"true"})]})},ic=(e,t)=>{E.useLayoutEffect(()=>{if(e){e.style.height="0px";const s=e.scrollHeight;e.style.height=s+"px"}},[e,t])},lc="_container_tigow_5",cc="_header_tigow_27",uc="_residentName_tigow_39",dc="_warningIcon_tigow_59",mc="_controlSection_tigow_69",hc="_classificationDetails_tigow_99",fc="_notesInput_tigow_125",Lt={container:lc,header:cc,residentName:uc,warningIcon:dc,controlSection:mc,classificationDetails:hc,notesInput:fc},pc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"}],gc=[{value:"Refused",label:"Refused"},{value:"Sleeping",label:"Sleeping"},{value:"Awake",label:"Awake"}],vc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"}],xc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"}],wc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"},{value:"Working",label:"Working"}],bc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"},{value:"Working",label:"Working"},{value:"Chilling",label:"Chilling"}],Cc=({resident:e,status:t,notes:s,onStatusChange:o,onNotesChange:a,classification:r})=>{const l=!!r,i=E.useRef(null),{residentStatusSet:c,markMultipleLayout:d}=W(tt);ic(i.current,s);let m;const h=d;switch(c){case"set-2":m=pc;break;case"set-4":m=vc;break;case"set-5":m=xc;break;case"set-6":m=wc;break;case"set-7":m=bc;break;case"set-3":default:m=gc;break}return n.jsxs("div",{className:Lt.container,"data-classified":l,children:[n.jsx("div",{className:Lt.header,children:n.jsxs("h4",{className:Lt.residentName,children:[l&&n.jsx("span",{className:`material-symbols-rounded ${Lt.warningIcon}`,"aria-label":"Special Classification",children:"warning"}),e.name]})}),l&&n.jsx("div",{className:Lt.classificationDetails,children:n.jsxs("p",{children:[n.jsxs("strong",{children:[r.type,":"]})," ",r.details]})}),n.jsx("div",{className:Lt.controlSection,children:n.jsx(Ve,{id:`status-group-${e.id}`,options:m,value:t,onValueChange:u=>o(e.id,u),layout:h})}),n.jsx("textarea",{ref:i,id:`notes-${e.id}`,value:s,onChange:u=>a(e.id,u.target.value),placeholder:"Enter optional notes","aria-label":`Notes for ${e.name}`,rows:1,className:Lt.notesInput})]})},_c="_overlay_2b95s_5",yc="_content_2b95s_19",Sc="_handleContainer_2b95s_51",jc="_handle_2b95s_51",Ic="_header_2b95s_81",Tc="_headerTitle_2b95s_93",kc="_listContainer_2b95s_107",Nc="_columnList_2b95s_125",Rc="_rowContainer_2b95s_137",Ec="_gridButton_2b95s_153",Hc="_gridContainer_2b95s_163",Ac="_deadCell_2b95s_233",Je={overlay:_c,content:yc,handleContainer:Sc,handle:jc,header:Ic,headerTitle:Tc,listContainer:kc,columnList:Nc,rowContainer:Rc,gridButton:Ec,gridContainer:Hc,deadCell:Ac},Mc=({isOpen:e,onClose:t,onSelect:s,options:o,layout:a})=>{const{trigger:r}=Ue(),l=E.useRef(null),i=E.useRef(null),c=u=>{r("selection"),s(u),t()},d=()=>{t()};E.useEffect(()=>{if(e){const u=setTimeout(()=>{i.current?.focus()},50),w=p=>{p.key==="Escape"&&(p.preventDefault(),t())};return document.addEventListener("keydown",w),()=>{clearTimeout(u),document.removeEventListener("keydown",w)}}},[e,t]);const m=a==="grid"&&o.length%2!==0,h=()=>{switch(a){case"row":return Je.rowContainer;case"column":return Je.columnList;case"grid":return Je.gridContainer}};return n.jsx(St,{children:e&&n.jsxs(n.Fragment,{children:[n.jsx(xe.div,{className:Je.overlay,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},onClick:d,"aria-hidden":"true"}),n.jsxs(xe.div,{ref:l,className:Je.content,initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},role:"dialog","aria-modal":"true","aria-labelledby":"status-sheet-title",children:[n.jsx("div",{className:Je.handleContainer,children:n.jsx("div",{className:Je.handle})}),n.jsx("div",{className:Je.header,children:n.jsx("h3",{id:"status-sheet-title",className:Je.headerTitle,children:"Select Status"})}),n.jsx("div",{className:Je.listContainer,children:a==="column"?n.jsx("div",{className:h(),children:o.map(u=>n.jsx(xt,{label:u.label,onClick:()=>c(u.value)},u.value))}):n.jsxs("div",{className:h(),children:[o.map((u,w)=>n.jsx("button",{ref:w===0?i:void 0,className:Je.gridButton,onClick:()=>c(u.value),children:u.label},u.value)),m&&n.jsx("div",{className:Je.deadCell})]})})]})]})})},Oc="_checkFormView_mj1mq_5",Lc="_header_mj1mq_27",Bc="_headerTitle_mj1mq_291",Dc="_formContent_mj1mq_319",zc="_roomHeader_mj1mq_341",$c="_badgeWrapper_mj1mq_371",Pc="_statusLabel_mj1mq_389",Fc="_warningBlock_mj1mq_455",Wc="_sectionHeader_mj1mq_509",Vc="_checkTypeSection_mj1mq_527",Gc="_markMultipleContainer_mj1mq_547",qc="_residentListContainer_mj1mq_561",Uc="_footer_mj1mq_691",Ae={checkFormView:Oc,header:Lc,headerTitle:Bc,formContent:Dc,roomHeader:zc,badgeWrapper:$c,statusLabel:Pc,warningBlock:Fc,sectionHeader:Wc,checkTypeSection:Vc,markMultipleContainer:Gc,residentListContainer:qc,footer:Uc},Xc=[{value:"Locked down",label:"Locked down"},{value:"Random",label:"Random"}],Yc=[{value:"Noise Complaint",label:"Noise Complaint"},{value:"Resident Request",label:"Resident Request"},{value:"Medical Alert",label:"Medical Alert"},{value:"Security Concern",label:"Security Concern"},{value:"Other",label:"Other"}],Kc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"}],Qc=[{value:"Refused",label:"Refused"},{value:"Sleeping",label:"Sleeping"},{value:"Awake",label:"Awake"}],Jc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"}],Zc=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"}],eu=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"},{value:"Working",label:"Working"}],tu=[{value:"Awake",label:"Awake"},{value:"Sleeping",label:"Sleeping"},{value:"Refused",label:"Refused"},{value:"Out",label:"Out"},{value:"Eating",label:"Eating"},{value:"Working",label:"Working"},{value:"Chilling",label:"Chilling"}],nu=({checkData:e})=>{const t=Z(It),s=Z(Gn),o=Z(gn),a=W(hr),r=Z(fr),l=Z(pr),i=W(No),c=W(vn),{isCheckTypeEnabled:d,markMultipleEnabled:m,residentStatusSet:h,markMultipleLayout:u}=W(tt),{trigger:w}=Ue(),{completeCheck:p}=Ts(),[v,x]=E.useState(!1);let f;switch(h){case"set-2":f=Kc;break;case"set-4":f=Jc;break;case"set-5":f=Zc;break;case"set-6":f=eu;break;case"set-7":f=tu;break;case"set-3":default:f=Qc;break}const g=E.useRef(null),I=E.useRef(null),y=E.useRef(null),[b,_]=E.useState(!1);xn(y,{isEnabled:!0}),Tr({containerRef:I,footerOffsetVar:"--form-footer-height"});const C=e.type==="scheduled"?a[e.checkId]:void 0,[j,k]=E.useState(()=>C?.statuses||e.residents.reduce((P,T)=>({...P,[T.id]:""}),{})),[A,M]=E.useState(()=>C?.notes||e.residents.reduce((P,T)=>({...P,[T.id]:""}),{})),[z,L]=E.useState(C?.checkType||""),[R,D]=E.useState(""),Q=e.type==="scheduled"&&e.method==="manual",X=e.type==="supplemental",oe=E.useMemo(()=>X?"supplemental":e.type==="scheduled"&&i.find(T=>T.id===e.checkId)?.status||"pending",[i,e,X]),ge=E.useRef(!1);E.useEffect(()=>()=>{!ge.current&&e.type==="scheduled"&&r({checkId:e.checkId,draft:{statuses:j,notes:A,checkType:z}})},[e,j,A,z,r]),E.useLayoutEffect(()=>{const P=g.current;if(P){const T=P.offsetHeight;document.documentElement.style.setProperty("--form-footer-height",`${T}px`)}return()=>{document.documentElement.style.removeProperty("--form-footer-height")}},[]),E.useLayoutEffect(()=>{const P=I.current;if(!P)return;const T=()=>{const{scrollTop:ae,scrollHeight:le,clientHeight:ce}=P,Ke=le-ae<=ce+1,V=le>ce;_(V&&!Ke)},F=new ResizeObserver(T);return F.observe(P),P.addEventListener("scroll",T,{passive:!0}),T(),()=>{F.disconnect(),P.removeEventListener("scroll",T)}},[]);const we=()=>{t({view:"none"})},ke=(P,T)=>{k(F=>({...F,[P]:T}))},Xe=(P,T)=>{M(F=>({...F,[P]:T}))},Se=P=>{if(!P)return;const T={...j};e.residents.forEach(F=>{T[F.id]=P}),k(T)},We=E.useMemo(()=>!(!e.residents.every(T=>j[T.id])||d&&!z||X&&!R),[j,e.residents,d,z,X,R]),Ye=()=>{if(!We)return;ge.current=!0,e.type==="scheduled"&&l(e.checkId),w("success");const P=Object.values(A).filter(T=>T.trim()!=="").join(`
---
`);e.type==="scheduled"?(p({checkId:e.checkId,statuses:j,notes:P}),t({view:"none"})):e.type==="supplemental"&&(s({type:"CHECK_SUPPLEMENTAL_ADD",payload:{roomId:e.roomId,statuses:j,notes:P,incidentType:R}}),t({view:"none"}),c!=="offline"&&o({message:`Supplemental check for ${e.roomName} saved.`,icon:"task_alt",variant:"success"}))};return n.jsxs(xe.div,{className:Ae.checkFormView,style:{height:"var(--visual-viewport-height, 100dvh)"},initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]},children:[n.jsxs("header",{className:Ae.header,ref:y,children:[n.jsx(me,{variant:"tertiary",size:"lg",iconOnly:!0,onClick:we,"aria-label":"Back",children:n.jsx("span",{className:"material-symbols-rounded",children:"arrow_back"})}),n.jsx("h3",{className:Ae.headerTitle,children:"Record Check"})]}),n.jsxs("main",{className:Ae.formContent,ref:I,children:[n.jsxs("h2",{className:Ae.roomHeader,children:[e.roomName,n.jsxs("div",{className:Ae.badgeWrapper,children:[Q&&n.jsx("span",{className:Ae.statusLabel,"data-variant":"info",children:"Manual"}),X&&n.jsx("span",{className:Ae.statusLabel,"data-variant":"info",children:"Supplemental"})]})]}),!X&&oe==="early"&&n.jsxs("div",{className:Ae.warningBlock,role:"status",children:[n.jsx("span",{className:"material-symbols-rounded","aria-hidden":"true",children:"info"}),n.jsx("span",{children:"This room was checked recently. Are you sure you want to check now?"})]}),X&&n.jsxs("div",{className:Ae.incidentTypeSection,children:[n.jsx("label",{htmlFor:"incident-type-select",className:Ae.sectionLabel,children:"Reason for Check"}),n.jsxs("select",{id:"incident-type-select",className:Ae.selectInput,value:R,onChange:P=>D(P.target.value),children:[n.jsx("option",{value:"",disabled:!0,children:"Select a reason..."}),Yc.map(P=>n.jsx("option",{value:P.value,children:P.label},P.value))]})]}),d&&n.jsxs("div",{className:Ae.checkTypeSection,children:[n.jsx("label",{htmlFor:"check-type-control",className:Ae.sectionHeader,children:"Check type"}),n.jsx(Ve,{id:"check-type-control",options:Xc,value:z,onValueChange:L})]}),m&&e.residents.length>1&&n.jsx("div",{className:Ae.markMultipleContainer,children:n.jsx(me,{variant:"secondary",size:"m",onClick:()=>x(!0),children:"Mark all"})}),n.jsx(Mc,{isOpen:v,onClose:()=>x(!1),onSelect:Se,options:f,layout:u}),n.jsx("div",{className:Ae.residentListContainer,children:e.residents.map(P=>{const T=e.type==="scheduled"?e.specialClassifications?.find(F=>F.residentId===P.id):void 0;return n.jsx(Cc,{resident:P,status:j[P.id],notes:A[P.id],onStatusChange:ke,onNotesChange:Xe,classification:T},P.id)})})]}),n.jsx("footer",{className:Ae.footer,ref:g,"data-scrolled":b,children:n.jsx(me,{variant:"primary",size:"m",onClick:Ye,disabled:!We,children:"Save"})})]})},Un=0,Tt=1,Qt=2,Lo=4;function Ys(e){return()=>e}function su(e){e()}function Bo(e,t){return s=>e(t(s))}function Ks(e,t){return()=>e(t)}function ou(e,t){return s=>e(t,s)}function ks(e){return e!==void 0}function au(...e){return()=>{e.map(su)}}function Jt(){}function Xn(e,t){return t(e),e}function ru(e,t){return t(e)}function fe(...e){return e}function re(e,t){return e(Tt,t)}function K(e,t){e(Un,t)}function Ns(e){e(Qt)}function ye(e){return e(Lo)}function $(e,t){return re(e,ou(t,Un))}function at(e,t){const s=e(Tt,o=>{s(),t(o)});return s}function Qs(e){let t,s;return o=>a=>{t=a,s&&clearTimeout(s),s=setTimeout(()=>{o(t)},e)}}function Do(e,t){return e===t}function he(e=Do){let t;return s=>o=>{e(t,o)||(t=o,s(o))}}function U(e){return t=>s=>{e(s)&&t(s)}}function B(e){return t=>Bo(t,e)}function ht(e){return t=>()=>{t(e)}}function N(e,...t){const s=iu(...t);return(o,a)=>{switch(o){case Qt:Ns(e);return;case Tt:return re(e,s(a))}}}function ft(e,t){return s=>o=>{s(t=e(t,o))}}function Ft(e){return t=>s=>{e>0?e--:t(s)}}function wt(e){let t=null,s;return o=>a=>{t=a,!s&&(s=setTimeout(()=>{s=void 0,o(t)},e))}}function J(...e){const t=new Array(e.length);let s=0,o=null;const a=Math.pow(2,e.length)-1;return e.forEach((r,l)=>{const i=Math.pow(2,l);re(r,c=>{const d=s;s=s|i,t[l]=c,d!==a&&s===a&&o&&(o(),o=null)})}),r=>l=>{const i=()=>{r([l].concat(t))};s===a?i():o=i}}function iu(...e){return t=>e.reduceRight(ru,t)}function lu(e){let t,s;const o=()=>t?.();return function(a,r){switch(a){case Tt:return r?s===r?void 0:(o(),s=r,t=re(e,r),t):(o(),Jt);case Qt:o(),s=null;return}}}function H(e){let t=e;const s=ee();return(o,a)=>{switch(o){case Un:t=a;break;case Tt:{a(t);break}case Lo:return t}return s(o,a)}}function Le(e,t){return Xn(H(t),s=>$(e,s))}function ee(){const e=[];return(t,s)=>{switch(t){case Un:e.slice().forEach(o=>{o(s)});return;case Qt:e.splice(0,e.length);return;case Tt:return e.push(s),()=>{const o=e.indexOf(s);o>-1&&e.splice(o,1)}}}}function qe(e){return Xn(ee(),t=>$(e,t))}function se(e,t=[],{singleton:s}={singleton:!0}){return{constructor:e,dependencies:t,id:cu(),singleton:s}}const cu=()=>Symbol();function uu(e){const t=new Map,s=({constructor:o,dependencies:a,id:r,singleton:l})=>{if(l&&t.has(r))return t.get(r);const i=o(a.map(c=>s(c)));return l&&t.set(r,i),i};return s(e)}function Te(...e){const t=ee(),s=new Array(e.length);let o=0;const a=Math.pow(2,e.length)-1;return e.forEach((r,l)=>{const i=Math.pow(2,l);re(r,c=>{s[l]=c,o=o|i,o===a&&K(t,s)})}),function(r,l){switch(r){case Qt:{Ns(t);return}case Tt:return o===a&&l(s),re(t,l)}}}function G(e,t=Do){return N(e,he(t))}function ds(...e){return function(t,s){switch(t){case Qt:return;case Tt:return au(...e.map(o=>re(o,s)))}}}var Fe=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Fe||{});const du={0:"debug",3:"error",1:"log",2:"warn"},mu=()=>typeof globalThis>"u"?window:globalThis,kt=se(()=>{const e=H(3);return{log:H((t,s,o=1)=>{var a;const r=(a=mu().VIRTUOSO_LOG_LEVEL)!=null?a:ye(e);o>=r&&console[du[o]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,s)}),logLevel:e}},[],{singleton:!0});function Vt(e,t,s){return Rs(e,t,s).callbackRef}function Rs(e,t,s){const o=S.useRef(null);let a=l=>{};const r=S.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(l=>{const i=()=>{const c=l[0].target;c.offsetParent!==null&&e(c)};s?i():requestAnimationFrame(i)}):null,[e,s]);return a=l=>{l&&t?(r?.observe(l),o.current=l):(o.current&&r?.unobserve(o.current),o.current=null)},{callbackRef:a,ref:o}}function hu(e,t,s,o,a,r,l,i,c){const d=S.useCallback(m=>{const h=fu(m.children,t,i?"offsetWidth":"offsetHeight",a);let u=m.parentElement;for(;!u.dataset.virtuosoScroller;)u=u.parentElement;const w=u.lastElementChild.dataset.viewportType==="window";let p;w&&(p=u.ownerDocument.defaultView);const v=l?i?l.scrollLeft:l.scrollTop:w?i?p.scrollX||p.document.documentElement.scrollLeft:p.scrollY||p.document.documentElement.scrollTop:i?u.scrollLeft:u.scrollTop,x=l?i?l.scrollWidth:l.scrollHeight:w?i?p.document.documentElement.scrollWidth:p.document.documentElement.scrollHeight:i?u.scrollWidth:u.scrollHeight,f=l?i?l.offsetWidth:l.offsetHeight:w?i?p.innerWidth:p.innerHeight:i?u.offsetWidth:u.offsetHeight;o({scrollHeight:x,scrollTop:Math.max(v,0),viewportHeight:f}),r?.(i?Js("column-gap",getComputedStyle(m).columnGap,a):Js("row-gap",getComputedStyle(m).rowGap,a)),h!==null&&e(h)},[e,t,a,r,l,o,i]);return Rs(d,s,c)}function fu(e,t,s,o){const a=e.length;if(a===0)return null;const r=[];for(let l=0;l<a;l++){const i=e.item(l);if(i.dataset.index===void 0)continue;const c=parseInt(i.dataset.index),d=parseFloat(i.dataset.knownSize),m=t(i,s);if(m===0&&o("Zero-sized element, this should not happen",{child:i},Fe.ERROR),m===d)continue;const h=r[r.length-1];r.length===0||h.size!==m||h.endIndex!==c-1?r.push({endIndex:c,size:m,startIndex:c}):r[r.length-1].endIndex++}return r}function Js(e,t,s){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&s(`${e} was not resolved to pixel value correctly`,t,Fe.WARN),t==="normal"?0:parseInt(t??"0",10)}function zo(e,t,s){const o=S.useRef(null),a=S.useCallback(c=>{if(!(c!=null&&c.offsetParent))return;const d=c.getBoundingClientRect(),m=d.width;let h,u;if(t){const w=t.getBoundingClientRect(),p=d.top-w.top;u=w.height-Math.max(0,p),h=p+t.scrollTop}else{const w=l.current.ownerDocument.defaultView;u=w.innerHeight-Math.max(0,d.top),h=d.top+w.scrollY}o.current={offsetTop:h,visibleHeight:u,visibleWidth:m},e(o.current)},[e,t]),{callbackRef:r,ref:l}=Rs(a,!0,s),i=S.useCallback(()=>{a(l.current)},[a,l]);return S.useEffect(()=>{var c;if(t){t.addEventListener("scroll",i);const d=new ResizeObserver(()=>{requestAnimationFrame(i)});return d.observe(t),()=>{t.removeEventListener("scroll",i),d.unobserve(t)}}else{const d=(c=l.current)==null?void 0:c.ownerDocument.defaultView;return d?.addEventListener("scroll",i),d?.addEventListener("resize",i),()=>{d?.removeEventListener("scroll",i),d?.removeEventListener("resize",i)}}},[i,t,l]),r}const ze=se(()=>{const e=ee(),t=ee(),s=H(0),o=ee(),a=H(0),r=ee(),l=ee(),i=H(0),c=H(0),d=H(0),m=H(0),h=ee(),u=ee(),w=H(!1),p=H(!1),v=H(!1);return $(N(e,B(({scrollTop:x})=>x)),t),$(N(e,B(({scrollHeight:x})=>x)),l),$(t,a),{deviation:s,fixedFooterHeight:d,fixedHeaderHeight:c,footerHeight:m,headerHeight:i,horizontalDirection:p,scrollBy:u,scrollContainerState:e,scrollHeight:l,scrollingInProgress:w,scrollTo:h,scrollTop:t,skipAnimationFrameInResizeObserver:v,smoothScrollTargetReached:o,statefulScrollTop:a,viewportHeight:r}},[],{singleton:!0}),dn={lvl:0};function $o(e,t){const s=e.length;if(s===0)return[];let{index:o,value:a}=t(e[0]);const r=[];for(let l=1;l<s;l++){const{index:i,value:c}=t(e[l]);r.push({end:i-1,start:o,value:a}),o=i,a=c}return r.push({end:1/0,start:o,value:a}),r}function ue(e){return e===dn}function mn(e,t){if(!ue(e))return t===e.k?e.v:t<e.k?mn(e.l,t):mn(e.r,t)}function rt(e,t,s="k"){if(ue(e))return[-1/0,void 0];if(Number(e[s])===t)return[e.k,e.v];if(Number(e[s])<t){const o=rt(e.r,t,s);return o[0]===-1/0?[e.k,e.v]:o}return rt(e.l,t,s)}function Ge(e,t,s){return ue(e)?Wo(t,s,1):t===e.k?Ee(e,{k:t,v:s}):t<e.k?Zs(Ee(e,{l:Ge(e.l,t,s)})):Zs(Ee(e,{r:Ge(e.r,t,s)}))}function Yt(){return dn}function Yn(e,t,s){if(ue(e))return[];const o=rt(e,t)[0];return pu(hs(e,o,s))}function ms(e,t){if(ue(e))return dn;const{k:s,l:o,r:a}=e;if(t===s){if(ue(o))return a;if(ue(a))return o;{const[r,l]=Fo(o);return zn(Ee(e,{k:r,l:Po(o),v:l}))}}else return t<s?zn(Ee(e,{l:ms(o,t)})):zn(Ee(e,{r:ms(a,t)}))}function $t(e){return ue(e)?[]:[...$t(e.l),{k:e.k,v:e.v},...$t(e.r)]}function hs(e,t,s){if(ue(e))return[];const{k:o,l:a,r,v:l}=e;let i=[];return o>t&&(i=i.concat(hs(a,t,s))),o>=t&&o<=s&&i.push({k:o,v:l}),o<=s&&(i=i.concat(hs(r,t,s))),i}function zn(e){const{l:t,lvl:s,r:o}=e;if(o.lvl>=s-1&&t.lvl>=s-1)return e;if(s>o.lvl+1){if(Zn(t))return Vo(Ee(e,{lvl:s-1}));if(!ue(t)&&!ue(t.r))return Ee(t.r,{l:Ee(t,{r:t.r.l}),lvl:s,r:Ee(e,{l:t.r.r,lvl:s-1})});throw new Error("Unexpected empty nodes")}else{if(Zn(e))return fs(Ee(e,{lvl:s-1}));if(!ue(o)&&!ue(o.l)){const a=o.l,r=Zn(a)?o.lvl-1:o.lvl;return Ee(a,{l:Ee(e,{lvl:s-1,r:a.l}),lvl:a.lvl+1,r:fs(Ee(o,{l:a.r,lvl:r}))})}else throw new Error("Unexpected empty nodes")}}function Ee(e,t){return Wo(t.k!==void 0?t.k:e.k,t.v!==void 0?t.v:e.v,t.lvl!==void 0?t.lvl:e.lvl,t.l!==void 0?t.l:e.l,t.r!==void 0?t.r:e.r)}function Po(e){return ue(e.r)?e.l:zn(Ee(e,{r:Po(e.r)}))}function Zn(e){return ue(e)||e.lvl>e.r.lvl}function Fo(e){return ue(e.r)?[e.k,e.v]:Fo(e.r)}function Wo(e,t,s,o=dn,a=dn){return{k:e,l:o,lvl:s,r:a,v:t}}function Zs(e){return fs(Vo(e))}function Vo(e){const{l:t}=e;return!ue(t)&&t.lvl===e.lvl?Ee(t,{r:Ee(e,{l:t.r})}):e}function fs(e){const{lvl:t,r:s}=e;return!ue(s)&&!ue(s.r)&&s.lvl===t&&s.r.lvl===t?Ee(s,{l:Ee(e,{r:s.l}),lvl:t+1}):e}function pu(e){return $o(e,({k:t,v:s})=>({index:t,value:s}))}function Go(e,t){return!!(e&&e.startIndex===t.startIndex&&e.endIndex===t.endIndex)}function hn(e,t){return!!(e&&e[0]===t[0]&&e[1]===t[1])}const Es=se(()=>({recalcInProgress:H(!1)}),[],{singleton:!0});function qo(e,t,s){return e[Pn(e,t,s)]}function Pn(e,t,s,o=0){let a=e.length-1;for(;o<=a;){const r=Math.floor((o+a)/2),l=e[r],i=s(l,t);if(i===0)return r;if(i===-1){if(a-o<2)return r-1;a=r-1}else{if(a===o)return r;o=r+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function gu(e,t,s,o){const a=Pn(e,t,o),r=Pn(e,s,o,a);return e.slice(a,r+1)}function jt(e,t){return Math.round(e.getBoundingClientRect()[t])}function Kn(e){return!ue(e.groupOffsetTree)}function Hs({index:e},t){return t===e?0:t<e?-1:1}function vu(){return{groupIndices:[],groupOffsetTree:Yt(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Yt()}}function xu(e,t){let s=ue(e)?0:1/0;for(const o of t){const{endIndex:a,size:r,startIndex:l}=o;if(s=Math.min(s,l),ue(e)){e=Ge(e,0,r);continue}const i=Yn(e,l-1,a+1);if(i.some(ju(o)))continue;let c=!1,d=!1;for(const{end:m,start:h,value:u}of i)c?(a>=h||r===u)&&(e=ms(e,h)):(d=u!==r,c=!0),m>a&&a>=h&&u!==r&&(e=Ge(e,a+1,u));d&&(e=Ge(e,l,r))}return[e,s]}function wu(e){return typeof e.groupIndex<"u"}function bu({offset:e},t){return t===e?0:t<e?-1:1}function fn(e,t,s){if(t.length===0)return 0;const{index:o,offset:a,size:r}=qo(t,e,Hs),l=e-o,i=r*l+(l-1)*s+a;return i>0?i+s:i}function Uo(e,t){if(!Kn(t))return e;let s=0;for(;t.groupIndices[s]<=e+s;)s++;return e+s}function Xo(e,t,s){if(wu(e))return t.groupIndices[e.groupIndex]+1;{const o=e.index==="LAST"?s:e.index;let a=Uo(o,t);return a=Math.max(0,a,Math.min(s,a)),a}}function Cu(e,t,s,o=0){return o>0&&(t=Math.max(t,qo(e,o,Hs).offset)),$o(gu(e,t,s,bu),Su)}function _u(e,[t,s,o,a]){t.length>0&&o("received item sizes",t,Fe.DEBUG);const r=e.sizeTree;let l=r,i=0;if(s.length>0&&ue(r)&&t.length===2){const u=t[0].size,w=t[1].size;l=s.reduce((p,v)=>Ge(Ge(p,v,u),v+1,w),l)}else[l,i]=xu(l,t);if(l===r)return e;const{lastIndex:c,lastOffset:d,lastSize:m,offsetTree:h}=ps(e.offsetTree,i,l,a);return{groupIndices:s,groupOffsetTree:s.reduce((u,w)=>Ge(u,w,fn(w,h,a)),Yt()),lastIndex:c,lastOffset:d,lastSize:m,offsetTree:h,sizeTree:l}}function yu(e){return $t(e).map(({k:t,v:s},o,a)=>{const r=a[o+1];return{endIndex:r?r.k-1:1/0,size:s,startIndex:t}})}function eo(e,t){let s=0,o=0;for(;s<e;)s+=t[o+1]-t[o]-1,o++;return o-(s===e?0:1)}function ps(e,t,s,o){let a=e,r=0,l=0,i=0,c=0;if(t!==0){c=Pn(a,t-1,Hs),i=a[c].offset;const d=rt(s,t-1);r=d[0],l=d[1],a.length&&a[c].size===rt(s,t)[1]&&(c-=1),a=a.slice(0,c+1)}else a=[];for(const{start:d,value:m}of Yn(s,t,1/0)){const h=d-r,u=h*l+i+h*o;a.push({index:d,offset:u,size:m}),r=d,i=u,l=m}return{lastIndex:r,lastOffset:i,lastSize:l,offsetTree:a}}function Su(e){return{index:e.index,value:e}}function ju(e){const{endIndex:t,size:s,startIndex:o}=e;return a=>a.start===o&&(a.end===t||a.end===1/0)&&a.value===s}const Iu={offsetHeight:"height",offsetWidth:"width"},pt=se(([{log:e},{recalcInProgress:t}])=>{const s=ee(),o=ee(),a=Le(o,0),r=ee(),l=ee(),i=H(0),c=H([]),d=H(void 0),m=H(void 0),h=H((b,_)=>jt(b,Iu[_])),u=H(void 0),w=H(0),p=vu(),v=Le(N(s,J(c,e,w),ft(_u,p),he()),p),x=Le(N(c,he(),ft((b,_)=>({current:_,prev:b.current}),{current:[],prev:[]}),B(({prev:b})=>b)),[]);$(N(c,U(b=>b.length>0),J(v,w),B(([b,_,C])=>{const j=b.reduce((k,A,M)=>Ge(k,A,fn(A,_.offsetTree,C)||M),Yt());return{..._,groupIndices:b,groupOffsetTree:j}})),v),$(N(o,J(v),U(([b,{lastIndex:_}])=>b<_),B(([b,{lastIndex:_,lastSize:C}])=>[{endIndex:_,size:C,startIndex:b}])),s),$(d,m);const f=Le(N(d,B(b=>b===void 0)),!0);$(N(m,U(b=>b!==void 0&&ue(ye(v).sizeTree)),B(b=>[{endIndex:0,size:b,startIndex:0}])),s);const g=qe(N(s,J(v),ft(({sizes:b},[_,C])=>({changed:C!==b,sizes:C}),{changed:!1,sizes:p}),B(b=>b.changed)));re(N(i,ft((b,_)=>({diff:b.prev-_,prev:_}),{diff:0,prev:0}),B(b=>b.diff)),b=>{const{groupIndices:_}=ye(v);if(b>0)K(t,!0),K(r,b+eo(b,_));else if(b<0){const C=ye(x);C.length>0&&(b-=eo(-b,C)),K(l,b)}}),re(N(i,J(e)),([b,_])=>{b<0&&_("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:i},Fe.ERROR)});const I=qe(r);$(N(r,J(v),B(([b,_])=>{const C=_.groupIndices.length>0,j=[],k=_.lastSize;if(C){const A=mn(_.sizeTree,0);let M=0,z=0;for(;M<b;){const R=_.groupIndices[z],D=_.groupIndices.length===z+1?1/0:_.groupIndices[z+1]-R-1;j.push({endIndex:R,size:A,startIndex:R}),j.push({endIndex:R+1+D-1,size:k,startIndex:R+1}),z++,M+=D+1}const L=$t(_.sizeTree);return M!==b&&L.shift(),L.reduce((R,{k:D,v:Q})=>{let X=R.ranges;return R.prevSize!==0&&(X=[...R.ranges,{endIndex:D+b-1,size:R.prevSize,startIndex:R.prevIndex}]),{prevIndex:D+b,prevSize:Q,ranges:X}},{prevIndex:b,prevSize:0,ranges:j}).ranges}return $t(_.sizeTree).reduce((A,{k:M,v:z})=>({prevIndex:M+b,prevSize:z,ranges:[...A.ranges,{endIndex:M+b-1,size:A.prevSize,startIndex:A.prevIndex}]}),{prevIndex:0,prevSize:k,ranges:[]}).ranges})),s);const y=qe(N(l,J(v,w),B(([b,{offsetTree:_},C])=>{const j=-b;return fn(j,_,C)})));return $(N(l,J(v,w),B(([b,_,C])=>{if(_.groupIndices.length>0){if(ue(_.sizeTree))return _;let j=Yt();const k=ye(x);let A=0,M=0,z=0;for(;A<-b;){z=k[M];const L=k[M+1]-z-1;M++,A+=L+1}if(j=$t(_.sizeTree).reduce((L,{k:R,v:D})=>Ge(L,Math.max(0,R+b),D),j),A!==-b){const L=mn(_.sizeTree,z);j=Ge(j,0,L);const R=rt(_.sizeTree,-b+1)[1];j=Ge(j,1,R)}return{..._,sizeTree:j,...ps(_.offsetTree,0,j,C)}}else{const j=$t(_.sizeTree).reduce((k,{k:A,v:M})=>Ge(k,Math.max(0,A+b),M),Yt());return{..._,sizeTree:j,...ps(_.offsetTree,0,j,C)}}})),v),{beforeUnshiftWith:I,data:u,defaultItemSize:m,firstItemIndex:i,fixedItemSize:d,gap:w,groupIndices:c,itemSize:h,listRefresh:g,shiftWith:l,shiftWithOffset:y,sizeRanges:s,sizes:v,statefulTotalCount:a,totalCount:o,trackItemSizes:f,unshiftWith:r}},fe(kt,Es),{singleton:!0});function Tu(e){return e.reduce((t,s)=>(t.groupIndices.push(t.totalCount),t.totalCount+=s+1,t),{groupIndices:[],totalCount:0})}const Yo=se(([{groupIndices:e,sizes:t,totalCount:s},{headerHeight:o,scrollTop:a}])=>{const r=ee(),l=ee(),i=qe(N(r,B(Tu)));return $(N(i,B(c=>c.totalCount)),s),$(N(i,B(c=>c.groupIndices)),e),$(N(Te(a,t,o),U(([c,d])=>Kn(d)),B(([c,d,m])=>rt(d.groupOffsetTree,Math.max(c-m,0),"v")[0]),he(),B(c=>[c])),l),{groupCounts:r,topItemsIndexes:l}},fe(pt,ze)),Nt=se(([{log:e}])=>{const t=H(!1),s=qe(N(t,U(o=>o),he()));return re(t,o=>{o&&ye(e)("props updated",{},Fe.DEBUG)}),{didMount:s,propsReady:t}},fe(kt),{singleton:!0}),ku=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function Ko(e){const t=typeof e=="number"?{index:e}:e;return t.align||(t.align="start"),(!t.behavior||!ku)&&(t.behavior="auto"),t.offset||(t.offset=0),t}const wn=se(([{gap:e,listRefresh:t,sizes:s,totalCount:o},{fixedFooterHeight:a,fixedHeaderHeight:r,footerHeight:l,headerHeight:i,scrollingInProgress:c,scrollTo:d,smoothScrollTargetReached:m,viewportHeight:h},{log:u}])=>{const w=ee(),p=ee(),v=H(0);let x=null,f=null,g=null;function I(){x&&(x(),x=null),g&&(g(),g=null),f&&(clearTimeout(f),f=null),K(c,!1)}return $(N(w,J(s,h,o,v,i,l,u),J(e,r,a),B(([[y,b,_,C,j,k,A,M],z,L,R])=>{const D=Ko(y),{align:Q,behavior:X,offset:oe}=D,ge=C-1,we=Xo(D,b,ge);let ke=fn(we,b.offsetTree,z)+k;Q==="end"?(ke+=L+rt(b.sizeTree,we)[1]-_+R,we===ge&&(ke+=A)):Q==="center"?ke+=(L+rt(b.sizeTree,we)[1]-_+R)/2:ke-=j,oe&&(ke+=oe);const Xe=Se=>{I(),Se?(M("retrying to scroll to",{location:y},Fe.DEBUG),K(w,y)):(K(p,!0),M("list did not change, scroll successful",{},Fe.DEBUG))};if(I(),X==="smooth"){let Se=!1;g=re(t,We=>{Se=Se||We}),x=at(m,()=>{Xe(Se)})}else x=at(N(t,Nu(150)),Xe);return f=setTimeout(()=>{I()},1200),K(c,!0),M("scrolling from index to",{behavior:X,index:we,top:ke},Fe.DEBUG),{behavior:X,top:ke}})),d),{scrollTargetReached:p,scrollToIndex:w,topListHeight:v}},fe(pt,ze,kt),{singleton:!0});function Nu(e){return t=>{const s=setTimeout(()=>{t(!1)},e);return o=>{o&&(t(!0),clearTimeout(s))}}}function As(e,t){e==0?t():requestAnimationFrame(()=>{As(e-1,t)})}function Ms(e,t){const s=t-1;return typeof e=="number"?e:e.index==="LAST"?s:e.index}const bn=se(([{defaultItemSize:e,listRefresh:t,sizes:s},{scrollTop:o},{scrollTargetReached:a,scrollToIndex:r},{didMount:l}])=>{const i=H(!0),c=H(0),d=H(!0);return $(N(l,J(c),U(([m,h])=>!!h),ht(!1)),i),$(N(l,J(c),U(([m,h])=>!!h),ht(!1)),d),re(N(Te(t,l),J(i,s,e,d),U(([[,m],h,{sizeTree:u},w,p])=>m&&(!ue(u)||ks(w))&&!h&&!p),J(c)),([,m])=>{at(a,()=>{K(d,!0)}),As(4,()=>{at(o,()=>{K(i,!0)}),K(r,m)})}),{initialItemFinalLocationReached:d,initialTopMostItemIndex:c,scrolledToInitialItem:i}},fe(pt,ze,wn,Nt),{singleton:!0});function Qo(e,t){return Math.abs(e-t)<1.01}const pn="up",cn="down",Ru="none",Eu={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Hu=0,Cn=se(([{footerHeight:e,headerHeight:t,scrollBy:s,scrollContainerState:o,scrollTop:a,viewportHeight:r}])=>{const l=H(!1),i=H(!0),c=ee(),d=ee(),m=H(4),h=H(Hu),u=Le(N(ds(N(G(a),Ft(1),ht(!0)),N(G(a),Ft(1),ht(!1),Qs(100))),he()),!1),w=Le(N(ds(N(s,ht(!0)),N(s,ht(!1),Qs(200))),he()),!1);$(N(Te(G(a),G(h)),B(([g,I])=>g<=I),he()),i),$(N(i,wt(50)),d);const p=qe(N(Te(o,G(r),G(t),G(e),G(m)),ft((g,[{scrollHeight:I,scrollTop:y},b,_,C,j])=>{const k=y+b-I>-j,A={scrollHeight:I,scrollTop:y,viewportHeight:b};if(k){let z,L;return y>g.state.scrollTop?(z="SCROLLED_DOWN",L=g.state.scrollTop-y):(z="SIZE_DECREASED",L=g.state.scrollTop-y||g.scrollTopDelta),{atBottom:!0,atBottomBecause:z,scrollTopDelta:L,state:A}}let M;return A.scrollHeight>g.state.scrollHeight?M="SIZE_INCREASED":b<g.state.viewportHeight?M="VIEWPORT_HEIGHT_DECREASING":y<g.state.scrollTop?M="SCROLLING_UPWARDS":M="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:M,state:A}},Eu),he((g,I)=>g&&g.atBottom===I.atBottom))),v=Le(N(o,ft((g,{scrollHeight:I,scrollTop:y,viewportHeight:b})=>{if(Qo(g.scrollHeight,I))return{changed:!1,jump:0,scrollHeight:I,scrollTop:y};{const _=I-(y+b)<1;return g.scrollTop!==y&&_?{changed:!0,jump:g.scrollTop-y,scrollHeight:I,scrollTop:y}:{changed:!0,jump:0,scrollHeight:I,scrollTop:y}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),U(g=>g.changed),B(g=>g.jump)),0);$(N(p,B(g=>g.atBottom)),l),$(N(l,wt(50)),c);const x=H(cn);$(N(o,B(({scrollTop:g})=>g),he(),ft((g,I)=>ye(w)?{direction:g.direction,prevScrollTop:I}:{direction:I<g.prevScrollTop?pn:cn,prevScrollTop:I},{direction:cn,prevScrollTop:0}),B(g=>g.direction)),x),$(N(o,wt(50),ht(Ru)),x);const f=H(0);return $(N(u,U(g=>!g),ht(0)),f),$(N(a,wt(100),J(u),U(([g,I])=>!!I),ft(([g,I],[y])=>[I,y],[0,0]),B(([g,I])=>I-g)),f),{atBottomState:p,atBottomStateChange:c,atBottomThreshold:m,atTopStateChange:d,atTopThreshold:h,isAtBottom:l,isAtTop:i,isScrolling:u,lastJumpDueToItemResize:v,scrollDirection:x,scrollVelocity:f}},fe(ze)),Fn="top",Wn="bottom",to="none";function no(e,t,s){return typeof e=="number"?s===pn&&t===Fn||s===cn&&t===Wn?e:0:s===pn?t===Fn?e.main:e.reverse:t===Wn?e.main:e.reverse}function so(e,t){var s;return typeof e=="number"?e:(s=e[t])!=null?s:0}const Os=se(([{deviation:e,fixedHeaderHeight:t,headerHeight:s,scrollTop:o,viewportHeight:a}])=>{const r=ee(),l=H(0),i=H(0),c=H(0),d=Le(N(Te(G(o),G(a),G(s),G(r,hn),G(c),G(l),G(t),G(e),G(i)),B(([m,h,u,[w,p],v,x,f,g,I])=>{const y=m-g,b=x+f,_=Math.max(u-y,0);let C=to;const j=so(I,Fn),k=so(I,Wn);return w-=g,w+=u+f,p+=u+f,p-=g,w>m+b-j&&(C=pn),p<m-_+h+k&&(C=cn),C!==to?[Math.max(y-u-no(v,Fn,C)-j,0),y-_-f+h+no(v,Wn,C)+k]:null}),U(m=>m!=null),he(hn)),[0,0]);return{increaseViewportBy:i,listBoundary:r,overscan:c,topListHeight:l,visibleRange:d}},fe(ze),{singleton:!0});function Au(e,t,s){if(Kn(t)){const o=Uo(e,t);return[{index:rt(t.groupOffsetTree,o)[0],offset:0,size:0},{data:s?.[0],index:o,offset:0,size:0}]}return[{data:s?.[0],index:e,offset:0,size:0}]}const es={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function $n(e,t,s,o,a,r){const{lastIndex:l,lastOffset:i,lastSize:c}=a;let d=0,m=0;if(e.length>0){d=e[0].offset;const v=e[e.length-1];m=v.offset+v.size}const h=s-l,u=i+h*c+(h-1)*o,w=d,p=u-m;return{bottom:m,firstItemIndex:r,items:oo(e,a,r),offsetBottom:p,offsetTop:d,top:w,topItems:oo(t,a,r),topListHeight:t.reduce((v,x)=>x.size+v,0),totalCount:s}}function Jo(e,t,s,o,a,r){let l=0;if(s.groupIndices.length>0)for(const m of s.groupIndices){if(m-l>=e)break;l++}const i=e+l,c=Ms(t,i),d=Array.from({length:i}).map((m,h)=>({data:r[h+c],index:h+c,offset:0,size:0}));return $n(d,[],i,a,s,o)}function oo(e,t,s){if(e.length===0)return[];if(!Kn(t))return e.map(d=>({...d,index:d.index+s,originalIndex:d.index}));const o=e[0].index,a=e[e.length-1].index,r=[],l=Yn(t.groupOffsetTree,o,a);let i,c=0;for(const d of e){(!i||i.end<d.index)&&(i=l.shift(),c=t.groupIndices.indexOf(i.start));let m;d.index===i.start?m={index:c,type:"group"}:m={groupIndex:c,index:d.index-(c+1)+s},r.push({...m,data:d.data,offset:d.offset,originalIndex:d.index,size:d.size})}return r}const Gt=se(([{data:e,firstItemIndex:t,gap:s,sizes:o,totalCount:a},r,{listBoundary:l,topListHeight:i,visibleRange:c},{initialTopMostItemIndex:d,scrolledToInitialItem:m},{topListHeight:h},u,{didMount:w},{recalcInProgress:p}])=>{const v=H([]),x=H(0),f=ee();$(r.topItemsIndexes,v);const g=Le(N(Te(w,p,G(c,hn),G(a),G(o),G(d),m,G(v),G(t),G(s),e),U(([_,C,,j,,,,,,,k])=>{const A=k&&k.length!==j;return _&&!C&&!A}),B(([,,[_,C],j,k,A,M,z,L,R,D])=>{const Q=k,{offsetTree:X,sizeTree:oe}=Q,ge=ye(x);if(j===0)return{...es,totalCount:j};if(_===0&&C===0)return ge===0?{...es,totalCount:j}:Jo(ge,A,k,L,R,D||[]);if(ue(oe))return ge>0?null:$n(Au(Ms(A,j),Q,D),[],j,R,Q,L);const we=[];if(z.length>0){const Ye=z[0],Be=z[z.length-1];let P=0;for(const T of Yn(oe,Ye,Be)){const F=T.value,ae=Math.max(T.start,Ye),le=Math.min(T.end,Be);for(let ce=ae;ce<=le;ce++)we.push({data:D?.[ce],index:ce,offset:P,size:F}),P+=F}}if(!M)return $n([],we,j,R,Q,L);const ke=z.length>0?z[z.length-1]+1:0,Xe=Cu(X,_,C,ke);if(Xe.length===0)return null;const Se=j-1,We=Xn([],Ye=>{for(const Be of Xe){const P=Be.value;let T=P.offset,F=Be.start;const ae=P.size;if(P.offset<_){F+=Math.floor((_-P.offset+R)/(ae+R));const ce=F-Be.start;T+=ce*ae+ce*R}F<ke&&(T+=(ke-F)*ae,F=ke);const le=Math.min(Be.end,Se);for(let ce=F;ce<=le&&!(T>=C);ce++)Ye.push({data:D?.[ce],index:ce,offset:T,size:ae}),T+=ae+R}});return $n(We,we,j,R,Q,L)}),U(_=>_!==null),he()),es);$(N(e,U(ks),B(_=>_?.length)),a),$(N(g,B(_=>_.topListHeight)),h),$(h,i),$(N(g,B(_=>[_.top,_.bottom])),l),$(N(g,B(_=>_.items)),f);const I=qe(N(g,U(({items:_})=>_.length>0),J(a,e),U(([{items:_},C])=>_[_.length-1].originalIndex===C-1),B(([,_,C])=>[_-1,C]),he(hn),B(([_])=>_))),y=qe(N(g,wt(200),U(({items:_,topItems:C})=>_.length>0&&_[0].originalIndex===C.length),B(({items:_})=>_[0].index),he())),b=qe(N(g,U(({items:_})=>_.length>0),B(({items:_})=>{let C=0,j=_.length-1;for(;_[C].type==="group"&&C<j;)C++;for(;_[j].type==="group"&&j>C;)j--;return{endIndex:_[j].index,startIndex:_[C].index}}),he(Go)));return{endReached:I,initialItemCount:x,itemsRendered:f,listState:g,rangeChanged:b,startReached:y,topItemsIndexes:v,...u}},fe(pt,Yo,Os,bn,wn,Cn,Nt,Es),{singleton:!0}),Zo=se(([{fixedFooterHeight:e,fixedHeaderHeight:t,footerHeight:s,headerHeight:o},{listState:a}])=>{const r=ee(),l=Le(N(Te(s,e,o,t,a),B(([i,c,d,m,h])=>i+c+d+m+h.offsetBottom+h.bottom)),0);return $(G(l),r),{totalListHeight:l,totalListHeightChanged:r}},fe(ze,Gt),{singleton:!0}),Mu=se(([{viewportHeight:e},{totalListHeight:t}])=>{const s=H(!1),o=Le(N(Te(s,e,t),U(([a])=>a),B(([,a,r])=>Math.max(0,a-r)),wt(0),he()),0);return{alignToBottom:s,paddingTopAddition:o}},fe(ze,Zo),{singleton:!0}),ea=se(()=>({context:H(null)})),Ou=({itemBottom:e,itemTop:t,locationParams:{align:s,behavior:o,...a},viewportBottom:r,viewportTop:l})=>t<l?{...a,align:s??"start",behavior:o}:e>r?{...a,align:s??"end",behavior:o}:null,ta=se(([{gap:e,sizes:t,totalCount:s},{fixedFooterHeight:o,fixedHeaderHeight:a,headerHeight:r,scrollingInProgress:l,scrollTop:i,viewportHeight:c},{scrollToIndex:d}])=>{const m=ee();return $(N(m,J(t,c,s,r,a,o,i),J(e),B(([[h,u,w,p,v,x,f,g],I])=>{const{align:y,behavior:b,calculateViewLocation:_=Ou,done:C,...j}=h,k=Xo(h,u,p-1),A=fn(k,u.offsetTree,I)+v+x,M=A+rt(u.sizeTree,k)[1],z=g+x,L=g+w-f,R=_({itemBottom:M,itemTop:A,locationParams:{align:y,behavior:b,...j},viewportBottom:L,viewportTop:z});return R?C&&at(N(l,U(D=>!D),Ft(ye(l)?1:2)),C):C&&C(),R}),U(h=>h!==null)),d),{scrollIntoView:m}},fe(pt,ze,wn,Gt,kt),{singleton:!0});function ao(e){return e?e==="smooth"?"smooth":"auto":!1}const Lu=(e,t)=>typeof e=="function"?ao(e(t)):t&&ao(e),Bu=se(([{listRefresh:e,totalCount:t,fixedItemSize:s,data:o},{atBottomState:a,isAtBottom:r},{scrollToIndex:l},{scrolledToInitialItem:i},{didMount:c,propsReady:d},{log:m},{scrollingInProgress:h},{context:u},{scrollIntoView:w}])=>{const p=H(!1),v=ee();let x=null;function f(b){K(l,{align:"end",behavior:b,index:"LAST"})}re(N(Te(N(G(t),Ft(1)),c),J(G(p),r,i,h),B(([[b,_],C,j,k,A])=>{let M=_&&k,z="auto";return M&&(z=Lu(C,j||A),M=M&&!!z),{followOutputBehavior:z,shouldFollow:M,totalCount:b}}),U(({shouldFollow:b})=>b)),({followOutputBehavior:b,totalCount:_})=>{x&&(x(),x=null),ye(s)?requestAnimationFrame(()=>{ye(m)("following output to ",{totalCount:_},Fe.DEBUG),f(b)}):x=at(e,()=>{ye(m)("following output to ",{totalCount:_},Fe.DEBUG),f(b),x=null})});function g(b){const _=at(a,C=>{b&&!C.atBottom&&C.notAtBottomBecause==="SIZE_INCREASED"&&!x&&(ye(m)("scrolling to bottom due to increased size",{},Fe.DEBUG),f("auto"))});setTimeout(_,100)}re(N(Te(G(p),t,d),U(([b,,_])=>b&&_),ft(({value:b},[,_])=>({refreshed:b===_,value:_}),{refreshed:!1,value:0}),U(({refreshed:b})=>b),J(p,t)),([,b])=>{ye(i)&&g(b!==!1)}),re(v,()=>{g(ye(p)!==!1)}),re(Te(G(p),a),([b,_])=>{b&&!_.atBottom&&_.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&f("auto")});const I=H(null),y=ee();return $(ds(N(G(o),B(b=>{var _;return(_=b?.length)!=null?_:0})),N(G(t))),y),re(N(Te(N(y,Ft(1)),c),J(G(I),i,h,u),B(([[b,_],C,j,k,A])=>_&&j&&C?.({context:A,totalCount:b,scrollingInProgress:k})),U(b=>!!b),wt(0)),b=>{x&&(x(),x=null),ye(s)?requestAnimationFrame(()=>{ye(m)("scrolling into view",{}),K(w,b)}):x=at(e,()=>{ye(m)("scrolling into view",{}),K(w,b),x=null})}),{autoscrollToBottom:v,followOutput:p,scrollIntoViewOnChange:I}},fe(pt,Cn,wn,bn,Nt,kt,ze,ea,ta)),Du=se(([{data:e,firstItemIndex:t,gap:s,sizes:o},{initialTopMostItemIndex:a},{initialItemCount:r,listState:l},{didMount:i}])=>($(N(i,J(r),U(([,c])=>c!==0),J(a,o,t,s,e),B(([[,c],d,m,h,u,w=[]])=>Jo(c,d,m,h,u,w))),l),{}),fe(pt,bn,Gt,Nt),{singleton:!0}),zu=se(([{didMount:e},{scrollTo:t},{listState:s}])=>{const o=H(0);return re(N(e,J(o),U(([,a])=>a!==0),B(([,a])=>({top:a}))),a=>{at(N(s,Ft(1),U(r=>r.items.length>1)),()=>{requestAnimationFrame(()=>{K(t,a)})})}),{initialScrollTop:o}},fe(Nt,ze,Gt),{singleton:!0}),na=se(([{scrollVelocity:e}])=>{const t=H(!1),s=ee(),o=H(!1);return $(N(e,J(o,t,s),U(([a,r])=>!!r),B(([a,r,l,i])=>{const{enter:c,exit:d}=r;if(l){if(d(a,i))return!1}else if(c(a,i))return!0;return l}),he()),t),re(N(Te(t,e,s),J(o)),([[a,r,l],i])=>{a&&i&&i.change&&i.change(r,l)}),{isSeeking:t,scrollSeekConfiguration:o,scrollSeekRangeChanged:s,scrollVelocity:e}},fe(Cn),{singleton:!0}),Ls=se(([{scrollContainerState:e,scrollTo:t}])=>{const s=ee(),o=ee(),a=ee(),r=H(!1),l=H(void 0);return $(N(Te(s,o),B(([{scrollHeight:i,scrollTop:c,viewportHeight:d},{offsetTop:m}])=>({scrollHeight:i,scrollTop:Math.max(0,c-m),viewportHeight:d}))),e),$(N(t,J(o),B(([i,{offsetTop:c}])=>({...i,top:i.top+c}))),a),{customScrollParent:l,useWindowScroll:r,windowScrollContainerState:s,windowScrollTo:a,windowViewportRect:o}},fe(ze)),$u=se(([{sizeRanges:e,sizes:t},{headerHeight:s,scrollTop:o},{initialTopMostItemIndex:a},{didMount:r},{useWindowScroll:l,windowScrollContainerState:i,windowViewportRect:c}])=>{const d=ee(),m=H(void 0),h=H(null),u=H(null);return $(i,h),$(c,u),re(N(d,J(t,o,l,h,u,s)),([w,p,v,x,f,g,I])=>{const y=yu(p.sizeTree);x&&f!==null&&g!==null&&(v=f.scrollTop-g.offsetTop),v-=I,w({ranges:y,scrollTop:v})}),$(N(m,U(ks),B(Pu)),a),$(N(r,J(m),U(([,w])=>w!==void 0),he(),B(([,w])=>w.ranges)),e),{getState:d,restoreStateFrom:m}},fe(pt,ze,bn,Nt,Ls));function Pu(e){return{align:"start",index:0,offset:e.scrollTop}}const Fu=se(([{topItemsIndexes:e}])=>{const t=H(0);return $(N(t,U(s=>s>=0),B(s=>Array.from({length:s}).map((o,a)=>a))),e),{topItemCount:t}},fe(Gt));function sa(e){let t=!1,s;return()=>(t||(t=!0,s=e()),s)}const Wu=sa(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Vu=se(([{deviation:e,scrollBy:t,scrollingInProgress:s,scrollTop:o},{isAtBottom:a,isScrolling:r,lastJumpDueToItemResize:l,scrollDirection:i},{listState:c},{beforeUnshiftWith:d,gap:m,shiftWithOffset:h,sizes:u},{log:w},{recalcInProgress:p}])=>{const v=qe(N(c,J(l),ft(([,f,g,I],[{bottom:y,items:b,offsetBottom:_,totalCount:C},j])=>{const k=y+_;let A=0;return g===C&&f.length>0&&b.length>0&&(b[0].originalIndex===0&&f[0].originalIndex===0||(A=k-I,A!==0&&(A+=j))),[A,b,C,k]},[0,[],0,0]),U(([f])=>f!==0),J(o,i,s,a,w,p),U(([,f,g,I,,,y])=>!y&&!I&&f!==0&&g===pn),B(([[f],,,,,g])=>(g("Upward scrolling compensation",{amount:f},Fe.DEBUG),f))));function x(f){f>0?(K(t,{behavior:"auto",top:-f}),K(e,0)):(K(e,0),K(t,{behavior:"auto",top:-f}))}return re(N(v,J(e,r)),([f,g,I])=>{I&&Wu()?K(e,g-f):x(-f)}),re(N(Te(Le(r,!1),e,p),U(([f,g,I])=>!f&&!I&&g!==0),B(([f,g])=>g),wt(1)),x),$(N(h,B(f=>({top:-f}))),t),re(N(d,J(u,m),B(([f,{groupIndices:g,lastSize:I,sizeTree:y},b])=>{function _(C){return C*(I+b)}if(g.length===0)return _(f);{let C=0;const j=mn(y,0);let k=0,A=0;for(;k<f;){k++,C+=j;let M=g.length===A+1?1/0:g[A+1]-g[A]-1;k+M>f&&(C-=j,M=f-k+1),k+=M,C+=_(M),A++}return C}})),f=>{K(e,f),requestAnimationFrame(()=>{K(t,{top:f}),requestAnimationFrame(()=>{K(e,0),K(p,!1)})})}),{deviation:e}},fe(ze,Cn,Gt,pt,kt,Es)),Gu=se(([e,t,s,o,a,r,l,i,c,d,m])=>({...e,...t,...s,...o,...a,...r,...l,...i,...c,...d,...m}),fe(Os,Du,Nt,na,Zo,zu,Mu,Ls,ta,kt,ea)),oa=se(([{data:e,defaultItemSize:t,firstItemIndex:s,fixedItemSize:o,gap:a,groupIndices:r,itemSize:l,sizeRanges:i,sizes:c,statefulTotalCount:d,totalCount:m,trackItemSizes:h},{initialItemFinalLocationReached:u,initialTopMostItemIndex:w,scrolledToInitialItem:p},v,x,f,{listState:g,topItemsIndexes:I,...y},{scrollToIndex:b},_,{topItemCount:C},{groupCounts:j},k])=>($(y.rangeChanged,k.scrollSeekRangeChanged),$(N(k.windowViewportRect,B(A=>A.visibleHeight)),v.viewportHeight),{data:e,defaultItemHeight:t,firstItemIndex:s,fixedItemHeight:o,gap:a,groupCounts:j,initialItemFinalLocationReached:u,initialTopMostItemIndex:w,scrolledToInitialItem:p,sizeRanges:i,topItemCount:C,topItemsIndexes:I,totalCount:m,...f,groupIndices:r,itemSize:l,listState:g,scrollToIndex:b,statefulTotalCount:d,trackItemSizes:h,...y,...k,...v,sizes:c,...x}),fe(pt,bn,ze,$u,Bu,Gt,wn,Vu,Fu,Yo,Gu));function qu(e,t){const s={},o={};let a=0;const r=e.length;for(;a<r;)o[e[a]]=1,a+=1;for(const l in t)Object.hasOwn(o,l)||(s[l]=t[l]);return s}const Mn=typeof document<"u"?S.useLayoutEffect:S.useEffect;function aa(e,t,s){const o=Object.keys(t.required||{}),a=Object.keys(t.optional||{}),r=Object.keys(t.methods||{}),l=Object.keys(t.events||{}),i=S.createContext({});function c(x,f){x.propsReady&&K(x.propsReady,!1);for(const g of o){const I=x[t.required[g]];K(I,f[g])}for(const g of a)if(g in f){const I=x[t.optional[g]];K(I,f[g])}x.propsReady&&K(x.propsReady,!0)}function d(x){return r.reduce((f,g)=>(f[g]=I=>{const y=x[t.methods[g]];K(y,I)},f),{})}function m(x){return l.reduce((f,g)=>(f[g]=lu(x[t.events[g]]),f),{})}const h=S.forwardRef((x,f)=>{const{children:g,...I}=x,[y]=S.useState(()=>Xn(uu(e),C=>{c(C,I)})),[b]=S.useState(Ks(m,y));Mn(()=>{for(const C of l)C in I&&re(b[C],I[C]);return()=>{Object.values(b).map(Ns)}},[I,b,y]),Mn(()=>{c(y,I)}),S.useImperativeHandle(f,Ys(d(y)));const _=s;return n.jsx(i.Provider,{value:y,children:s?n.jsx(_,{...qu([...o,...a,...l],I),children:g}):g})}),u=x=>{const f=S.useContext(i);return S.useCallback(g=>{K(f[x],g)},[f,x])},w=x=>{const f=S.useContext(i)[x],g=S.useCallback(I=>re(f,I),[f]);return S.useSyncExternalStore(g,()=>ye(f),()=>ye(f))},p=x=>{const f=S.useContext(i)[x],[g,I]=S.useState(Ks(ye,f));return Mn(()=>re(f,y=>{y!==g&&I(Ys(y))}),[f,g]),g},v=S.version.startsWith("18")?w:p;return{Component:h,useEmitter:(x,f)=>{const g=S.useContext(i)[x];Mn(()=>re(g,f),[f,g])},useEmitterValue:v,usePublisher:u}}const ra=S.createContext(void 0),ia=S.createContext(void 0),la=typeof document<"u"?S.useLayoutEffect:S.useEffect;function ts(e){return"self"in e}function Uu(e){return"body"in e}function ca(e,t,s,o=Jt,a,r){const l=S.useRef(null),i=S.useRef(null),c=S.useRef(null),d=S.useCallback(u=>{let w,p,v;const x=u.target;if(Uu(x)||ts(x)){const g=ts(x)?x:x.defaultView;v=r?g.scrollX:g.scrollY,w=r?g.document.documentElement.scrollWidth:g.document.documentElement.scrollHeight,p=r?g.innerWidth:g.innerHeight}else v=r?x.scrollLeft:x.scrollTop,w=r?x.scrollWidth:x.scrollHeight,p=r?x.offsetWidth:x.offsetHeight;const f=()=>{e({scrollHeight:w,scrollTop:Math.max(v,0),viewportHeight:p})};u.suppressFlushSync?f():Ya.flushSync(f),i.current!==null&&(v===i.current||v<=0||v===w-p)&&(i.current=null,t(!0),c.current&&(clearTimeout(c.current),c.current=null))},[e,t,r]);S.useEffect(()=>{const u=a||l.current;return o(a||l.current),d({suppressFlushSync:!0,target:u}),u.addEventListener("scroll",d,{passive:!0}),()=>{o(null),u.removeEventListener("scroll",d)}},[l,d,s,o,a]);function m(u){const w=l.current;if(!w||(r?"offsetWidth"in w&&w.offsetWidth===0:"offsetHeight"in w&&w.offsetHeight===0))return;const p=u.behavior==="smooth";let v,x,f;ts(w)?(x=Math.max(jt(w.document.documentElement,r?"width":"height"),r?w.document.documentElement.scrollWidth:w.document.documentElement.scrollHeight),v=r?w.innerWidth:w.innerHeight,f=r?window.scrollX:window.scrollY):(x=w[r?"scrollWidth":"scrollHeight"],v=jt(w,r?"width":"height"),f=w[r?"scrollLeft":"scrollTop"]);const g=x-v;if(u.top=Math.ceil(Math.max(Math.min(g,u.top),0)),Qo(v,x)||u.top===f){e({scrollHeight:x,scrollTop:f,viewportHeight:v}),p&&t(!0);return}p?(i.current=u.top,c.current&&clearTimeout(c.current),c.current=setTimeout(()=>{c.current=null,i.current=null,t(!0)},1e3)):i.current=null,r&&(u={behavior:u.behavior,left:u.top}),w.scrollTo(u)}function h(u){r&&(u={behavior:u.behavior,left:u.top}),l.current.scrollBy(u)}return{scrollByCallback:h,scrollerRef:l,scrollToCallback:m}}const ns="-webkit-sticky",ro="sticky",Bs=sa(()=>{if(typeof document>"u")return ro;const e=document.createElement("div");return e.style.position=ns,e.style.position===ns?ns:ro});function Ds(e){return e}const Xu=se(()=>{const e=H(i=>`Item ${i}`),t=H(i=>`Group ${i}`),s=H({}),o=H(Ds),a=H("div"),r=H(Jt),l=(i,c=null)=>Le(N(s,B(d=>d[i]),he()),c);return{components:s,computeItemKey:o,EmptyPlaceholder:l("EmptyPlaceholder"),FooterComponent:l("Footer"),GroupComponent:l("Group","div"),groupContent:t,HeaderComponent:l("Header"),HeaderFooterTag:a,ItemComponent:l("Item","div"),itemContent:e,ListComponent:l("List","div"),ScrollerComponent:l("Scroller","div"),scrollerRef:r,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TopItemListComponent:l("TopItemList")}}),Yu=se(([e,t])=>({...e,...t}),fe(oa,Xu)),Ku=({height:e})=>n.jsx("div",{style:{height:e}}),Qu={overflowAnchor:"none",position:Bs(),zIndex:1},ua={overflowAnchor:"none"},Ju={...ua,display:"inline-block",height:"100%"},io=S.memo(function({showTopList:e=!1}){const t=Y("listState"),s=Ze("sizeRanges"),o=Y("useWindowScroll"),a=Y("customScrollParent"),r=Ze("windowScrollContainerState"),l=Ze("scrollContainerState"),i=a||o?r:l,c=Y("itemContent"),d=Y("context"),m=Y("groupContent"),h=Y("trackItemSizes"),u=Y("itemSize"),w=Y("log"),p=Ze("gap"),v=Y("horizontalDirection"),{callbackRef:x}=hu(s,u,h,e?Jt:i,w,p,a,v,Y("skipAnimationFrameInResizeObserver")),[f,g]=S.useState(0);zs("deviation",R=>{f!==R&&g(R)});const I=Y("EmptyPlaceholder"),y=Y("ScrollSeekPlaceholder")||Ku,b=Y("ListComponent"),_=Y("ItemComponent"),C=Y("GroupComponent"),j=Y("computeItemKey"),k=Y("isSeeking"),A=Y("groupIndices").length>0,M=Y("alignToBottom"),z=Y("initialItemFinalLocationReached"),L=e?{}:{boxSizing:"border-box",...v?{display:"inline-block",height:"100%",marginLeft:f!==0?f:M?"auto":0,paddingLeft:t.offsetTop,paddingRight:t.offsetBottom,whiteSpace:"nowrap"}:{marginTop:f!==0?f:M?"auto":0,paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},...z?{}:{visibility:"hidden"}};return!e&&t.totalCount===0&&I?n.jsx(I,{...Oe(I,d)}):n.jsx(b,{...Oe(b,d),"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",ref:x,style:L,children:(e?t.topItems:t.items).map(R=>{const D=R.originalIndex,Q=j(D+t.firstItemIndex,R.data,d);return k?E.createElement(y,{...Oe(y,d),height:R.size,index:R.index,key:Q,type:R.type||"item",...R.type==="group"?{}:{groupIndex:R.groupIndex}}):R.type==="group"?E.createElement(C,{...Oe(C,d),"data-index":D,"data-item-index":R.index,"data-known-size":R.size,key:Q,style:Qu},m(R.index,d)):E.createElement(_,{...Oe(_,d),...nd(_,R.data),"data-index":D,"data-item-group-index":R.groupIndex,"data-item-index":R.index,"data-known-size":R.size,key:Q,style:v?Ju:ua},A?c(R.index,R.groupIndex,R.data,d):c(R.index,R.data,d))})})}),Zu={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},ed={outline:"none",overflowX:"auto",position:"relative"},Qn=e=>({height:"100%",position:"absolute",top:0,width:"100%",...e?{display:"flex",flexDirection:"column"}:{}}),td={position:Bs(),top:0,width:"100%",zIndex:1};function Oe(e,t){if(typeof e!="string")return{context:t}}function nd(e,t){return{item:typeof e=="string"?void 0:t}}const sd=S.memo(function(){const e=Y("HeaderComponent"),t=Ze("headerHeight"),s=Y("HeaderFooterTag"),o=Vt(S.useMemo(()=>r=>{t(jt(r,"height"))},[t]),!0,Y("skipAnimationFrameInResizeObserver")),a=Y("context");return e?n.jsx(s,{ref:o,children:n.jsx(e,{...Oe(e,a)})}):null}),od=S.memo(function(){const e=Y("FooterComponent"),t=Ze("footerHeight"),s=Y("HeaderFooterTag"),o=Vt(S.useMemo(()=>r=>{t(jt(r,"height"))},[t]),!0,Y("skipAnimationFrameInResizeObserver")),a=Y("context");return e?n.jsx(s,{ref:o,children:n.jsx(e,{...Oe(e,a)})}):null});function da({useEmitter:e,useEmitterValue:t,usePublisher:s}){return S.memo(function({children:o,style:a,context:r,...l}){const i=s("scrollContainerState"),c=t("ScrollerComponent"),d=s("smoothScrollTargetReached"),m=t("scrollerRef"),h=t("horizontalDirection")||!1,{scrollByCallback:u,scrollerRef:w,scrollToCallback:p}=ca(i,d,c,m,void 0,h);return e("scrollTo",p),e("scrollBy",u),n.jsx(c,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:w,style:{...h?ed:Zu,...a},tabIndex:0,...l,...Oe(c,r),children:o})})}function ma({useEmitter:e,useEmitterValue:t,usePublisher:s}){return S.memo(function({children:o,style:a,context:r,...l}){const i=s("windowScrollContainerState"),c=t("ScrollerComponent"),d=s("smoothScrollTargetReached"),m=t("totalListHeight"),h=t("deviation"),u=t("customScrollParent"),w=S.useRef(null),p=t("scrollerRef"),{scrollByCallback:v,scrollerRef:x,scrollToCallback:f}=ca(i,d,c,p,u);return la(()=>{var g;return x.current=u||((g=w.current)==null?void 0:g.ownerDocument.defaultView),()=>{x.current=null}},[x,u]),e("windowScrollTo",f),e("scrollBy",v),n.jsx(c,{ref:w,"data-virtuoso-scroller":!0,style:{position:"relative",...a,...m!==0?{height:m+h}:{}},...l,...Oe(c,r),children:o})})}const ad=({children:e})=>{const t=S.useContext(ra),s=Ze("viewportHeight"),o=Ze("fixedItemHeight"),a=Y("alignToBottom"),r=Y("horizontalDirection"),l=S.useMemo(()=>Bo(s,c=>jt(c,r?"width":"height")),[s,r]),i=Vt(l,!0,Y("skipAnimationFrameInResizeObserver"));return S.useEffect(()=>{t&&(s(t.viewportHeight),o(t.itemHeight))},[t,s,o]),n.jsx("div",{"data-viewport-type":"element",ref:i,style:Qn(a),children:e})},rd=({children:e})=>{const t=S.useContext(ra),s=Ze("windowViewportRect"),o=Ze("fixedItemHeight"),a=Y("customScrollParent"),r=zo(s,a,Y("skipAnimationFrameInResizeObserver")),l=Y("alignToBottom");return S.useEffect(()=>{t&&(o(t.itemHeight),s({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))},[t,s,o]),n.jsx("div",{"data-viewport-type":"window",ref:r,style:Qn(l),children:e})},id=({children:e})=>{const t=Y("TopItemListComponent")||"div",s=Y("headerHeight"),o={...td,marginTop:`${s}px`},a=Y("context");return n.jsx(t,{style:o,...Oe(t,a),children:e})},ld=S.memo(function(e){const t=Y("useWindowScroll"),s=Y("topItemsIndexes").length>0,o=Y("customScrollParent"),a=Y("context");return n.jsxs(o||t?dd:ud,{...e,context:a,children:[s&&n.jsx(id,{children:n.jsx(io,{showTopList:!0})}),n.jsxs(o||t?rd:ad,{children:[n.jsx(sd,{}),n.jsx(io,{}),n.jsx(od,{})]})]})}),{Component:cd,useEmitter:zs,useEmitterValue:Y,usePublisher:Ze}=aa(Yu,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},ld),ud=da({useEmitter:zs,useEmitterValue:Y,usePublisher:Ze}),dd=ma({useEmitter:zs,useEmitterValue:Y,usePublisher:Ze}),md=cd,hd=se(()=>{const e=H(d=>n.jsxs("td",{children:["Item $",d]})),t=H(null),s=H(d=>n.jsxs("td",{colSpan:1e3,children:["Group ",d]})),o=H(null),a=H(null),r=H({}),l=H(Ds),i=H(Jt),c=(d,m=null)=>Le(N(r,B(h=>h[d]),he()),m);return{components:r,computeItemKey:l,context:t,EmptyPlaceholder:c("EmptyPlaceholder"),FillerRow:c("FillerRow"),fixedFooterContent:a,fixedHeaderContent:o,itemContent:e,groupContent:s,ScrollerComponent:c("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder"),TableBodyComponent:c("TableBody","tbody"),TableComponent:c("Table","table"),TableFooterComponent:c("TableFoot","tfoot"),TableHeadComponent:c("TableHead","thead"),TableRowComponent:c("TableRow","tr"),GroupComponent:c("Group","tr")}});fe(oa,hd);Bs();const lo={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},fd={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:co,floor:Vn,max:un,min:ss,round:uo}=Math;function mo(e,t,s){return Array.from({length:t-e+1}).map((o,a)=>({data:s===null?null:s[a+e],index:a+e}))}function pd(e){return{...fd,items:e}}function On(e,t){return e&&e.width===t.width&&e.height===t.height}function gd(e,t){return e&&e.column===t.column&&e.row===t.row}const vd=se(([{increaseViewportBy:e,listBoundary:t,overscan:s,visibleRange:o},{footerHeight:a,headerHeight:r,scrollBy:l,scrollContainerState:i,scrollTo:c,scrollTop:d,smoothScrollTargetReached:m,viewportHeight:h},u,w,{didMount:p,propsReady:v},{customScrollParent:x,useWindowScroll:f,windowScrollContainerState:g,windowScrollTo:I,windowViewportRect:y},b])=>{const _=H(0),C=H(0),j=H(lo),k=H({height:0,width:0}),A=H({height:0,width:0}),M=ee(),z=ee(),L=H(0),R=H(null),D=H({column:0,row:0}),Q=ee(),X=ee(),oe=H(!1),ge=H(0),we=H(!0),ke=H(!1),Xe=H(!1);re(N(p,J(ge),U(([T,F])=>!!F)),()=>{K(we,!1)}),re(N(Te(p,we,A,k,ge,ke),U(([T,F,ae,le,,ce])=>T&&!F&&ae.height!==0&&le.height!==0&&!ce)),([,,,,T])=>{K(ke,!0),As(1,()=>{K(M,T)}),at(N(d),()=>{K(t,[0,0]),K(we,!0)})}),$(N(X,U(T=>T!=null&&T.scrollTop>0),ht(0)),C),re(N(p,J(X),U(([,T])=>T!=null)),([,T])=>{T&&(K(k,T.viewport),K(A,T.item),K(D,T.gap),T.scrollTop>0&&(K(oe,!0),at(N(d,Ft(1)),F=>{K(oe,!1)}),K(c,{top:T.scrollTop})))}),$(N(k,B(({height:T})=>T)),h),$(N(Te(G(k,On),G(A,On),G(D,(T,F)=>T&&T.column===F.column&&T.row===F.row),G(d)),B(([T,F,ae,le])=>({gap:ae,item:F,scrollTop:le,viewport:T}))),Q),$(N(Te(G(_),o,G(D,gd),G(A,On),G(k,On),G(R),G(C),G(oe),G(we),G(ge)),U(([,,,,,,,T])=>!T),B(([T,[F,ae],le,ce,Ke,V,gt,,Rt,Qe])=>{const{column:it,row:Et}=le,{height:nt,width:qt}=ce,{width:yn}=Ke;if(gt===0&&(T===0||yn===0))return lo;if(qt===0){const kn=Ms(Qe,T),At=kn+Math.max(gt-1,0);return pd(mo(kn,At,V))}const lt=ha(yn,qt,it);let bt,ct;Rt?F===0&&ae===0&&gt>0?(bt=0,ct=gt-1):(bt=lt*Vn((F+Et)/(nt+Et)),ct=lt*co((ae+Et)/(nt+Et))-1,ct=ss(T-1,un(ct,lt-1)),bt=ss(ct,un(0,bt))):(bt=0,ct=-1);const Sn=mo(bt,ct,V),{bottom:jn,top:Ht}=ho(Ke,le,ce,Sn),In=co(T/lt),Tn=In*nt+(In-1)*Et-jn;return{bottom:jn,itemHeight:nt,items:Sn,itemWidth:qt,offsetBottom:Tn,offsetTop:Ht,top:Ht}})),j),$(N(R,U(T=>T!==null),B(T=>T.length)),_),$(N(Te(k,A,j,D),U(([T,F,{items:ae}])=>ae.length>0&&F.height!==0&&T.height!==0),B(([T,F,{items:ae},le])=>{const{bottom:ce,top:Ke}=ho(T,le,F,ae);return[Ke,ce]}),he(hn)),t);const Se=H(!1);$(N(d,J(Se),B(([T,F])=>F||T!==0)),Se);const We=qe(N(Te(j,_),U(([{items:T}])=>T.length>0),J(Se),U(([[T,F],ae])=>{const le=T.items[T.items.length-1].index===F-1;return(ae||T.bottom>0&&T.itemHeight>0&&T.offsetBottom===0&&T.items.length===F)&&le}),B(([[,T]])=>T-1),he())),Ye=qe(N(G(j),U(({items:T})=>T.length>0&&T[0].index===0),ht(0),he())),Be=qe(N(G(j),J(oe),U(([{items:T},F])=>T.length>0&&!F),B(([{items:T}])=>({endIndex:T[T.length-1].index,startIndex:T[0].index})),he(Go),wt(0)));$(Be,w.scrollSeekRangeChanged),$(N(M,J(k,A,_,D),B(([T,F,ae,le,ce])=>{const Ke=Ko(T),{align:V,behavior:gt,offset:Rt}=Ke;let Qe=Ke.index;Qe==="LAST"&&(Qe=le-1),Qe=un(0,Qe,ss(le-1,Qe));let it=gs(F,ce,ae,Qe);return V==="end"?it=uo(it-F.height+ae.height):V==="center"&&(it=uo(it-F.height/2+ae.height/2)),Rt&&(it+=Rt),{behavior:gt,top:it}})),c);const P=Le(N(j,B(T=>T.offsetBottom+T.bottom)),0);return $(N(y,B(T=>({height:T.visibleHeight,width:T.visibleWidth}))),k),{customScrollParent:x,data:R,deviation:L,footerHeight:a,gap:D,headerHeight:r,increaseViewportBy:e,initialItemCount:C,itemDimensions:A,overscan:s,restoreStateFrom:X,scrollBy:l,scrollContainerState:i,scrollHeight:z,scrollTo:c,scrollToIndex:M,scrollTop:d,smoothScrollTargetReached:m,totalCount:_,useWindowScroll:f,viewportDimensions:k,windowScrollContainerState:g,windowScrollTo:I,windowViewportRect:y,...w,gridState:j,horizontalDirection:Xe,initialTopMostItemIndex:ge,totalListHeight:P,...u,endReached:We,propsReady:v,rangeChanged:Be,startReached:Ye,stateChanged:Q,stateRestoreInProgress:oe,...b}},fe(Os,ze,Cn,na,Nt,Ls,kt));function ha(e,t,s){return un(1,Vn((e+s)/(Vn(t)+s)))}function ho(e,t,s,o){const{height:a}=s;if(a===void 0||o.length===0)return{bottom:0,top:0};const r=gs(e,t,s,o[0].index);return{bottom:gs(e,t,s,o[o.length-1].index)+a,top:r}}function gs(e,t,s,o){const a=ha(e.width,s.width,t.column),r=Vn(o/a),l=r*s.height+un(0,r-1)*t.row;return l>0?l+t.row:l}const xd=se(()=>{const e=H(h=>`Item ${h}`),t=H({}),s=H(null),o=H("virtuoso-grid-item"),a=H("virtuoso-grid-list"),r=H(Ds),l=H("div"),i=H(Jt),c=(h,u=null)=>Le(N(t,B(w=>w[h]),he()),u),d=H(!1),m=H(!1);return $(G(m),d),{components:t,computeItemKey:r,context:s,FooterComponent:c("Footer"),HeaderComponent:c("Header"),headerFooterTag:l,itemClassName:o,ItemComponent:c("Item","div"),itemContent:e,listClassName:a,ListComponent:c("List","div"),readyStateChanged:d,reportReadyState:m,ScrollerComponent:c("Scroller","div"),scrollerRef:i,ScrollSeekPlaceholder:c("ScrollSeekPlaceholder","div")}}),wd=se(([e,t])=>({...e,...t}),fe(vd,xd)),bd=S.memo(function(){const e=pe("gridState"),t=pe("listClassName"),s=pe("itemClassName"),o=pe("itemContent"),a=pe("computeItemKey"),r=pe("isSeeking"),l=et("scrollHeight"),i=pe("ItemComponent"),c=pe("ListComponent"),d=pe("ScrollSeekPlaceholder"),m=pe("context"),h=et("itemDimensions"),u=et("gap"),w=pe("log"),p=pe("stateRestoreInProgress"),v=et("reportReadyState"),x=Vt(S.useMemo(()=>f=>{const g=f.parentElement.parentElement.scrollHeight;l(g);const I=f.firstChild;if(I){const{height:y,width:b}=I.getBoundingClientRect();h({height:y,width:b})}u({column:fo("column-gap",getComputedStyle(f).columnGap,w),row:fo("row-gap",getComputedStyle(f).rowGap,w)})},[l,h,u,w]),!0,!1);return la(()=>{e.itemHeight>0&&e.itemWidth>0&&v(!0)},[e]),p?null:n.jsx(c,{className:t,ref:x,...Oe(c,m),"data-testid":"virtuoso-item-list",style:{paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},children:e.items.map(f=>{const g=a(f.index,f.data,m);return r?n.jsx(d,{...Oe(d,m),height:e.itemHeight,index:f.index,width:e.itemWidth},g):E.createElement(i,{...Oe(i,m),className:s,"data-index":f.index,key:g},o(f.index,f.data,m))})})}),Cd=S.memo(function(){const e=pe("HeaderComponent"),t=et("headerHeight"),s=pe("headerFooterTag"),o=Vt(S.useMemo(()=>r=>{t(jt(r,"height"))},[t]),!0,!1),a=pe("context");return e?n.jsx(s,{ref:o,children:n.jsx(e,{...Oe(e,a)})}):null}),_d=S.memo(function(){const e=pe("FooterComponent"),t=et("footerHeight"),s=pe("headerFooterTag"),o=Vt(S.useMemo(()=>r=>{t(jt(r,"height"))},[t]),!0,!1),a=pe("context");return e?n.jsx(s,{ref:o,children:n.jsx(e,{...Oe(e,a)})}):null}),yd=({children:e})=>{const t=S.useContext(ia),s=et("itemDimensions"),o=et("viewportDimensions"),a=Vt(S.useMemo(()=>r=>{o(r.getBoundingClientRect())},[o]),!0,!1);return S.useEffect(()=>{t&&(o({height:t.viewportHeight,width:t.viewportWidth}),s({height:t.itemHeight,width:t.itemWidth}))},[t,o,s]),n.jsx("div",{ref:a,style:Qn(!1),children:e})},Sd=({children:e})=>{const t=S.useContext(ia),s=et("windowViewportRect"),o=et("itemDimensions"),a=pe("customScrollParent"),r=zo(s,a,!1);return S.useEffect(()=>{t&&(o({height:t.itemHeight,width:t.itemWidth}),s({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))},[t,s,o]),n.jsx("div",{ref:r,style:Qn(!1),children:e})},jd=S.memo(function({...e}){const t=pe("useWindowScroll"),s=pe("customScrollParent"),o=s||t?Td:Id,a=s||t?Sd:yd,r=pe("context");return n.jsx(o,{...e,...Oe(o,r),children:n.jsxs(a,{children:[n.jsx(Cd,{}),n.jsx(bd,{}),n.jsx(_d,{})]})})}),{useEmitter:fa,useEmitterValue:pe,usePublisher:et}=aa(wd,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},jd),Id=da({useEmitter:fa,useEmitterValue:pe,usePublisher:et}),Td=ma({useEmitter:fa,useEmitterValue:pe,usePublisher:et});function fo(e,t,s){return t!=="normal"&&!(t!=null&&t.endsWith("px"))&&s(`${e} was not resolved to pixel value correctly`,t,Fe.WARN),t==="normal"?0:parseInt(t??"0",10)}const pa=Kt({status:"idle"}),kd=Kt("random"),ga=Kt(new Set),va=Kt(""),Nd=Kt(()=>[...new Set(Ro.map(t=>t.location))].map(t=>({id:t,name:t})).sort((t,s)=>t.name.localeCompare(s.name))),Rd=(e,t)=>{if(!t)return e;const s=t.toLowerCase();return e.filter(o=>o.name.toLowerCase().includes(s))},Ed=Kt(e=>{const t=e(va),s=e(Nd),o=e(Eo),a=e(Ho);if(!o||!a)return[];const r=s.filter(l=>{const i=gr(l.name);return i?.groupId===a&&i?.unitId===o});return Rd(r,t)}),Hd="_wrapper_1hwna_5",Ad="_focused_1hwna_61",Md="_searchIcon_1hwna_103",Od="_clearButton_1hwna_149",Ld="_visuallyHidden_1hwna_159",sn={wrapper:Hd,focused:Ad,searchIcon:Md,clearButton:Od,visuallyHidden:Ld},xa=({value:e,onChange:t,placeholder:s,variant:o,autoFocus:a=!1})=>{const[r,l]=E.useState(!1),i=E.useRef(null),c=S.useId();E.useEffect(()=>{a&&i.current&&i.current.focus()},[a]);const d=`${sn.wrapper} ${r?sn.focused:""}`;return n.jsxs("div",{className:d,"data-variant":o,children:[n.jsx("label",{htmlFor:c,className:sn.visuallyHidden,children:s}),n.jsx("input",{ref:i,id:c,type:"text",placeholder:s,value:e,onChange:m=>t(m.target.value),onFocus:()=>l(!0),onBlur:()=>l(!1)}),o==="standalone"&&e&&n.jsx(me,{variant:"quaternary",size:"xs",iconOnly:!0,onClick:()=>t(""),"aria-label":"Clear search",className:sn.clearButton,children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})}),n.jsx("span",{className:`material-symbols-rounded ${sn.searchIcon}`,children:"search"})]})};function Bd(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const wa=S.createContext({drawerRef:{current:null},overlayRef:{current:null},onPress:()=>{},onRelease:()=>{},onDrag:()=>{},onNestedDrag:()=>{},onNestedOpenChange:()=>{},onNestedRelease:()=>{},openProp:void 0,dismissible:!1,isOpen:!1,isDragging:!1,keyboardIsOpen:{current:!1},snapPointsOffset:null,snapPoints:null,handleOnly:!1,modal:!1,shouldFade:!1,activeSnapPoint:null,onOpenChange:()=>{},setActiveSnapPoint:()=>{},closeDrawer:()=>{},direction:"bottom",shouldAnimate:{current:!0},shouldScaleBackground:!1,setBackgroundColorOnScale:!0,noBodyStyles:!1,container:null,autoFocus:!1}),_n=()=>{const e=S.useContext(wa);if(!e)throw new Error("useDrawerContext must be used within a Drawer.Root");return e};Bd(`[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}`);function Dd(){const e=navigator.userAgent;return typeof window<"u"&&(/Firefox/.test(e)&&/Mobile/.test(e)||/FxiOS/.test(e))}function zd(){return $s(/^Mac/)}function $d(){return $s(/^iPhone/)}function po(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}function Pd(){return $s(/^iPad/)||zd()&&navigator.maxTouchPoints>1}function ba(){return $d()||Pd()}function $s(e){return typeof window<"u"&&window.navigator!=null?e.test(window.navigator.platform):void 0}const Fd=24,Wd=typeof window<"u"?E.useLayoutEffect:E.useEffect;function go(...e){return(...t)=>{for(let s of e)typeof s=="function"&&s(...t)}}const os=typeof document<"u"&&window.visualViewport;function vo(e){let t=window.getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowX+t.overflowY)}function Ca(e){for(vo(e)&&(e=e.parentElement);e&&!vo(e);)e=e.parentElement;return e||document.scrollingElement||document.documentElement}const Vd=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);let Ln=0,as;function Gd(e={}){let{isDisabled:t}=e;Wd(()=>{if(!t)return Ln++,Ln===1&&ba()&&(as=qd()),()=>{Ln--,Ln===0&&as?.()}},[t])}function qd(){let e,t=0,s=h=>{e=Ca(h.target),!(e===document.documentElement&&e===document.body)&&(t=h.changedTouches[0].pageY)},o=h=>{if(!e||e===document.documentElement||e===document.body){h.preventDefault();return}let u=h.changedTouches[0].pageY,w=e.scrollTop,p=e.scrollHeight-e.clientHeight;p!==0&&((w<=0&&u>t||w>=p&&u<t)&&h.preventDefault(),t=u)},a=h=>{let u=h.target;vs(u)&&u!==document.activeElement&&(h.preventDefault(),u.style.transform="translateY(-2000px)",u.focus(),requestAnimationFrame(()=>{u.style.transform=""}))},r=h=>{let u=h.target;vs(u)&&(u.style.transform="translateY(-2000px)",requestAnimationFrame(()=>{u.style.transform="",os&&(os.height<window.innerHeight?requestAnimationFrame(()=>{xo(u)}):os.addEventListener("resize",()=>xo(u),{once:!0}))}))},l=()=>{window.scrollTo(0,0)},i=window.pageXOffset,c=window.pageYOffset,d=go(Ud(document.documentElement,"paddingRight",`${window.innerWidth-document.documentElement.clientWidth}px`));window.scrollTo(0,0);let m=go(on(document,"touchstart",s,{passive:!1,capture:!0}),on(document,"touchmove",o,{passive:!1,capture:!0}),on(document,"touchend",a,{passive:!1,capture:!0}),on(document,"focus",r,!0),on(window,"scroll",l));return()=>{d(),m(),window.scrollTo(i,c)}}function Ud(e,t,s){let o=e.style[t];return e.style[t]=s,()=>{e.style[t]=o}}function on(e,t,s,o){return e.addEventListener(t,s,o),()=>{e.removeEventListener(t,s,o)}}function xo(e){let t=document.scrollingElement||document.documentElement;for(;e&&e!==t;){let s=Ca(e);if(s!==document.documentElement&&s!==document.body&&s!==e){let o=s.getBoundingClientRect().top,a=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom;const l=s.getBoundingClientRect().bottom+Fd;r>l&&(s.scrollTop+=a-o)}e=s.parentElement}}function vs(e){return e instanceof HTMLInputElement&&!Vd.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable}function Xd(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function Yd(...e){return t=>e.forEach(s=>Xd(s,t))}function _a(...e){return E.useCallback(Yd(...e),e)}const ya=new WeakMap;function Re(e,t,s=!1){if(!e||!(e instanceof HTMLElement))return;let o={};Object.entries(t).forEach(([a,r])=>{if(a.startsWith("--")){e.style.setProperty(a,r);return}o[a]=e.style[a],e.style[a]=r}),!s&&ya.set(e,o)}function Kd(e,t){if(!e||!(e instanceof HTMLElement))return;let s=ya.get(e);s&&(e.style[t]=s[t])}const Ie=e=>{switch(e){case"top":case"bottom":return!0;case"left":case"right":return!1;default:return e}};function Bn(e,t){if(!e)return null;const s=window.getComputedStyle(e),o=s.transform||s.webkitTransform||s.mozTransform;let a=o.match(/^matrix3d\((.+)\)$/);return a?parseFloat(a[1].split(", ")[Ie(t)?13:12]):(a=o.match(/^matrix\((.+)\)$/),a?parseFloat(a[1].split(", ")[Ie(t)?5:4]):null)}function Qd(e){return 8*(Math.log(e+1)-2)}function rs(e,t){if(!e)return()=>{};const s=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=s}}function Jd(...e){return(...t)=>{for(const s of e)typeof s=="function"&&s(...t)}}const ve={DURATION:.5,EASE:[.32,.72,0,1]},Sa=.4,Zd=.25,em=100,ja=8,Bt=16,xs=26,is="vaul-dragging";function Ia(e){const t=S.useRef(e);return S.useEffect(()=>{t.current=e}),S.useMemo(()=>(...s)=>t.current==null?void 0:t.current.call(t,...s),[])}function tm({defaultProp:e,onChange:t}){const s=S.useState(e),[o]=s,a=S.useRef(o),r=Ia(t);return S.useEffect(()=>{a.current!==o&&(r(o),a.current=o)},[o,a,r]),s}function Ta({prop:e,defaultProp:t,onChange:s=()=>{}}){const[o,a]=tm({defaultProp:t,onChange:s}),r=e!==void 0,l=r?e:o,i=Ia(s),c=S.useCallback(d=>{if(r){const h=typeof d=="function"?d(e):d;h!==e&&i(h)}else a(d)},[r,e,a,i]);return[l,c]}function nm({activeSnapPointProp:e,setActiveSnapPointProp:t,snapPoints:s,drawerRef:o,overlayRef:a,fadeFromIndex:r,onSnapPointChange:l,direction:i="bottom",container:c,snapToSequentialPoint:d}){const[m,h]=Ta({prop:e,defaultProp:s?.[0],onChange:t}),[u,w]=S.useState(typeof window<"u"?{innerWidth:window.innerWidth,innerHeight:window.innerHeight}:void 0);S.useEffect(()=>{function C(){w({innerWidth:window.innerWidth,innerHeight:window.innerHeight})}return window.addEventListener("resize",C),()=>window.removeEventListener("resize",C)},[]);const p=S.useMemo(()=>m===s?.[s.length-1]||null,[s,m]),v=S.useMemo(()=>{var C;return(C=s?.findIndex(j=>j===m))!=null?C:null},[s,m]),x=s&&s.length>0&&(r||r===0)&&!Number.isNaN(r)&&s[r]===m||!s,f=S.useMemo(()=>{const C=c?{width:c.getBoundingClientRect().width,height:c.getBoundingClientRect().height}:typeof window<"u"?{width:window.innerWidth,height:window.innerHeight}:{width:0,height:0};var j;return(j=s?.map(k=>{const A=typeof k=="string";let M=0;if(A&&(M=parseInt(k,10)),Ie(i)){const L=A?M:u?k*C.height:0;return u?i==="bottom"?C.height-L:-C.height+L:L}const z=A?M:u?k*C.width:0;return u?i==="right"?C.width-z:-C.width+z:z}))!=null?j:[]},[s,u,c]),g=S.useMemo(()=>v!==null?f?.[v]:null,[f,v]),I=S.useCallback(C=>{var j;const k=(j=f?.findIndex(A=>A===C))!=null?j:null;l(k),Re(o.current,{transition:`transform ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,transform:Ie(i)?`translate3d(0, ${C}px, 0)`:`translate3d(${C}px, 0, 0)`}),f&&k!==f.length-1&&r!==void 0&&k!==r&&k<r?Re(a.current,{transition:`opacity ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,opacity:"0"}):Re(a.current,{transition:`opacity ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,opacity:"1"}),h(s?.[Math.max(k,0)])},[o.current,s,f,r,a,h]);S.useEffect(()=>{if(m||e){var C;const j=(C=s?.findIndex(k=>k===e||k===m))!=null?C:-1;f&&j!==-1&&typeof f[j]=="number"&&I(f[j])}},[m,e,s,f,I]);function y({draggedDistance:C,closeDrawer:j,velocity:k,dismissible:A}){if(r===void 0)return;const M=i==="bottom"||i==="right"?(g??0)-C:(g??0)+C,z=v===r-1,L=v===0,R=C>0;if(z&&Re(a.current,{transition:`opacity ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`}),!d&&k>2&&!R){A?j():I(f[0]);return}if(!d&&k>2&&R&&f&&s){I(f[s.length-1]);return}const D=f?.reduce((X,oe)=>typeof X!="number"||typeof oe!="number"?X:Math.abs(oe-M)<Math.abs(X-M)?oe:X),Q=Ie(i)?window.innerHeight:window.innerWidth;if(k>Sa&&Math.abs(C)<Q*.4){const X=R?1:-1;if(X>0&&p&&s){I(f[s.length-1]);return}if(L&&X<0&&A&&j(),v===null)return;I(f[v+X]);return}I(D)}function b({draggedDistance:C}){if(g===null)return;const j=i==="bottom"||i==="right"?g-C:g+C;(i==="bottom"||i==="right")&&j<f[f.length-1]||(i==="top"||i==="left")&&j>f[f.length-1]||Re(o.current,{transform:Ie(i)?`translate3d(0, ${j}px, 0)`:`translate3d(${j}px, 0, 0)`})}function _(C,j){if(!s||typeof v!="number"||!f||r===void 0)return null;const k=v===r-1;if(v>=r&&j)return 0;if(k&&!j)return 1;if(!x&&!k)return null;const M=k?v+1:v-1,z=k?f[M]-f[M-1]:f[M+1]-f[M],L=C/Math.abs(z);return k?1-L:L}return{isLastSnapPoint:p,activeSnapPoint:m,shouldFade:x,getPercentageDragged:_,setActiveSnapPoint:h,activeSnapPointIndex:v,onRelease:y,onDrag:b,snapPointsOffset:f}}const sm=()=>()=>{};function om(){const{direction:e,isOpen:t,shouldScaleBackground:s,setBackgroundColorOnScale:o,noBodyStyles:a}=_n(),r=S.useRef(null),l=E.useMemo(()=>document.body.style.backgroundColor,[]);function i(){return(window.innerWidth-xs)/window.innerWidth}S.useEffect(()=>{if(t&&s){r.current&&clearTimeout(r.current);const c=document.querySelector("[data-vaul-drawer-wrapper]")||document.querySelector("[vaul-drawer-wrapper]");if(!c)return;Jd(o&&!a?rs(document.body,{background:"black"}):sm,rs(c,{transformOrigin:Ie(e)?"top":"left",transitionProperty:"transform, border-radius",transitionDuration:`${ve.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ve.EASE.join(",")})`}));const d=rs(c,{borderRadius:`${ja}px`,overflow:"hidden",...Ie(e)?{transform:`scale(${i()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`}:{transform:`scale(${i()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`}});return()=>{d(),r.current=window.setTimeout(()=>{l?document.body.style.background=l:document.body.style.removeProperty("background")},ve.DURATION*1e3)}}},[t,s,l])}let an=null;function am({isOpen:e,modal:t,nested:s,hasBeenOpened:o,preventScrollRestoration:a,noBodyStyles:r}){const[l,i]=S.useState(()=>typeof window<"u"?window.location.href:""),c=S.useRef(0),d=S.useCallback(()=>{if(po()&&an===null&&e&&!r){an={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left,height:document.body.style.height,right:"unset"};const{scrollX:h,innerHeight:u}=window;document.body.style.setProperty("position","fixed","important"),Object.assign(document.body.style,{top:`${-c.current}px`,left:`${-h}px`,right:"0px",height:"auto"}),window.setTimeout(()=>window.requestAnimationFrame(()=>{const w=u-window.innerHeight;w&&c.current>=u&&(document.body.style.top=`${-(c.current+w)}px`)}),300)}},[e]),m=S.useCallback(()=>{if(po()&&an!==null&&!r){const h=-parseInt(document.body.style.top,10),u=-parseInt(document.body.style.left,10);Object.assign(document.body.style,an),window.requestAnimationFrame(()=>{if(a&&l!==window.location.href){i(window.location.href);return}window.scrollTo(u,h)}),an=null}},[l]);return S.useEffect(()=>{function h(){c.current=window.scrollY}return h(),window.addEventListener("scroll",h),()=>{window.removeEventListener("scroll",h)}},[]),S.useEffect(()=>{if(t)return()=>{typeof document>"u"||document.querySelector("[data-vaul-drawer]")||m()}},[t,m]),S.useEffect(()=>{s||!o||(e?(!window.matchMedia("(display-mode: standalone)").matches&&d(),t||window.setTimeout(()=>{m()},500)):m())},[e,o,l,t,s,d,m]),{restorePositionSetting:m}}function rm({open:e,onOpenChange:t,children:s,onDrag:o,onRelease:a,snapPoints:r,shouldScaleBackground:l=!1,setBackgroundColorOnScale:i=!0,closeThreshold:c=Zd,scrollLockTimeout:d=em,dismissible:m=!0,handleOnly:h=!1,fadeFromIndex:u=r&&r.length-1,activeSnapPoint:w,setActiveSnapPoint:p,fixed:v,modal:x=!0,onClose:f,nested:g,noBodyStyles:I=!1,direction:y="bottom",defaultOpen:b=!1,disablePreventScroll:_=!0,snapToSequentialPoint:C=!1,preventScrollRestoration:j=!1,repositionInputs:k=!0,onAnimationEnd:A,container:M,autoFocus:z=!1}){var L,R;const[D=!1,Q]=Ta({defaultProp:b,prop:e,onChange:q=>{t?.(q),!q&&!g&&jn(),setTimeout(()=>{A?.(q)},ve.DURATION*1e3),q&&!x&&typeof window<"u"&&window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"}),q||(document.body.style.pointerEvents="auto")}}),[X,oe]=S.useState(!1),[ge,we]=S.useState(!1),[ke,Xe]=S.useState(!1),Se=S.useRef(null),We=S.useRef(null),Ye=S.useRef(null),Be=S.useRef(null),P=S.useRef(null),T=S.useRef(!1),F=S.useRef(null),ae=S.useRef(0),le=S.useRef(!1),ce=S.useRef(!b),Ke=S.useRef(0),V=S.useRef(null),gt=S.useRef(((L=V.current)==null?void 0:L.getBoundingClientRect().height)||0),Rt=S.useRef(((R=V.current)==null?void 0:R.getBoundingClientRect().width)||0),Qe=S.useRef(0),it=S.useCallback(q=>{r&&q===lt.length-1&&(We.current=new Date)},[]),{activeSnapPoint:Et,activeSnapPointIndex:nt,setActiveSnapPoint:qt,onRelease:yn,snapPointsOffset:lt,onDrag:bt,shouldFade:ct,getPercentageDragged:Sn}=nm({snapPoints:r,activeSnapPointProp:w,setActiveSnapPointProp:p,drawerRef:V,fadeFromIndex:u,overlayRef:Se,onSnapPointChange:it,direction:y,container:M,snapToSequentialPoint:C});Gd({isDisabled:!D||ge||!x||ke||!X||!k||!_});const{restorePositionSetting:jn}=am({isOpen:D,modal:x,nested:g??!1,hasBeenOpened:X,preventScrollRestoration:j,noBodyStyles:I});function Ht(){return(window.innerWidth-xs)/window.innerWidth}function In(q){var ie,de;!m&&!r||V.current&&!V.current.contains(q.target)||(gt.current=((ie=V.current)==null?void 0:ie.getBoundingClientRect().height)||0,Rt.current=((de=V.current)==null?void 0:de.getBoundingClientRect().width)||0,we(!0),Ye.current=new Date,ba()&&window.addEventListener("touchend",()=>T.current=!1,{once:!0}),q.target.setPointerCapture(q.pointerId),ae.current=Ie(y)?q.pageY:q.pageX)}function Tn(q,ie){var de;let te=q;const _e=(de=window.getSelection())==null?void 0:de.toString(),$e=V.current?Bn(V.current,y):null,De=new Date;if(te.tagName==="SELECT"||te.hasAttribute("data-vaul-no-drag")||te.closest("[data-vaul-no-drag]"))return!1;if(y==="right"||y==="left")return!0;if(We.current&&De.getTime()-We.current.getTime()<500)return!1;if($e!==null&&(y==="bottom"?$e>0:$e<0))return!0;if(_e&&_e.length>0)return!1;if(P.current&&De.getTime()-P.current.getTime()<d&&$e===0||ie)return P.current=De,!1;for(;te;){if(te.scrollHeight>te.clientHeight){if(te.scrollTop!==0)return P.current=new Date,!1;if(te.getAttribute("role")==="dialog")return!0}te=te.parentNode}return!0}function kn(q){if(V.current&&ge){const ie=y==="bottom"||y==="right"?1:-1,de=(ae.current-(Ie(y)?q.pageY:q.pageX))*ie,te=de>0,_e=r&&!m&&!te;if(_e&&nt===0)return;const $e=Math.abs(de),De=document.querySelector("[data-vaul-drawer-wrapper]"),Ct=y==="bottom"||y==="top"?gt.current:Rt.current;let st=$e/Ct;const Mt=Sn($e,te);if(Mt!==null&&(st=Mt),_e&&st>=1||!T.current&&!Tn(q.target,te))return;if(V.current.classList.add(is),T.current=!0,Re(V.current,{transition:"none"}),Re(Se.current,{transition:"none"}),r&&bt({draggedDistance:de}),te&&!r){const ut=Qd(de),Nn=Math.min(ut*-1,0)*ie;Re(V.current,{transform:Ie(y)?`translate3d(0, ${Nn}px, 0)`:`translate3d(${Nn}px, 0, 0)`});return}const _t=1-st;if((ct||u&&nt===u-1)&&(o?.(q,st),Re(Se.current,{opacity:`${_t}`,transition:"none"},!0)),De&&Se.current&&l){const ut=Math.min(Ht()+st*(1-Ht()),1),Nn=8-st*8,Fs=Math.max(0,14-st*14);Re(De,{borderRadius:`${Nn}px`,transform:Ie(y)?`scale(${ut}) translate3d(0, ${Fs}px, 0)`:`scale(${ut}) translate3d(${Fs}px, 0, 0)`,transition:"none"},!0)}if(!r){const ut=$e*ie;Re(V.current,{transform:Ie(y)?`translate3d(0, ${ut}px, 0)`:`translate3d(${ut}px, 0, 0)`})}}}S.useEffect(()=>{window.requestAnimationFrame(()=>{ce.current=!0})},[]),S.useEffect(()=>{var q;function ie(){if(!V.current||!k)return;const de=document.activeElement;if(vs(de)||le.current){var te;const _e=((te=window.visualViewport)==null?void 0:te.height)||0,$e=window.innerHeight;let De=$e-_e;const Ct=V.current.getBoundingClientRect().height||0,st=Ct>$e*.8;Qe.current||(Qe.current=Ct);const Mt=V.current.getBoundingClientRect().top;if(Math.abs(Ke.current-De)>60&&(le.current=!le.current),r&&r.length>0&&lt&&nt){const _t=lt[nt]||0;De+=_t}if(Ke.current=De,Ct>_e||le.current){const _t=V.current.getBoundingClientRect().height;let ut=_t;_t>_e&&(ut=_e-(st?Mt:xs)),v?V.current.style.height=`${_t-Math.max(De,0)}px`:V.current.style.height=`${Math.max(ut,_e-Mt)}px`}else Dd()||(V.current.style.height=`${Qe.current}px`);r&&r.length>0&&!le.current?V.current.style.bottom="0px":V.current.style.bottom=`${Math.max(De,0)}px`}}return(q=window.visualViewport)==null||q.addEventListener("resize",ie),()=>{var de;return(de=window.visualViewport)==null?void 0:de.removeEventListener("resize",ie)}},[nt,r,lt]);function At(q){Ha(),f?.(),q||Q(!1),setTimeout(()=>{r&&qt(r[0])},ve.DURATION*1e3)}function Ps(){if(!V.current)return;const q=document.querySelector("[data-vaul-drawer-wrapper]"),ie=Bn(V.current,y);Re(V.current,{transform:"translate3d(0, 0, 0)",transition:`transform ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`}),Re(Se.current,{transition:`opacity ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,opacity:"1"}),l&&ie&&ie>0&&D&&Re(q,{borderRadius:`${ja}px`,overflow:"hidden",...Ie(y)?{transform:`scale(${Ht()}) translate3d(0, calc(env(safe-area-inset-top) + 14px), 0)`,transformOrigin:"top"}:{transform:`scale(${Ht()}) translate3d(calc(env(safe-area-inset-top) + 14px), 0, 0)`,transformOrigin:"left"},transitionProperty:"transform, border-radius",transitionDuration:`${ve.DURATION}s`,transitionTimingFunction:`cubic-bezier(${ve.EASE.join(",")})`},!0)}function Ha(){!ge||!V.current||(V.current.classList.remove(is),T.current=!1,we(!1),Be.current=new Date)}function Aa(q){if(!ge||!V.current)return;V.current.classList.remove(is),T.current=!1,we(!1),Be.current=new Date;const ie=Bn(V.current,y);if(!q||!Tn(q.target,!1)||!ie||Number.isNaN(ie)||Ye.current===null)return;const de=Be.current.getTime()-Ye.current.getTime(),te=ae.current-(Ie(y)?q.pageY:q.pageX),_e=Math.abs(te)/de;if(_e>.05&&(Xe(!0),setTimeout(()=>{Xe(!1)},200)),r){yn({draggedDistance:te*(y==="bottom"||y==="right"?1:-1),closeDrawer:At,velocity:_e,dismissible:m}),a?.(q,!0);return}if(y==="bottom"||y==="right"?te>0:te<0){Ps(),a?.(q,!0);return}if(_e>Sa){At(),a?.(q,!1);return}var $e;const De=Math.min(($e=V.current.getBoundingClientRect().height)!=null?$e:0,window.innerHeight);var Ct;const st=Math.min((Ct=V.current.getBoundingClientRect().width)!=null?Ct:0,window.innerWidth),Mt=y==="left"||y==="right";if(Math.abs(ie)>=(Mt?st:De)*c){At(),a?.(q,!1);return}a?.(q,!0),Ps()}S.useEffect(()=>(D&&(Re(document.documentElement,{scrollBehavior:"auto"}),We.current=new Date),()=>{Kd(document.documentElement,"scrollBehavior")}),[D]);function Ma(q){const ie=q?(window.innerWidth-Bt)/window.innerWidth:1,de=q?-Bt:0;F.current&&window.clearTimeout(F.current),Re(V.current,{transition:`transform ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,transform:Ie(y)?`scale(${ie}) translate3d(0, ${de}px, 0)`:`scale(${ie}) translate3d(${de}px, 0, 0)`}),!q&&V.current&&(F.current=setTimeout(()=>{const te=Bn(V.current,y);Re(V.current,{transition:"none",transform:Ie(y)?`translate3d(0, ${te}px, 0)`:`translate3d(${te}px, 0, 0)`})},500))}function Oa(q,ie){if(ie<0)return;const de=(window.innerWidth-Bt)/window.innerWidth,te=de+ie*(1-de),_e=-Bt+ie*Bt;Re(V.current,{transform:Ie(y)?`scale(${te}) translate3d(0, ${_e}px, 0)`:`scale(${te}) translate3d(${_e}px, 0, 0)`,transition:"none"})}function La(q,ie){const de=Ie(y)?window.innerHeight:window.innerWidth,te=ie?(de-Bt)/de:1,_e=ie?-Bt:0;ie&&Re(V.current,{transition:`transform ${ve.DURATION}s cubic-bezier(${ve.EASE.join(",")})`,transform:Ie(y)?`scale(${te}) translate3d(0, ${_e}px, 0)`:`scale(${te}) translate3d(${_e}px, 0, 0)`})}return S.useEffect(()=>{x||window.requestAnimationFrame(()=>{document.body.style.pointerEvents="auto"})},[x]),S.createElement(Ka,{defaultOpen:b,onOpenChange:q=>{!m&&!q||(q?oe(!0):At(!0),Q(q))},open:D},S.createElement(wa.Provider,{value:{activeSnapPoint:Et,snapPoints:r,setActiveSnapPoint:qt,drawerRef:V,overlayRef:Se,onOpenChange:t,onPress:In,onRelease:Aa,onDrag:kn,dismissible:m,shouldAnimate:ce,handleOnly:h,isOpen:D,isDragging:ge,shouldFade:ct,closeDrawer:At,onNestedDrag:Oa,onNestedOpenChange:Ma,onNestedRelease:La,keyboardIsOpen:le,modal:x,snapPointsOffset:lt,activeSnapPointIndex:nt,direction:y,shouldScaleBackground:l,setBackgroundColorOnScale:i,noBodyStyles:I,container:M,autoFocus:z}},s))}const ka=S.forwardRef(function({...e},t){const{overlayRef:s,snapPoints:o,onRelease:a,shouldFade:r,isOpen:l,modal:i,shouldAnimate:c}=_n(),d=_a(t,s),m=o&&o.length>0;if(!i)return null;const h=S.useCallback(u=>a(u),[a]);return S.createElement(Ja,{onMouseUp:h,ref:d,"data-vaul-overlay":"","data-vaul-snap-points":l&&m?"true":"false","data-vaul-snap-points-overlay":l&&r?"true":"false","data-vaul-animate":c?.current?"true":"false",...e})});ka.displayName="Drawer.Overlay";const Na=S.forwardRef(function({onPointerDownOutside:e,style:t,onOpenAutoFocus:s,...o},a){const{drawerRef:r,onPress:l,onRelease:i,onDrag:c,keyboardIsOpen:d,snapPointsOffset:m,activeSnapPointIndex:h,modal:u,isOpen:w,direction:p,snapPoints:v,container:x,handleOnly:f,shouldAnimate:g,autoFocus:I}=_n(),[y,b]=S.useState(!1),_=_a(a,r),C=S.useRef(null),j=S.useRef(null),k=S.useRef(!1),A=v&&v.length>0;om();const M=(L,R,D=0)=>{if(k.current)return!0;const Q=Math.abs(L.y),X=Math.abs(L.x),oe=X>Q,ge=["bottom","right"].includes(R)?1:-1;if(R==="left"||R==="right"){if(!(L.x*ge<0)&&X>=0&&X<=D)return oe}else if(!(L.y*ge<0)&&Q>=0&&Q<=D)return!oe;return k.current=!0,!0};S.useEffect(()=>{A&&window.requestAnimationFrame(()=>{b(!0)})},[]);function z(L){C.current=null,k.current=!1,i(L)}return S.createElement(Za,{"data-vaul-drawer-direction":p,"data-vaul-drawer":"","data-vaul-delayed-snap-points":y?"true":"false","data-vaul-snap-points":w&&A?"true":"false","data-vaul-custom-container":x?"true":"false","data-vaul-animate":g?.current?"true":"false",...o,ref:_,style:m&&m.length>0?{"--snap-point-height":`${m[h??0]}px`,...t}:t,onPointerDown:L=>{f||(o.onPointerDown==null||o.onPointerDown.call(o,L),C.current={x:L.pageX,y:L.pageY},l(L))},onOpenAutoFocus:L=>{s?.(L),I||L.preventDefault()},onPointerDownOutside:L=>{if(e?.(L),!u||L.defaultPrevented){L.preventDefault();return}d.current&&(d.current=!1)},onFocusOutside:L=>{if(!u){L.preventDefault();return}},onPointerMove:L=>{if(j.current=L,f||(o.onPointerMove==null||o.onPointerMove.call(o,L),!C.current))return;const R=L.pageY-C.current.y,D=L.pageX-C.current.x,Q=L.pointerType==="touch"?10:2;M({x:D,y:R},p,Q)?c(L):(Math.abs(D)>Q||Math.abs(R)>Q)&&(C.current=null)},onPointerUp:L=>{o.onPointerUp==null||o.onPointerUp.call(o,L),C.current=null,k.current=!1,i(L)},onPointerOut:L=>{o.onPointerOut==null||o.onPointerOut.call(o,L),z(j.current)},onContextMenu:L=>{o.onContextMenu==null||o.onContextMenu.call(o,L),j.current&&z(j.current)}})});Na.displayName="Drawer.Content";const im=250,lm=120,cm=S.forwardRef(function({preventCycle:e=!1,children:t,...s},o){const{closeDrawer:a,isDragging:r,snapPoints:l,activeSnapPoint:i,setActiveSnapPoint:c,dismissible:d,handleOnly:m,isOpen:h,onPress:u,onDrag:w}=_n(),p=S.useRef(null),v=S.useRef(!1);function x(){if(v.current){I();return}window.setTimeout(()=>{f()},lm)}function f(){if(r||e||v.current){I();return}if(I(),!l||l.length===0){d||a();return}if(i===l[l.length-1]&&d){a();return}const b=l.findIndex(C=>C===i);if(b===-1)return;const _=l[b+1];c(_)}function g(){p.current=window.setTimeout(()=>{v.current=!0},im)}function I(){p.current&&window.clearTimeout(p.current),v.current=!1}return S.createElement("div",{onClick:x,onPointerCancel:I,onPointerDown:y=>{m&&u(y),g()},onPointerMove:y=>{m&&w(y)},ref:o,"data-vaul-drawer-visible":h?"true":"false","data-vaul-handle":"","aria-hidden":"true",...s},S.createElement("span",{"data-vaul-handle-hitarea":"","aria-hidden":"true"},t))});cm.displayName="Drawer.Handle";function um(e){const t=_n(),{container:s=t.container,...o}=e;return S.createElement(Qa,{container:s,...o})}const yt={Root:rm,Content:Na,Overlay:ka,Portal:um},dm="_overlay_1tcxf_7",mm="_contentWrapper_1tcxf_25",hm="_content_1tcxf_25",fm="_handleContainer_1tcxf_83",pm="_handle_1tcxf_83",gm="_iconContainer_1tcxf_115",vm="_nfcIcon_1tcxf_133",xm="_title_1tcxf_183",wm="_description_1tcxf_197",bm="_buttonGroup_1tcxf_213",Cm="_cancelButton_1tcxf_229",_m="_actionButton_1tcxf_239",ym="_devToolsContainer_1tcxf_249",Sm="_devToolsLabel_1tcxf_269",jm="_devButtons_1tcxf_287",Me={overlay:dm,contentWrapper:mm,content:hm,handleContainer:fm,handle:pm,iconContainer:gm,nfcIcon:vm,title:xm,description:wm,buttonGroup:bm,cancelButton:Cm,actionButton:_m,devToolsContainer:ym,devToolsLabel:Sm,devButtons:jm},Im=()=>{const[e,t]=ne(pa),s=Z(ga),[o]=ne(kd),{trigger:a}=Ue(),[r,l]=E.useState(!1);E.useEffect(()=>{e.status!=="idle"&&e.status!=="selecting"?l(!0):l(!1)},[e.status]);const i=h=>{l(h),h||setTimeout(()=>{e.status!=="idle"&&t({status:"idle"})},300)},c=h=>{a("light"),t(u=>u.status==="ready"||u.status==="error"?{status:"writing",roomId:u.roomId,roomName:u.roomName}:u),setTimeout(()=>{if(h==="success"){if("roomId"in e){const{roomId:u,roomName:w}=e;t({status:"success",roomId:u,roomName:w}),s(p=>new Set(p).add(u)),a("success")}}else if(h==="net-error"){if("roomId"in e){const{roomId:u,roomName:w}=e;t({status:"error",roomId:u,roomName:w,error:{code:"WRITE_FAILED",message:"Network connection lost"}}),a("error")}}else if(h==="locked-error"&&"roomId"in e){const{roomId:u,roomName:w}=e;t({status:"error",roomId:u,roomName:w,error:{code:"TAG_LOCKED",message:"Tag is write-locked"}}),a("error")}},500)};if(E.useEffect(()=>{let h;return e.status==="writing"&&(h=setTimeout(()=>{const u=o==="forceSuccess"||o==="random"&&Math.random()>.2;if("roomId"in e){const{roomId:w,roomName:p}=e;u?(t({status:"success",roomId:w,roomName:p}),s(v=>new Set(v).add(w)),a("success")):(t({status:"error",roomId:w,roomName:p,error:{code:"WRITE_FAILED",message:"Tag connection lost"}}),a("error"))}},2e3)),e.status==="success"&&(h=setTimeout(()=>{l(!1),t({status:"idle"})},1500)),()=>clearTimeout(h)},[e,o,t,s,a]),e.status==="idle"||e.status==="selecting")return null;const m=(()=>{switch(e.status){case"ready":return{icon:"nfc",title:"Ready to Write",desc:`Hold device near tag to provision ${"roomName"in e?e.roomName:"room"}.`};case"writing":return{icon:"nfc",title:"Writing...",desc:"Keep device steady."};case"success":return{icon:"check_circle",title:"Success",desc:"Tag written successfully."};case"error":return{icon:"error",title:"Write Failed",desc:"error"in e?e.error.message:"Unknown error"};default:return{icon:"nfc",title:"",desc:""}}})();return n.jsx(yt.Root,{open:r,onOpenChange:i,dismissible:e.status!=="writing",children:n.jsxs(yt.Portal,{children:[n.jsx(yt.Overlay,{className:Me.overlay}),n.jsx(yt.Content,{className:Me.contentWrapper,children:n.jsxs("div",{className:Me.content,children:[n.jsx("div",{className:Me.handleContainer,children:n.jsx("div",{className:Me.handle})}),n.jsx("div",{className:Me.iconContainer,children:n.jsx("span",{className:`material-symbols-rounded ${Me.nfcIcon}`,"data-state":e.status,children:m.icon})}),n.jsx("h3",{className:Me.title,children:m.title}),n.jsx("p",{className:Me.description,children:m.desc}),e.status==="error"&&n.jsxs("div",{className:Me.buttonGroup,children:[n.jsx(me,{variant:"primary",onClick:()=>t({status:"writing",roomId:e.roomId,roomName:e.roomName}),className:Me.actionButton,children:"Retry"}),n.jsx(me,{variant:"secondary",onClick:()=>l(!1),className:Me.actionButton,children:"Cancel"})]}),e.status==="ready"&&n.jsx("div",{className:Me.buttonGroup,children:n.jsx(me,{variant:"secondary",onClick:()=>l(!1),className:Me.cancelButton,children:"Cancel"})}),e.status==="ready"&&n.jsxs("div",{className:Me.devToolsContainer,children:[n.jsx("span",{className:Me.devToolsLabel,children:"Developer Controls"}),n.jsxs("div",{className:Me.devButtons,children:[n.jsx(me,{variant:"tertiary",size:"s",onClick:()=>c("success"),children:"Success"}),n.jsx(me,{variant:"tertiary",size:"s",onClick:()=>c("net-error"),children:"Net Error"}),n.jsx(me,{variant:"tertiary",size:"s",onClick:()=>c("locked-error"),children:"Locked"})]})]})]})})]})})},Tm="_viewContainer_zbx4a_5",km="_header_zbx4a_29",Nm="_controlsHeader_zbx4a_75",Rm="_listContainer_zbx4a_103",Dn={viewContainer:Tm,header:km,controlsHeader:Nm,listContainer:Rm},Em=()=>{const e=Z(It),t=Z(pa),s=Z(ga),o=Z(bs),[a,r]=ne(va),l=W(Ed),i=W(Cs),c=W(_s),[d,m]=ne(Ho),[h,u]=ne(Eo);E.useEffect(()=>{m(i),u(c)},[i,c,m,u]),E.useEffect(()=>()=>{r(""),s(new Set),m(null),u(null),t({status:"idle"})},[r,s,m,u,t]);const w=()=>{e({view:"none"})},p=(v,x)=>{t({status:"ready",roomId:v,roomName:x})};return n.jsxs(xe.div,{className:Dn.viewContainer,initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]},children:[n.jsxs("header",{className:Dn.header,children:[n.jsx("h3",{children:"Write NFC tags"}),n.jsx(me,{variant:"tertiary",size:"lg",iconOnly:!0,onClick:w,"aria-label":"Close",children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})})]}),n.jsxs("div",{className:Dn.controlsHeader,children:[n.jsx(Mo,{groupId:d,unitId:h,onClick:()=>o(!0)}),n.jsx(xa,{variant:"standalone",placeholder:"Search for a room...",value:a,onChange:r})]}),n.jsx("main",{className:Dn.listContainer,children:l.length>0?n.jsx(md,{data:l,itemContent:(v,x)=>n.jsx(xt,{label:x.name,onClick:()=>p(x.id,x.name)},x.id)}):n.jsx(us,{title:"No Rooms Found",message:"Select a facility group and unit to see a list of rooms to provision."})}),n.jsx(Im,{})]})},Hm="_overlay_1kbxu_5",Am="_contentWrapper_1kbxu_19",Mm="_content_1kbxu_19",Om="_handleContainer_1kbxu_67",Lm="_handle_1kbxu_67",Bm="_sheetHeader_1kbxu_105",Dm="_sheetTitle_1kbxu_127",zm="_searchContainer_1kbxu_143",$m="_listContainer_1kbxu_163",Pm="_listContent_1kbxu_177",Fm="_sectionHeader_1kbxu_201",ot={overlay:Hm,contentWrapper:Am,content:Mm,handleContainer:Om,handle:Lm,sheetHeader:Bm,sheetTitle:Dm,searchContainer:zm,listContainer:$m,listContent:Pm,sectionHeader:Fm},Wm=()=>{const[e,t]=ne(vr),[s,o]=ne(xr),[a,r]=ne(wr),l=W(br),i=W(Cr),c=Z(It),d=u=>{t(u),u||setTimeout(()=>{o(""),r(!1)},300)},m=u=>{t(!1),setTimeout(()=>{c({view:"form",type:"scheduled",method:"manual",checkId:u.id,roomName:u.residents[0]?.location||"Unknown Room",residents:u.residents,specialClassifications:u.specialClassifications})},300)},h=(u,w)=>{const p=new Set(w?.map(v=>v.residentId));return n.jsx("span",{style:{display:"flex",flexWrap:"wrap",gap:"var(--spacing-1)",alignItems:"center"},children:u.map((v,x)=>n.jsxs("span",{style:{display:"inline-flex",alignItems:"center",color:"inherit"},children:[p.has(v.id)&&n.jsx("span",{className:"material-symbols-rounded",style:{marginRight:"var(--spacing-0p5)",fontVariationSettings:"'FILL' 1",color:"var(--surface-fg-primary)"},children:"warning"}),v.name,x<u.length-1?",":""]},v.id))})};return n.jsx(yt.Root,{open:e,onOpenChange:d,children:n.jsxs(yt.Portal,{children:[n.jsx(yt.Overlay,{className:ot.overlay}),n.jsx(yt.Content,{className:ot.contentWrapper,children:n.jsxs("div",{className:ot.content,children:[n.jsx("div",{className:ot.handleContainer,children:n.jsx("div",{className:ot.handle})}),n.jsxs("div",{className:ot.sheetHeader,children:[n.jsx("h3",{className:ot.sheetTitle,children:"Add Manual Check"}),n.jsx(me,{variant:"tertiary",size:"lg",iconOnly:!0,onClick:()=>t(!1),children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})})]}),n.jsx("div",{className:ot.searchContainer,children:n.jsx(xa,{placeholder:"Search room or resident...",value:s,onChange:o,variant:"standalone"})}),n.jsx("div",{className:ot.listContainer,children:n.jsx("div",{className:ot.listContent,children:l.length>0?n.jsxs(n.Fragment,{children:[s&&n.jsx("div",{className:ot.sectionHeader,children:"Matching Results"}),l.map(u=>n.jsx(xt,{label:u.residents[0]?.location||"Unknown Room",subLabel:h(u.residents,u.specialClassifications),onClick:()=>m(u)},u.id))]}):n.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"var(--spacing-8) 0",textAlign:"center",color:"var(--surface-fg-secondary)"},children:[n.jsx("span",{className:"material-symbols-rounded",style:{marginBottom:"var(--spacing-2)",opacity:.5},children:"search_off"}),n.jsx("p",{children:"No rooms found."}),!a&&s&&n.jsx("div",{style:{marginTop:"var(--spacing-4)"},children:n.jsxs(me,{variant:"secondary",size:"s",onClick:()=>r(!0),children:["Search All Facilities (",i.count,")"]})})]})})})]})})]})})},Vm="_modalWrapper_mzk0i_5",Gm="_backdrop_mzk0i_21",qm="_modalContainer_mzk0i_33",Um="_header_mzk0i_57",Xm="_rightActionContainer_mzk0i_301",Ym="_content_mzk0i_325",Ut={modalWrapper:Vm,backdrop:Gm,modalContainer:qm,header:Um,rightActionContainer:Xm,content:Ym},Km={hidden:e=>({x:e==="slide-horizontal"?"100%":0,y:e==="slide-vertical"?"100%":0}),visible:{x:0,y:0},exit:({type:e,direction:t})=>e==="slide-horizontal"&&t?{x:t==="left"?"-100%":"100%",transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]}}:{x:e==="slide-horizontal"?"100%":0,y:e==="slide-vertical"?"100%":0,transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]}}},ln=({isOpen:e,onClose:t,title:s,children:o,actionType:a="back",leftIcon:r="arrow_back",rightAction:l,transitionType:i="slide-horizontal",exitDirection:c})=>n.jsx(St,{custom:{type:i,direction:c},children:e&&n.jsxs(xe.div,{className:Ut.modalWrapper,custom:{type:i,direction:c},variants:Km,initial:"hidden",animate:"visible",exit:"exit",transition:{type:"tween",duration:.35,ease:[.16,1,.3,1]},children:[n.jsx("div",{className:Ut.backdrop}),n.jsxs("div",{className:Ut.modalContainer,children:[n.jsxs("header",{className:Ut.header,children:[a==="back"?n.jsx(me,{variant:"tertiary",size:"lg",iconOnly:!0,onClick:t,"aria-label":"Back",children:n.jsx("span",{className:"material-symbols-rounded",children:r})}):null,n.jsx("h2",{style:{marginLeft:a==="close"?"8px":"0"},children:s}),n.jsx("div",{className:Ut.rightActionContainer,children:l||(a==="close"?n.jsx(me,{variant:"tertiary",size:"lg",iconOnly:!0,onClick:t,"aria-label":"Close",children:n.jsx("span",{className:"material-symbols-rounded",children:"close"})}):null)})]}),n.jsx("main",{className:Ut.content,children:o})]})]})}),Qm="_switchRoot_u1li9_5",Jm="_switchThumb_u1li9_83",wo={switchRoot:Qm,switchThumb:Jm},Ce=({checked:e,onCheckedChange:t,disabled:s,id:o})=>n.jsx(er,{className:wo.switchRoot,checked:e,onCheckedChange:t,disabled:s,id:o,children:n.jsx(tr,{className:wo.switchThumb})}),Zm="_container_993sg_5",eh="_label_993sg_19",th="_controlRow_993sg_31",nh="_trackWrapper_993sg_49",sh="_trackGradient_993sg_75",oh="_thumb_993sg_105",ah="_swatch_993sg_165",Dt={container:Zm,label:eh,controlRow:th,trackWrapper:nh,trackGradient:sh,thumb:oh,swatch:ah},Ra=({value:e,onChange:t,label:s,id:o})=>{const a=E.useId(),r=o||a,l=E.useRef(null),[i,c]=E.useState(!1),d=e/360*100,m=E.useCallback(x=>{if(!l.current)return;const f=l.current.getBoundingClientRect(),g=x-f.left,I=Math.max(0,Math.min(1,g/f.width)),y=Math.round(I*360);t(y)},[t]),h=x=>{c(!0),m(x);const f=I=>{const y="touches"in I?I.touches[0].clientX:I.clientX;m(y)},g=()=>{c(!1),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",f),document.removeEventListener("touchend",g)};document.addEventListener("mousemove",f),document.addEventListener("mouseup",g),document.addEventListener("touchmove",f,{passive:!0}),document.addEventListener("touchend",g)},u=x=>{x.preventDefault(),h(x.clientX)},w=x=>{h(x.touches[0].clientX)},p=x=>{let f=e;switch(x.key){case"ArrowRight":case"ArrowUp":f=Math.min(360,e+5);break;case"ArrowLeft":case"ArrowDown":f=Math.max(0,e-5);break;case"Home":f=0;break;case"End":f=360;break;default:return}x.preventDefault(),t(f)},v=`oklch(0.65 0.18 ${e})`;return n.jsxs("div",{className:Dt.container,children:[n.jsx("label",{htmlFor:r,className:Dt.label,children:s}),n.jsxs("div",{className:Dt.controlRow,children:[n.jsxs("div",{ref:l,className:Dt.trackWrapper,onMouseDown:u,onTouchStart:w,children:[n.jsx("div",{className:Dt.trackGradient}),n.jsx("div",{className:Dt.thumb,style:{left:`${d}%`},role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":e,"aria-label":s,tabIndex:0,onKeyDown:p,"data-dragging":i})]}),n.jsx("div",{className:Dt.swatch,style:{backgroundColor:v},"aria-hidden":"true"})]})]})},rh="_settingsContainer_10x12_5",ih="_settingsSection_10x12_23",lh="_sectionTitle_10x12_35",ch="_settingsGroup_10x12_57",uh="_settingsItem_10x12_79",dh="_itemLabel_10x12_145",mh="_logoutButton_10x12_195",Ne={settingsContainer:rh,settingsSection:ih,sectionTitle:lh,settingsGroup:ch,settingsItem:uh,itemLabel:dh,logoutButton:mh},hh=[{value:"qr",label:"QR Code",icon:"qr_code_2"},{value:"nfc",label:"NFC",icon:"nfc"}],fh=()=>{const[e,t]=ne(tt),[s]=ne(Wt),[o,a]=ne(ys),r=W(Pt),l=Z(Pt),{trigger:i}=Ue(),{theme:c,setTheme:d}=Ao(),m=r.user,h=v=>{i("light"),t(x=>({...x,hapticsEnabled:v}))},u=v=>{m&&a(x=>({...x,[m.username]:{...x[m.username],avatarHue:v}}))},w=()=>{l({isAuthenticated:!1,user:null})},p=m?o[m.username]?.avatarHue??Is(m.username):0;return n.jsxs(xe.div,{className:Ne.settingsContainer,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:[n.jsxs("div",{className:Ne.settingsSection,children:[n.jsx("h3",{className:Ne.sectionTitle,children:"Preferences"}),n.jsxs("div",{className:Ne.settingsGroup,children:[n.jsxs("div",{className:Ne.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:Ne.itemLabel,children:"Scan Mode"}),n.jsx(Ve,{id:"scan-mode-toggle",options:hh,value:e.scanMode,onValueChange:v=>{i("selection"),t(x=>({...x,scanMode:v}))},itemDirection:"column"})]}),s.useHapticsEnabled&&n.jsxs("div",{className:Ne.settingsItem,children:[n.jsx("label",{htmlFor:"haptics-switch",className:Ne.itemLabel,children:"Haptic Feedback"}),n.jsx(Ce,{id:"haptics-switch",checked:e.hapticsEnabled,onCheckedChange:h})]}),s.useSoundEnabled&&n.jsxs("div",{className:Ne.settingsItem,children:[n.jsx("label",{htmlFor:"audio-switch",className:Ne.itemLabel,children:"Audio Feedback"}),n.jsx(Ce,{id:"audio-switch",checked:e.audioEnabled,onCheckedChange:v=>t(x=>({...x,audioEnabled:v}))})]}),s.enableDarkMode&&n.jsxs("div",{className:Ne.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:Ne.itemLabel,children:"Theme"}),n.jsx(Ve,{id:"theme-toggle",options:[{value:"light",label:"Light"},{value:"dark-a",label:"Dark A"},{value:"dark-b",label:"Dark B"},{value:"dark-c",label:"Dark C"}],value:c,onValueChange:v=>{i("selection"),d(v)}})]})]})]}),s.enableEnhancedAvatarDropdown&&n.jsxs("div",{className:Ne.settingsSection,children:[n.jsx("h3",{className:Ne.sectionTitle,children:"Appearance"}),n.jsx("div",{className:Ne.settingsGroup,children:n.jsx("div",{className:Ne.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},"data-no-hover":"true",children:n.jsx(Ra,{label:"Avatar Color",value:p,onChange:u})})})]}),n.jsxs("div",{className:Ne.settingsSection,children:[n.jsx("h3",{className:Ne.sectionTitle,children:"Account"}),n.jsx(me,{variant:"secondary",onClick:w,className:Ne.logoutButton,children:"Log Out"})]})]})},ph="_container_1jgmv_5",gh="_settingSection_1jgmv_23",vh="_sectionHeader_1jgmv_35",xh="_subsectionHeader_1jgmv_59",wh="_warningBlock_1jgmv_77",bh="_settingsGroup_1jgmv_105",Ch="_settingsItem_1jgmv_123",_h="_itemLabel_1jgmv_149",yh="_disabledGroup_1jgmv_161",Sh="_toastGrid_1jgmv_175",jh="_toastPlaygroundItem_1jgmv_309",Ih="_toastDescription_1jgmv_321",Th="_shortcutHint_1jgmv_335",O={container:ph,settingSection:gh,sectionHeader:vh,subsectionHeader:xh,warningBlock:wh,settingsGroup:bh,settingsItem:Ch,itemLabel:_h,disabledGroup:yh,toastGrid:Sh,toastPlaygroundItem:jh,toastDescription:Ih,shortcutHint:Th},kh=[{label:"Sync Complete",message:"Data synced",icon:"cloud_done",variant:"success",logic:"Reconnection after offline."},{label:"Missed Check",message:"Check for Room 101 missed",icon:"history",variant:"warning",logic:"Ticker passes due + interval.",stableId:"lifecycle-missed-check"},{label:"Camera Error",message:`Camera not responding.
Try restarting your device.`,icon:"no_photography",variant:"alert",logic:"Simulated camera failure."},{label:"NFC Error",message:`Tag not read.
Hold phone steady against the tag.`,icon:"wifi_tethering_error",variant:"alert",logic:"Simulated NFC read failure."}],Nh=()=>{const[e,t]=ne(tt),[s,o]=ne(js),[a,r]=ne(vn),l=Z(Gn),i=Z(gn),c=W(_r),{trigger:d}=Ue(),m=W(Wt),h=p=>v=>{d("light"),p(v)},u=()=>{d("warning"),l({type:"RESET_DATA"}),i({message:"Application data reset to defaults.",icon:"delete",variant:"neutral"})},w=p=>{d("medium");let v=p.message;if(p.stableId==="lifecycle-missed-check"){const x=c.find(f=>f.stableId===p.stableId);if(x){let f=1;const g=x.message.match(/^(\d+)\s+checks\s+missed/i);g&&(f=parseInt(g[1],10)),f++,v=`${f} checks missed`}}i({message:v,icon:p.icon,variant:p.variant,stableId:p.stableId})};return n.jsxs(xe.div,{className:O.container,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:[n.jsxs("div",{className:O.settingSection,children:[n.jsx("h3",{className:O.sectionHeader,children:"Data Management"}),n.jsxs(me,{variant:"secondary",onClick:u,children:[n.jsx("span",{className:"material-symbols-rounded",children:"restart_alt"}),"Reset Application Data"]}),n.jsx("span",{className:O.shortcutHint,children:"Shortcut: Ctrl+Backspace"})]}),n.jsxs("div",{className:O.settingSection,children:[n.jsx("h3",{className:O.sectionHeader,children:"Workflow"}),n.jsxs("div",{className:O.settingsGroup,children:[n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"simple-submit-switch",className:O.itemLabel,children:"Simple submit"}),n.jsx(Ce,{id:"simple-submit-switch",checked:e.simpleSubmitEnabled,onCheckedChange:h(p=>t(v=>({...v,simpleSubmitEnabled:p})))})]}),n.jsxs("div",{className:e.simpleSubmitEnabled?O.disabledGroup:"",children:[n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"mark-multiple-switch",className:O.itemLabel,children:"Mark multiple"}),n.jsx(Ce,{id:"mark-multiple-switch",checked:e.markMultipleEnabled,onCheckedChange:h(p=>t(v=>({...v,markMultipleEnabled:p})))})]}),n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"check-type-switch",className:O.itemLabel,children:"Show check type"}),n.jsx(Ce,{id:"check-type-switch",checked:e.isCheckTypeEnabled,onCheckedChange:h(p=>t(v=>({...v,isCheckTypeEnabled:p})))})]})]}),n.jsxs("div",{className:O.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:O.itemLabel,children:"Status count"}),n.jsx(Ve,{id:"resident-status-count-toggle",options:[{value:"set-2",label:"2"},{value:"set-3",label:"3"},{value:"set-4",label:"4"},{value:"set-5",label:"5"},{value:"set-6",label:"6"},{value:"set-7",label:"7"}],value:e.residentStatusSet,onValueChange:p=>{d("selection"),t(v=>({...v,residentStatusSet:p}))}})]}),n.jsxs("div",{className:O.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:O.itemLabel,children:"Status layout"}),n.jsx(Ve,{id:"status-layout-toggle",options:[{value:"row",label:"Row"},{value:"column",label:"Column"},{value:"grid",label:"Grid"}],value:e.markMultipleLayout,onValueChange:p=>{d("selection"),t(v=>({...v,markMultipleLayout:p}))}})]})]})]}),n.jsxs("div",{className:O.settingSection,children:[n.jsx("h3",{className:O.sectionHeader,children:"App Style"}),n.jsx("div",{className:O.settingsGroup,children:n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"status-indicators-switch",className:O.itemLabel,children:"Show status indicators"}),n.jsx(Ce,{id:"status-indicators-switch",checked:e.showStatusIndicators,onCheckedChange:h(p=>t(v=>({...v,showStatusIndicators:p})))})]})})]}),m.useHapticsEnabled&&n.jsxs("div",{className:O.settingSection,children:[n.jsx("h3",{className:O.sectionHeader,children:"Haptics"}),n.jsxs("div",{className:O.settingsGroup,children:[n.jsxs("div",{className:O.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:O.itemLabel,children:"Success pattern"}),n.jsx(Ve,{id:"haptic-success-toggle",options:[{value:"light",label:"Light (50ms)"},{value:"medium",label:"Medium (100ms)"},{value:"heavy",label:"Heavy (150ms)"}],value:e.hapticPatternSuccess,onValueChange:p=>{t(v=>({...v,hapticPatternSuccess:p})),setTimeout(()=>{d("success")},50)}})]}),n.jsxs("div",{className:O.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:O.itemLabel,children:"Error pattern"}),n.jsx(Ve,{id:"haptic-error-toggle",options:[{value:"simple",label:"Simple"},{value:"double",label:"Double"},{value:"grind",label:"Grind"},{value:"stutter",label:"Stutter"}],value:e.hapticPatternError,onValueChange:p=>{t(v=>({...v,hapticPatternError:p})),setTimeout(()=>{d("error")},50)}})]})]})]}),n.jsxs("div",{className:O.settingSection,children:[n.jsx("h3",{className:O.sectionHeader,children:"Simulation"}),n.jsxs("div",{className:O.settingsGroup,children:[n.jsxs("div",{className:O.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:O.itemLabel,children:"Connectivity"}),n.jsx(Ve,{id:"connectivity-toggle",options:[{value:"online",label:"Online",icon:"cloud"},{value:"offline",label:"Offline",icon:"cloud_off"}],value:a==="offline"?"offline":"online",onValueChange:p=>{d("selection"),r(p)},itemDirection:"column"})]}),n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"camera-fail-switch",className:O.itemLabel,children:"Force Camera Failure"}),n.jsx(Ce,{id:"camera-fail-switch",checked:s.cameraFails,onCheckedChange:h(p=>o(v=>({...v,cameraFails:p})))})]}),n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"nfc-fail-switch",className:O.itemLabel,children:"Force NFC Failure"}),n.jsx(Ce,{id:"nfc-fail-switch",checked:s.nfcFails,onCheckedChange:h(p=>o(v=>({...v,nfcFails:p})))})]}),n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"slow-load-switch",className:O.itemLabel,children:"Simulate slow loading"}),n.jsx(Ce,{id:"slow-load-switch",checked:e.isSlowLoadEnabled,onCheckedChange:h(p=>t(v=>({...v,isSlowLoadEnabled:p})))})]})]})]}),n.jsxs("div",{className:O.settingSection,children:[n.jsx("h3",{className:O.sectionHeader,children:"Toast Playground"}),n.jsx("div",{className:O.toastGrid,children:kh.map((p,v)=>n.jsxs("div",{className:O.toastPlaygroundItem,children:[n.jsxs(me,{variant:"secondary",onClick:()=>w(p),children:[n.jsx("span",{className:"material-symbols-rounded",children:p.icon}),p.label]}),n.jsx("p",{className:O.toastDescription,children:p.logic})]},v))})]})]})},Rh=()=>{const[e,t]=ne(Wt),{trigger:s}=Ue(),o=a=>r=>{s("light"),a(r)};return n.jsx(xe.div,{className:O.container,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:n.jsxs("div",{className:O.settingSection,children:[n.jsxs("div",{className:O.warningBlock,children:[n.jsx("strong",{children:"Experimental Features"}),n.jsx("br",{}),"These are just conceptual ideas for a potential future version.  Nothing here is expected for v1."]}),n.jsxs("div",{className:O.settingsGroup,children:[n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"use-sound-switch",className:O.itemLabel,children:"Use Sound"}),n.jsx(Ce,{id:"use-sound-switch",checked:e.useSoundEnabled,onCheckedChange:o(a=>t(r=>({...r,useSoundEnabled:a})))})]}),n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"use-haptics-switch",className:O.itemLabel,children:"Use Haptics"}),n.jsx(Ce,{id:"use-haptics-switch",checked:e.useHapticsEnabled,onCheckedChange:o(a=>t(r=>({...r,useHapticsEnabled:a})))})]}),n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"enable-dark-mode-switch",className:O.itemLabel,children:"Enable Dark Mode"}),n.jsx(Ce,{id:"enable-dark-mode-switch",checked:e.enableDarkMode,onCheckedChange:o(a=>t(r=>({...r,enableDarkMode:a})))})]}),n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"enable-enhanced-avatar-switch",className:O.itemLabel,children:"Enhanced Avatar Dropdown"}),n.jsx(Ce,{id:"enable-enhanced-avatar-switch",checked:e.enableEnhancedAvatarDropdown,onCheckedChange:o(a=>t(r=>({...r,enableEnhancedAvatarDropdown:a})))})]})]}),n.jsx("h3",{className:O.sectionHeader,children:"Late Check Concepts"}),n.jsx("div",{className:O.settingsGroup,children:n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"feat-vignette-switch",className:O.itemLabel,children:"Active Vignette"}),n.jsx(Ce,{id:"feat-vignette-switch",checked:e.feat_vignette,onCheckedChange:o(a=>t(r=>({...r,feat_vignette:a})))})]})}),n.jsx("h4",{className:O.subsectionHeader,children:"Pulse Effects"}),n.jsxs("div",{className:O.settingsGroup,children:[n.jsxs("div",{className:O.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:O.itemLabel,children:"Glass Pulse Style"}),n.jsx(Ve,{id:"glass-pulse-style",options:[{value:"none",label:"None"},{value:"basic",label:"Basic"},{value:"gradient",label:"Gradient"}],value:e.feat_glass_pulse,onValueChange:a=>{s("light"),t(r=>({...r,feat_glass_pulse:a}))}})]}),n.jsxs("div",{className:O.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:O.itemLabel,children:"Card Pulse Style"}),n.jsx(Ve,{id:"card-pulse-style",options:[{value:"none",label:"None"},{value:"basic",label:"Basic"},{value:"gradient",label:"Gradient"}],value:e.feat_card_pulse,onValueChange:a=>{s("light"),t(r=>({...r,feat_card_pulse:a}))}})]})]}),n.jsx("h4",{className:O.subsectionHeader,children:"Other Card Effects"}),n.jsxs("div",{className:O.settingsGroup,children:[n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"feat-card-border-switch",className:O.itemLabel,children:"Fluid Borders"}),n.jsx(Ce,{id:"feat-card-border-switch",checked:e.feat_card_border,onCheckedChange:o(a=>t(r=>({...r,feat_card_border:a})))})]}),n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"feat-hazard-texture-switch",className:O.itemLabel,children:"Hazard Texture"}),n.jsx(Ce,{id:"feat-hazard-texture-switch",checked:e.feat_hazard_texture,onCheckedChange:o(a=>t(r=>({...r,feat_hazard_texture:a})))})]}),n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"feat-invert-card-switch",className:O.itemLabel,children:"Invert Card"}),n.jsx(Ce,{id:"feat-invert-card-switch",checked:e.feat_invert_card,onCheckedChange:o(a=>t(r=>({...r,feat_invert_card:a})))})]}),n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"feat-invert-badge-switch",className:O.itemLabel,children:"Invert Badge"}),n.jsx(Ce,{id:"feat-invert-badge-switch",checked:e.feat_invert_badge,onCheckedChange:o(a=>t(r=>({...r,feat_invert_badge:a})))})]})]}),n.jsx("div",{className:O.settingsGroup,children:n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"feat-badge-pulse-switch",className:O.itemLabel,children:"Badge Pulse"}),n.jsx(Ce,{id:"feat-badge-pulse-switch",checked:e.feat_badge_mode==="pulse",onCheckedChange:o(a=>t(r=>({...r,feat_badge_mode:a?"pulse":"none"})))})]})}),n.jsx("div",{className:O.settingsGroup,children:n.jsxs("div",{className:O.settingsItem,children:[n.jsx("label",{htmlFor:"feat-jump-fab-switch",className:O.itemLabel,children:"Jump FAB"}),n.jsx(Ce,{id:"feat-jump-fab-switch",checked:e.feat_jump_fab,onCheckedChange:o(a=>t(r=>({...r,feat_jump_fab:a})))})]})})]})})},Eh="_userSettingsContainer_1oi7l_5",Hh="_profileHeader_1oi7l_25",Ah="_avatarLarge_1oi7l_45",Mh="_userName_1oi7l_69",Oh="_settingsSection_1oi7l_87",Lh="_sectionTitle_1oi7l_99",Bh="_settingsGroup_1oi7l_119",Dh="_settingsItem_1oi7l_137",zh="_itemLabel_1oi7l_203",$h="_logoutButton_1oi7l_215",be={userSettingsContainer:Eh,profileHeader:Hh,avatarLarge:Ah,userName:Mh,settingsSection:Oh,sectionTitle:Lh,settingsGroup:Bh,settingsItem:Dh,itemLabel:zh,logoutButton:$h},Ph=()=>{const e=W(Pt),t=Z(Pt),[s,o]=ne(tt),[a,r]=ne(ys),[l]=ne(Wt),{theme:i,setTheme:c}=Ao(),{trigger:d}=Ue();if(!e.user)return null;const{username:m,initials:h,displayName:u}=e.user,w=a[m]?.avatarHue,p=w!==void 0?w:Is(m),v=`oklch(0.65 0.18 ${p})`,x=()=>{t({isAuthenticated:!1,user:null})},f=y=>{d("light"),c(y)},g=y=>{d("light"),o(b=>({...b,scanMode:y}))},I=y=>{r(b=>({...b,[m]:{...b[m],avatarHue:y}}))};return n.jsxs(xe.div,{className:be.userSettingsContainer,initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:[n.jsxs("div",{className:be.profileHeader,children:[n.jsx("div",{className:be.avatarLarge,style:{backgroundColor:v},children:h}),n.jsx("h2",{className:be.userName,children:u})]}),n.jsxs("div",{className:be.settingsSection,children:[n.jsx("h3",{className:be.sectionTitle,children:"Appearance"}),n.jsxs("div",{className:be.settingsGroup,children:[n.jsxs("div",{className:be.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:be.itemLabel,children:"Theme"}),n.jsx(Ve,{id:"user-theme-toggle",options:[{value:"light",label:"Light"},{value:"dark-c",label:"Dark"}],value:i==="light"?"light":"dark-c",onValueChange:f,layout:"row"})]}),n.jsx("div",{className:be.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},"data-no-hover":"true",children:n.jsx(Ra,{label:"Avatar Color",value:p,onChange:I})})]})]}),n.jsxs("div",{className:be.settingsSection,children:[n.jsx("h3",{className:be.sectionTitle,children:"Preferences"}),n.jsxs("div",{className:be.settingsGroup,children:[n.jsxs("div",{className:be.settingsItem,style:{flexDirection:"column",alignItems:"stretch",gap:"var(--spacing-2)"},children:[n.jsx("label",{className:be.itemLabel,children:"Scan Mode"}),n.jsx(Ve,{id:"user-scan-mode-toggle",options:[{value:"qr",label:"QR",icon:"qr_code_2"},{value:"nfc",label:"NFC",icon:"nfc"}],value:s.scanMode,onValueChange:g,itemDirection:"column"})]}),l.useHapticsEnabled&&n.jsxs("div",{className:be.settingsItem,children:[n.jsx("label",{htmlFor:"user-haptics-switch",className:be.itemLabel,children:"Haptic Feedback"}),n.jsx(Ce,{id:"user-haptics-switch",checked:s.hapticsEnabled,onCheckedChange:y=>{d("light"),o(b=>({...b,hapticsEnabled:y}))}})]}),l.useSoundEnabled&&n.jsxs("div",{className:be.settingsItem,children:[n.jsx("label",{htmlFor:"user-audio-switch",className:be.itemLabel,children:"Audio Feedback"}),n.jsx(Ce,{id:"user-audio-switch",checked:s.audioEnabled,onCheckedChange:y=>o(b=>({...b,audioEnabled:y}))})]})]})]}),n.jsxs("div",{className:be.settingsSection,children:[n.jsx("h3",{className:be.sectionTitle,children:"Account"}),n.jsxs(me,{variant:"secondary",onClick:x,className:be.logoutButton,children:[n.jsx("span",{className:"material-symbols-rounded",children:"logout"}),n.jsx("span",{children:"Log Out"})]})]})]})},Fh="_container_1r85s_5",Wh="_contextBanner_1r85s_25",Vh="_viewWrapper_1r85s_61",Gh="_listContainer_1r85s_87",Xt={container:Fh,contextBanner:Wh,viewWrapper:Vh,listContainer:Gh},bo={enter:e=>({x:e===0?0:e>0?"100%":"-100%",opacity:1}),center:{x:0,opacity:1},exit:e=>({x:e<0?"100%":"-100%",opacity:1})},qh=()=>{const[e,t]=ne(yr),[s,o]=ne(bs),[a,r]=ne(Cs),[l,i]=ne(_s),c=Z(Sr),d=Z(Ss),m=Z(yo),{trigger:h}=Ue(),[u,w]=E.useState("group"),[p,v]=E.useState(0),[x,f]=E.useState(a),[g,I]=E.useState("right"),y=e||s;E.useEffect(()=>{y&&(w("group"),v(0),f(a),I("right"))},[y,a]);const b=()=>{if(u==="unit"){v(-1),w("group");return}I("right"),e?c():o(!1)},_=M=>{h("selection"),f(M),v(1),w("unit")},C=M=>{h("selection"),x&&(I("left"),(x!==a||M!==l)&&m(!0),r(x),i(M),d("dashboardTime"),e&&t(!1),requestAnimationFrame(()=>{requestAnimationFrame(()=>{o(!1)})}))},j=cs.find(M=>M.id===x),k=j?.units||[],A=()=>u==="group"?"Select Facility":"Select Unit";return n.jsx(ln,{isOpen:y,onClose:b,title:A(),transitionType:"slide-horizontal",exitDirection:g,children:n.jsx("div",{className:Xt.container,children:n.jsx(St,{initial:!1,custom:p,mode:"popLayout",children:u==="group"?n.jsx(xe.div,{className:Xt.viewWrapper,custom:p,variants:bo,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:n.jsx("div",{className:Xt.listContainer,style:{borderTop:"none"},children:cs.map(M=>n.jsx(xt,{label:M.name,leadingIcon:"domain",onClick:()=>_(M.id),showChevron:!0},M.id))})},"group-list"):n.jsxs(xe.div,{className:Xt.viewWrapper,custom:p,variants:bo,initial:"enter",animate:"center",exit:"exit",transition:{type:"tween",duration:.3,ease:[.32,.72,0,1]},children:[n.jsxs("div",{className:Xt.contextBanner,children:[n.jsx("span",{className:"material-symbols-rounded",children:"domain"}),j?.name]}),n.jsx("div",{className:Xt.listContainer,children:k.map(M=>n.jsx(xt,{label:M.name,onClick:()=>C(M.id),showChevron:!0},M.id))})]},"unit-list")})})})},Ea=E.createContext(null),Uh=()=>{const e=E.useContext(Ea);if(!e)throw new Error("useGestureContext must be used within a GestureProvider");return e},Xh=({children:e})=>{const t=Vs(0),s=Vs(0);return n.jsx(Ea.Provider,{value:{filmStripProgress:t,sideMenuProgress:s},children:e})},Yh=()=>{E.useEffect(()=>{if(!window.visualViewport)return;const e=()=>{requestAnimationFrame(()=>{const t=window.visualViewport?.height;t&&document.documentElement.style.setProperty("--visual-viewport-height",`${t}px`)})};return e(),window.visualViewport.addEventListener("resize",e),window.visualViewport.addEventListener("scroll",e),()=>{window.visualViewport?.removeEventListener("resize",e),window.visualViewport?.removeEventListener("scroll",e),document.documentElement.style.removeProperty("--visual-viewport-height")}},[])},Kh="_appContainer_1q3pp_5",Qh="_sideMenuContainer_1q3pp_25",Jh="_mainViewWrapper_1q3pp_49",Zh="_backdrop_1q3pp_71",ef="_chromeContainer_1q3pp_105",rn={appContainer:Kh,sideMenuContainer:Qh,mainViewWrapper:Jh,backdrop:Zh,chromeContainer:ef},ls={type:"spring",stiffness:400,damping:40,restDelta:.001},tf=()=>{const[e,t]=ne(Ss),s=W(It),o=W(vn),[a,r]=ne(So),[l,i]=ne(jo),[c,d]=ne(Io),[m,h]=ne(To),[u,w]=E.useState(0),p=E.useRef(null),v=E.useRef(null),{filmStripProgress:x,sideMenuProgress:f}=Uh(),g=E.useRef(!1),I=E.useRef(0),y=E.useRef(0),b=E.useRef(0);E.useEffect(()=>{p.current&&w(p.current.offsetWidth)},[]),E.useEffect(()=>{g.current||(e==="sideMenu"?Jn(f,1,ls):Jn(f,0,ls))},[e,f]),E.useEffect(()=>{s.view!=="none"&&(f.get()>0&&f.set(0),e==="sideMenu"&&t("dashboardTime"))},[s.view,f,e,t]),Yh(),E.useEffect(()=>{s.view==="form"&&"residents"in s&&s.residents.length>0?document.title=`Safety Check - ${s.residents[0].location}`:document.title="Safety Check App"},[s]);const _=()=>{t("dashboardTime")},C=R=>{s.view==="none"&&(I.current=R.clientX,y.current=R.clientY,b.current=x.get(),g.current=!1)},j=R=>{if(s.view==="none"){if(g.current){const D=R.clientX-I.current,Q=window.innerWidth,X=D/Q;if(e==="sideMenu"){const oe=Math.max(0,Math.min(1,1+D/u));f.set(oe);return}if(e==="dashboardTime"&&D>0){const oe=Math.max(0,Math.min(1,D/u));f.set(oe);return}if(f.get()===0){const oe=Math.max(0,Math.min(1,b.current-X));x.set(oe)}return}if(R.buttons>0||R.pointerType==="touch"){const D=Math.abs(R.clientX-I.current),Q=Math.abs(R.clientY-y.current);D>10&&D>Q&&(g.current=!0,R.currentTarget.setPointerCapture(R.pointerId))}}},k=R=>{if(!g.current)return;g.current=!1,R.currentTarget.releasePointerCapture(R.pointerId);const D=R.clientX-I.current,Q=f.get();let X=!1;e==="sideMenu"?X=!(Q<.8||D<-50):X=Q>.2||D>50,Jn(f,X?1:0,ls),t(X?"sideMenu":"dashboardTime")},A=Rn(f,[0,1],[0,u]),M=Rn(f,[0,1],[-u,0]),z=Rn(f,[0,1],[0,1]),L=Rn(f,R=>R>0?"auto":"none");return n.jsxs("div",{className:rn.appContainer,onPointerDown:C,onPointerMove:j,onPointerUp:k,onPointerCancel:k,onPointerLeave:k,style:{touchAction:"pan-y"},children:[n.jsx(xe.div,{ref:p,className:rn.sideMenuContainer,style:{x:M},children:n.jsx(sl,{})}),n.jsxs(xe.div,{className:rn.mainViewWrapper,style:{x:A},children:[n.jsx(Hi,{}),n.jsx(xe.div,{className:rn.backdrop,style:{opacity:z,pointerEvents:L},onClick:_}),n.jsxs("div",{ref:v,className:rn.chromeContainer,children:[o!=="online"&&n.jsx(Bl,{}),n.jsx(Cl,{})]}),n.jsx(Tl,{})]}),n.jsxs(St,{children:[s.view==="scanning"&&n.jsx(ec,{}),s.view==="form"&&n.jsx(nu,{checkData:s}),s.view==="provisioning"&&n.jsx(Em,{})]}),n.jsx(Wm,{}),n.jsx(qh,{}),n.jsx(ln,{isOpen:a,onClose:()=>r(!1),title:"Settings",transitionType:"slide-horizontal",actionType:"back",children:n.jsx(fh,{})}),n.jsx(ln,{isOpen:l,onClose:()=>i(!1),title:"Developer Tools",transitionType:"slide-horizontal",actionType:"back",children:n.jsx(Nh,{})}),n.jsx(ln,{isOpen:c,onClose:()=>d(!1),title:"Future Ideas",transitionType:"slide-horizontal",actionType:"back",children:n.jsx(Rh,{})}),n.jsx(ln,{isOpen:m,onClose:()=>h(!1),title:"User Settings",transitionType:"slide-horizontal",actionType:"back",children:n.jsx(Ph,{})})]})},lf=()=>n.jsx(Xh,{children:n.jsx(tf,{})});export{lf as AppShell};
