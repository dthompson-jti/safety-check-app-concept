import{j as e,l as M,m as P,O as R,n as D,q as U,r as H}from"./vendor-ui-C1BV0v1p.js";import{R as B,a,f as b}from"./vendor-react-YcdXIm5z.js";import{Y as O,Z as q,C as z,o as J}from"./index-XQAozyCD.js";import{u as V,B as N,f as T}from"./useScrollToFocused-CKAUjrHr.js";import{m as u}from"./vendor-heavy-CvwPKJkl.js";const E=B.forwardRef(({isInvalid:t,...l},n)=>e.jsx("input",{ref:n,...l,"data-invalid":t})),c=({isOpen:t,onClose:l,children:n,width:x="auto",height:i="auto",title:d,description:r})=>e.jsx(M,{open:t,onOpenChange:p=>!p&&l(),children:e.jsxs(P,{children:[e.jsx(R,{className:"modal-backdrop"}),e.jsxs(D,{className:"modal-container",style:{width:x,height:i},onEscapeKeyDown:l,children:[e.jsx(U,{className:"visually-hidden",children:d}),r&&e.jsx(H,{className:"visually-hidden",children:r}),n]})]})}),K=({children:t})=>e.jsx("div",{className:"modal-header",children:t}),Y=({children:t})=>e.jsx("div",{className:"modal-content",children:t}),Z=({children:t})=>e.jsx("div",{className:"modal-footer",children:t});c.Header=K;c.Content=Y;c.Footer=Z;const G="_viewportStack_1rgbh_15",Q="_scrollableContent_1rgbh_51",W="_loginFormCard_1rgbh_93",X="_appTitle_1rgbh_129",$="_shortcutIcon_1rgbh_189",ee="_formFields_1rgbh_223",se="_supportLink_1rgbh_237",oe="_errorMessage_1rgbh_279",te="_formError_1rgbh_293",re="_pageFooter_1rgbh_335",ae="_footerSeparator_1rgbh_391",ne="_modalBodyLayout_1rgbh_405",ie="_modalTextContent_1rgbh_413",le="_infoNote_1rgbh_449",o={viewportStack:G,scrollableContent:Q,loginFormCard:W,appTitle:X,shortcutIcon:$,formFields:ee,supportLink:se,errorMessage:oe,formError:te,pageFooter:re,footerSeparator:ae,modalBodyLayout:ne,modalTextContent:ie,infoNote:le},ue=()=>{const[t,l]=a.useState(""),[n,x]=a.useState(""),[i,d]=a.useState(""),[r,p]=a.useState(""),[h,m]=a.useState(""),[F,f]=a.useState(!1),[g,v]=a.useState(!1),y=b(J),w=b(z),C=a.useRef(null);V({containerRef:C,offset:20});const I=s=>{s.preventDefault(),v(!0),d(""),p(""),m("");let _=!1;if(t.trim()===""&&(d("Username is required."),_=!0),n.trim()===""&&(p("Password is required."),_=!0),_)return;if(n.trim()!=="test"){m("Incorrect username or password.");return}const S=T(t.trim());S?(w({type:"RESET_DATA"}),y({isAuthenticated:!0,user:S})):m("Incorrect username or password.")},k=()=>{const s=T("dthompson");s&&(w({type:"RESET_DATA"}),y({isAuthenticated:!0,user:s}))},A=s=>{l(s),i&&d(""),h&&m("")},L=s=>{x(s),r&&p(""),h&&m("")},j={x:[0,-8,8,-8,8,0],transition:{duration:.4}};return e.jsxs(e.Fragment,{children:[e.jsx(u.div,{className:o.viewportStack,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:e.jsxs("div",{className:o.scrollableContent,ref:C,children:[e.jsxs("div",{className:o.loginFormCard,children:[e.jsxs("div",{className:o.appTitle,children:[e.jsx(u.div,{layoutId:"app-logo",children:e.jsx(O,{size:144,className:o.shortcutIcon,onClick:k,title:"Developer Shortcut Login"})}),e.jsx("h3",{children:"Safeguard"})]}),e.jsxs("form",{onSubmit:I,className:o.formFields,noValidate:!0,children:[e.jsx(u.div,{animate:g&&h?j:{},onAnimationComplete:()=>v(!1),children:h&&e.jsxs("div",{className:o.formError,children:[e.jsx(q,{size:20}),e.jsx("span",{children:h})]})}),e.jsxs(u.div,{animate:g&&i?j:{},children:[e.jsx(E,{type:"text",placeholder:"Username","aria-label":"Username",value:t,onChange:s=>A(s.target.value),isInvalid:!!i,autoFocus:!0}),i&&e.jsx("div",{className:o.errorMessage,children:i})]}),e.jsxs(u.div,{animate:g&&r?j:{},children:[e.jsx(E,{type:"password",placeholder:"Password","aria-label":"Password",value:n,onChange:s=>L(s.target.value),isInvalid:!!r}),r&&e.jsx("div",{className:o.errorMessage,children:r})]}),e.jsx(N,{type:"submit",variant:"primary",size:"m",style:{width:"100%",marginTop:"8px"},children:"Log In"}),e.jsx("div",{className:o.supportLink,children:e.jsx("button",{type:"button",onClick:()=>f(!0),children:"Trouble signing in?"})})]})]}),e.jsxs("footer",{className:o.pageFooter,children:[e.jsx("p",{children:"© Journal Technologies 2025."}),e.jsxs("p",{children:[e.jsx("a",{href:"#",onClick:s=>s.preventDefault(),children:"Privacy Policy"}),e.jsx("span",{className:o.footerSeparator,children:"·"}),e.jsx("a",{href:"#",onClick:s=>s.preventDefault(),children:"Terms of Use"})]})]})]})},"login-view"),e.jsxs(c,{isOpen:F,onClose:()=>f(!1),title:"How to Sign In",width:"90%",height:"auto",description:"Information on how to sign in to the prototype application.",children:[e.jsx(c.Content,{children:e.jsx("div",{className:o.modalBodyLayout,children:e.jsxs("div",{className:o.modalTextContent,children:[e.jsx("h3",{children:"How to Sign In"}),e.jsx("p",{children:"To sign-in, use your eSeries credentials. To change your password, go to eSeries and select reset password."}),e.jsxs("div",{className:o.infoNote,"data-appearance-type":"tertiary","data-bordered":"true",children:[e.jsx("h4",{children:"Password & Account Help"}),e.jsxs("ul",{children:[e.jsx("li",{children:"This prototype does not support actual password resets."}),e.jsx("li",{children:"In a production environment, this section would contain agency-specific instructions or links to a self-service portal."})]})]})]})})}),e.jsx(c.Footer,{children:e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(N,{variant:"secondary",onClick:()=>f(!1),style:{width:"100%"},children:"Close"})})})]})]})};export{ue as LoginView};
