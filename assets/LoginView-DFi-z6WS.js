import{j as e,l as B,m as O,O as V,n as q,q as z,r as J}from"./vendor-ui-C96W7_pt.js";import{R as K,a as r,e as E}from"./vendor-react-B_tfjPbg.js";import{$,a0 as G,E as Q,o as W}from"./index-3py9qcWA.js";import{u as X,B as I,f as F}from"./useScrollToFocused-BEn2u3I5.js";import{m as a}from"./vendor-heavy-BOpt6eaF.js";const b=K.forwardRef(({isInvalid:o,...c},i)=>e.jsx("input",{ref:i,...c,"data-invalid":o})),p=({isOpen:o,onClose:c,children:i,width:f="auto",height:l="auto",title:m,description:n})=>e.jsx(B,{open:o,onOpenChange:u=>!u&&c(),children:e.jsxs(O,{children:[e.jsx(V,{className:"modal-backdrop"}),e.jsxs(q,{className:"modal-container",style:{width:f,height:l},onEscapeKeyDown:c,children:[e.jsx(z,{className:"visually-hidden",children:m}),n&&e.jsx(J,{className:"visually-hidden",children:n}),i]})]})}),Y=({children:o})=>e.jsx("div",{className:"modal-header",children:o}),Z=({children:o})=>e.jsx("div",{className:"modal-content",children:o}),ee=({children:o})=>e.jsx("div",{className:"modal-footer",children:o});p.Header=Y;p.Content=Z;p.Footer=ee;const se="_viewportStack_1187r_15",te="_scrollableContent_1187r_53",oe="_loginFormCard_1187r_95",re="_appTitle_1187r_131",ae="_shortcutIcon_1187r_191",ne="_formFields_1187r_225",ie="_supportLink_1187r_239",le="_errorMessage_1187r_281",ce="_formError_1187r_295",de="_pageFooter_1187r_337",pe="_footerSeparator_1187r_393",me="_modalBodyLayout_1187r_407",ue="_modalTextContent_1187r_415",he="_infoNote_1187r_451",t={viewportStack:se,scrollableContent:te,loginFormCard:oe,appTitle:re,shortcutIcon:ae,formFields:ne,supportLink:ie,errorMessage:le,formError:ce,pageFooter:de,footerSeparator:pe,modalBodyLayout:me,modalTextContent:ue,infoNote:he},ye=()=>{const[o,c]=r.useState(""),[i,f]=r.useState(""),[l,m]=r.useState(""),[n,u]=r.useState(""),[h,x]=r.useState(""),[k,j]=r.useState(!1),[v,_]=r.useState(!1),[A,L]=r.useState(!1),[M,C]=r.useState(!1),S=E(W),w=E(Q),N=r.useRef(null);X({containerRef:N,offset:20});const P=s=>{s.preventDefault(),_(!0),m(""),u(""),x("");let y=!1;if(o.trim()===""&&(m("Username is required."),y=!0),i.trim()===""&&(u("Password is required."),y=!0),y)return;if(i.trim()!=="test"){x("Incorrect username or password.");return}const T=F(o.trim());T?(C(!0),setTimeout(()=>{w({type:"RESET_DATA"}),S({isAuthenticated:!0,user:T})},500)):x("Incorrect username or password.")},R=()=>{L(!0);const s=F("dthompson");s&&(C(!0),setTimeout(()=>{w({type:"RESET_DATA"}),S({isAuthenticated:!0,user:s})},500))},D=s=>{c(s),l&&m(""),h&&x("")},U=s=>{f(s),n&&u(""),h&&x("")},g={x:[0,-8,8,-8,8,0],transition:{duration:.4}},H={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},d={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.3}}};return e.jsxs(e.Fragment,{children:[e.jsx(a.div,{className:t.viewportStack,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:e.jsxs("div",{className:t.scrollableContent,ref:N,children:[e.jsxs(a.div,{className:t.loginFormCard,variants:H,initial:"hidden",animate:"visible",children:[e.jsxs("div",{className:t.appTitle,children:[e.jsx(a.div,{layoutId:A?void 0:"app-logo",children:e.jsx($,{size:144,className:t.shortcutIcon,onClick:R,title:"Developer Shortcut Login"})}),e.jsx(a.h3,{variants:d,children:"Safeguard"})]}),e.jsxs(a.form,{onSubmit:P,className:t.formFields,noValidate:!0,variants:d,children:[e.jsx(a.div,{animate:v&&h?g:{},onAnimationComplete:()=>_(!1),children:h&&e.jsxs("div",{className:t.formError,children:[e.jsx(G,{size:20}),e.jsx("span",{children:h})]})}),e.jsxs(a.div,{variants:d,animate:v&&l?g:{},children:[e.jsx(b,{type:"text",placeholder:"Username","aria-label":"Username",value:o,onChange:s=>D(s.target.value),isInvalid:!!l,autoFocus:!0}),l&&e.jsx("div",{className:t.errorMessage,children:l})]}),e.jsxs(a.div,{variants:d,animate:v&&n?g:{},children:[e.jsx(b,{type:"password",placeholder:"Password","aria-label":"Password",value:i,onChange:s=>U(s.target.value),isInvalid:!!n}),n&&e.jsx("div",{className:t.errorMessage,children:n})]}),e.jsx(a.div,{variants:d,children:e.jsx(I,{type:"submit",variant:"primary",size:"m",loading:M,loadingText:"Signing in...",style:{width:"100%",marginTop:"var(--spacing-2)"},children:"Log In"})}),e.jsx(a.div,{variants:d,className:t.supportLink,children:e.jsx("button",{type:"button",onClick:()=>j(!0),children:"Trouble signing in?"})})]})]}),e.jsxs("footer",{className:t.pageFooter,children:[e.jsx("p",{children:"© Journal Technologies 2025."}),e.jsxs("p",{children:[e.jsx("a",{href:"#",onClick:s=>s.preventDefault(),children:"Privacy Policy"}),e.jsx("span",{className:t.footerSeparator,children:"·"}),e.jsx("a",{href:"#",onClick:s=>s.preventDefault(),children:"Terms of Use"})]})]})]})},"login-view"),e.jsxs(p,{isOpen:k,onClose:()=>j(!1),title:"How to Sign In",width:"90%",height:"auto",description:"Information on how to sign in to the prototype application.",children:[e.jsx(p.Content,{children:e.jsx("div",{className:t.modalBodyLayout,children:e.jsxs("div",{className:t.modalTextContent,children:[e.jsx("h3",{children:"How to Sign In"}),e.jsx("p",{children:"To sign-in, use your eSeries credentials. To change your password, go to eSeries and select reset password."}),e.jsxs("div",{className:t.infoNote,"data-appearance-type":"tertiary","data-bordered":"true",children:[e.jsx("h4",{children:"Password & Account Help"}),e.jsxs("ul",{children:[e.jsx("li",{children:"This prototype does not support actual password resets."}),e.jsx("li",{children:"In a production environment, this section would contain agency-specific instructions or links to a self-service portal."})]})]})]})})}),e.jsx(p.Footer,{children:e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(I,{variant:"secondary",onClick:()=>j(!1),style:{width:"100%"},children:"Close"})})})]})]})};export{ye as LoginView};
