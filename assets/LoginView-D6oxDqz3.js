import{j as e,l as U,m as H,O as B,n as O,q as V,r as q}from"./vendor-ui-C1BV0v1p.js";import{R as z,a as r,f as T}from"./vendor-react-YcdXIm5z.js";import{Y as J,Z as K,C as Y,o as Z}from"./index-CN3nzHTT.js";import{u as G,B as E,f as I}from"./useScrollToFocused-CKAUjrHr.js";import{m as a}from"./vendor-heavy-CvwPKJkl.js";const F=z.forwardRef(({isInvalid:o,...c},i)=>e.jsx("input",{ref:i,...c,"data-invalid":o})),d=({isOpen:o,onClose:c,children:i,width:f="auto",height:l="auto",title:p,description:n})=>e.jsx(U,{open:o,onOpenChange:h=>!h&&c(),children:e.jsxs(H,{children:[e.jsx(B,{className:"modal-backdrop"}),e.jsxs(O,{className:"modal-container",style:{width:f,height:l},onEscapeKeyDown:c,children:[e.jsx(V,{className:"visually-hidden",children:p}),n&&e.jsx(q,{className:"visually-hidden",children:n}),i]})]})}),Q=({children:o})=>e.jsx("div",{className:"modal-header",children:o}),W=({children:o})=>e.jsx("div",{className:"modal-content",children:o}),X=({children:o})=>e.jsx("div",{className:"modal-footer",children:o});d.Header=Q;d.Content=W;d.Footer=X;const $="_viewportStack_1rgbh_15",ee="_scrollableContent_1rgbh_51",se="_loginFormCard_1rgbh_93",te="_appTitle_1rgbh_129",oe="_shortcutIcon_1rgbh_189",re="_formFields_1rgbh_223",ae="_supportLink_1rgbh_237",ne="_errorMessage_1rgbh_279",ie="_formError_1rgbh_293",le="_pageFooter_1rgbh_335",ce="_footerSeparator_1rgbh_391",de="_modalBodyLayout_1rgbh_405",pe="_modalTextContent_1rgbh_413",he="_infoNote_1rgbh_449",t={viewportStack:$,scrollableContent:ee,loginFormCard:se,appTitle:te,shortcutIcon:oe,formFields:re,supportLink:ae,errorMessage:ne,formError:ie,pageFooter:le,footerSeparator:ce,modalBodyLayout:de,modalTextContent:pe,infoNote:he},je=()=>{const[o,c]=r.useState(""),[i,f]=r.useState(""),[l,p]=r.useState(""),[n,h]=r.useState(""),[m,u]=r.useState(""),[k,g]=r.useState(!1),[j,_]=r.useState(!1),[C,A]=r.useState(!1),w=T(Z),b=T(Y),S=r.useRef(null);G({containerRef:S,offset:20});const L=s=>{s.preventDefault(),_(!0),p(""),h(""),u("");let y=!1;if(o.trim()===""&&(p("Username is required."),y=!0),i.trim()===""&&(h("Password is required."),y=!0),y)return;if(i.trim()!=="test"){u("Incorrect username or password.");return}const N=I(o.trim());N?(b({type:"RESET_DATA"}),w({isAuthenticated:!0,user:N})):u("Incorrect username or password.")},M=()=>{A(!0);const s=I("dthompson");s&&(b({type:"RESET_DATA"}),w({isAuthenticated:!0,user:s}))},P=s=>{c(s),l&&p(""),m&&u("")},R=s=>{f(s),n&&h(""),m&&u("")},v={x:[0,-8,8,-8,8,0],transition:{duration:.4}},D={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08,delayChildren:.15}}},x={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.25}}};return e.jsxs(e.Fragment,{children:[e.jsx(a.div,{className:t.viewportStack,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},children:e.jsxs("div",{className:t.scrollableContent,ref:S,children:[e.jsxs("div",{className:t.loginFormCard,children:[e.jsxs("div",{className:t.appTitle,children:[e.jsx(a.div,{layoutId:C?void 0:"app-logo",children:e.jsx(J,{size:144,className:t.shortcutIcon,onClick:M,title:"Developer Shortcut Login"})}),e.jsx(a.h3,{layoutId:C?void 0:"app-title",children:"Safeguard"})]}),e.jsxs(a.form,{onSubmit:L,className:t.formFields,noValidate:!0,variants:D,initial:"hidden",animate:"visible",children:[e.jsx(a.div,{animate:j&&m?v:{},onAnimationComplete:()=>_(!1),children:m&&e.jsxs("div",{className:t.formError,children:[e.jsx(K,{size:20}),e.jsx("span",{children:m})]})}),e.jsxs(a.div,{variants:x,animate:j&&l?v:{},children:[e.jsx(F,{type:"text",placeholder:"Username","aria-label":"Username",value:o,onChange:s=>P(s.target.value),isInvalid:!!l,autoFocus:!0}),l&&e.jsx("div",{className:t.errorMessage,children:l})]}),e.jsxs(a.div,{variants:x,animate:j&&n?v:{},children:[e.jsx(F,{type:"password",placeholder:"Password","aria-label":"Password",value:i,onChange:s=>R(s.target.value),isInvalid:!!n}),n&&e.jsx("div",{className:t.errorMessage,children:n})]}),e.jsx(a.div,{variants:x,children:e.jsx(E,{type:"submit",variant:"primary",size:"m",style:{width:"100%",marginTop:"8px"},children:"Log In"})}),e.jsx(a.div,{variants:x,className:t.supportLink,children:e.jsx("button",{type:"button",onClick:()=>g(!0),children:"Trouble signing in?"})})]})]}),e.jsxs("footer",{className:t.pageFooter,children:[e.jsx("p",{children:"© Journal Technologies 2025."}),e.jsxs("p",{children:[e.jsx("a",{href:"#",onClick:s=>s.preventDefault(),children:"Privacy Policy"}),e.jsx("span",{className:t.footerSeparator,children:"·"}),e.jsx("a",{href:"#",onClick:s=>s.preventDefault(),children:"Terms of Use"})]})]})]})},"login-view"),e.jsxs(d,{isOpen:k,onClose:()=>g(!1),title:"How to Sign In",width:"90%",height:"auto",description:"Information on how to sign in to the prototype application.",children:[e.jsx(d.Content,{children:e.jsx("div",{className:t.modalBodyLayout,children:e.jsxs("div",{className:t.modalTextContent,children:[e.jsx("h3",{children:"How to Sign In"}),e.jsx("p",{children:"To sign-in, use your eSeries credentials. To change your password, go to eSeries and select reset password."}),e.jsxs("div",{className:t.infoNote,"data-appearance-type":"tertiary","data-bordered":"true",children:[e.jsx("h4",{children:"Password & Account Help"}),e.jsxs("ul",{children:[e.jsx("li",{children:"This prototype does not support actual password resets."}),e.jsx("li",{children:"In a production environment, this section would contain agency-specific instructions or links to a self-service portal."})]})]})]})})}),e.jsx(d.Footer,{children:e.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:e.jsx(E,{variant:"secondary",onClick:()=>g(!1),style:{width:"100%"},children:"Close"})})})]})]})};export{je as LoginView};
